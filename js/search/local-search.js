"use strict";function _toConsumableArray(J){return _arrayWithoutHoles(J)||_iterableToArray(J)||_unsupportedIterableToArray(J)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(J,U){var e;if(J)return"string"==typeof J?_arrayLikeToArray(J,U):"Map"===(e="Object"===(e=Object.prototype.toString.call(J).slice(8,-1))&&J.constructor?J.constructor.name:e)||"Set"===e?Array.from(J):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(J,U):void 0}function _iterableToArray(J){if("undefined"!=typeof Symbol&&null!=J[Symbol.iterator]||null!=J["@@iterator"])return Array.from(J)}function _arrayWithoutHoles(J){if(Array.isArray(J))return _arrayLikeToArray(J)}function _arrayLikeToArray(J,U){(null==U||U>J.length)&&(U=J.length);for(var e=0,t=new Array(U);e<U;e++)t[e]=J[e];return t}window.addEventListener("load",function(){function J(){var J;document.body.style.cssText="width: 100%;overflow: hidden",document.querySelector("#local-search .search-dialog").style.display="block",document.querySelector("#local-search-input input").focus(),btf.fadeIn(document.getElementById("search-mask"),.5),e||(J=GLOBAL_CONFIG.localSearch.path,fetch(GLOBAL_CONFIG.root+J).then(function(J){return J.text()}).then(function(J){return(new window.DOMParser).parseFromString(J,"text/xml")}).then(function(J){var U=_toConsumableArray(J.querySelectorAll("entry")).map(function(J){return{title:J.querySelector("title").textContent,content:J.querySelector("content").textContent,url:J.querySelector("url").textContent}}),J=document.querySelector("#local-search-input input"),e=document.getElementById("local-search-results");J.addEventListener("input",function(){var J,i,s='<div class="search-result-list">',h=this.value.trim().toLowerCase().split(/[\s]+/);e.innerHTML="",this.value.trim().length<=0||(window.closeSearch=t,"help"==h?(J=s,IsPC()&&(s+='<span class="inline-tag red">mactype(字体增强)</span>'),J==s&&(s+="暂时找不到任何帮助！")):IsPC()&&"mactype"==h?s+='<div class="local-search__hit-item"><a href="javascript:void(0)" onclick="window.open_mactype();window.closeSearch();">开启字体增强（仅限电脑端）</a></div><div class="local-search__hit-item"><a href="javascript:void(0)" onclick="window.close_mactype();window.closeSearch();">关闭字体增强</a></div>':"zj"==h?s+='<span class="dyhideonnight">'+decodeURIComponent(atob("JUU4JUJGJTk5JUU2JTk4JUFGJUU0JUI4JUFBJUU3JUE3JTk4JUU1JUFGJTg2JUVGJUJDJTgx"))+'</span><span class="dyhideonlight">'+decodeURIComponent(atob("JUU0JUJBJThFJUU2JTg4JTkxJUU4JTgwJThDJUU4JUE4JTgwJUU1JUE1JUI5JUU1JTgzJThGJUU2JTk4JUFGJUU2JUI1JUI3JUU1JUI4JTgyJUU4JTlDJTgzJUU2JUE1JUJDJUVGJUJDJThDJUU3JTlDJTlGJUU1JUFFJTlFJUU1JUFEJTk4JUU1JTlDJUE4JUU1JThEJUI0JUU1JThGJTg4JUU2JTk4JUFGJUU1JUI5JUJCJUU4JUIxJUExJUUzJTgwJTgyJUU1JUE0JTlBJUU1JUI5JUI0JUU1JTg5JThEJUU0JUI4JTgwJUU0JUI4JUFBJUU3JUE3JThCJUU1JUE0JUE5JUU4JTkwJUJEJUU1JThGJUI2JUU3JUJBJUI3JUU5JUEzJTlFJUU3JTlBJTg0JUU1JTgyJThEJUU2JTk5JTlBJUVGJUJDJThDJUU2JTk0JUJFJUU1JUFEJUE2JUU1JTg4JUIwJUU1JUFFJUI2JUU1JUE0JUI0JUU5JUExJUI2JUU2JUFEJUEzJUU1JUE1JUJEJUU5JTgxJTg3JUU1JTg4JUIwJUU0JUI4JUE0JUU4JUExJThDJUU1JThEJTk3JUU1JThFJUJCJUU3JTlBJTg0JUU1JUE0JUE3JUU5JTlCJTgxJUVGJUJDJThDJUU2JTg4JTkxJUU2JUIzJUE4JUU4JUE3JTg2JUU3JTlEJTgwJUU1JUFFJTgzJUU0JUJCJUFDJUU2JUI2JTg4JUU1JUE0JUIxJUU1JTlDJUE4JUU1JUE0JUE5JUU5JTk5JTg1JUVGJUJDJThDJUU5JTgyJUEzJUU2JTk3JUI2JUU4JUJGJTk4JUU2JUIyJUExJUU2JTlDJTg5JUU1JTg4JUIwJUU1JUFGJUI5JUU2JTlDJUFBJUU2JTlEJUE1JUU1JTg1JTg1JUU2JUJCJUExJUU4JUJGJUI3JUU2JTgzJTk4JUU3JTlBJTg0JUU1JUI5JUI0JUU3JUJBJUFBJUVGJUJDJThDJUU1JThGJUFBJUU5JTgxJTkzJUU2JTk4JUFGJUU1JUE0JUE5JUU1JTg3JTg5JUU1JUE1JUJEJUU0JUI4JUFBJUU3JUE3JThCJUUzJTgwJTgyJUU1JUE2JTgyJUU0JUJCJThBJUU2JUI1JUI3JUU1JUI4JTgyJUU4JTlDJTgzJUU2JUE1JUJDJUU0JUI5JTlGJUU1JThEJUIzJUU1JUIwJTg2JUU4JTkwJUJEJUU1JUI5JTk1JUVGJUJDJThDJUU1JTk2JTlEJUU0JUI4JTgwJUU1JThGJUEzJUU1JUIwJThGJUU5JTg1JTkyJUVGJUJDJThDJUU2JTg5JThEJUU3JTlDJTlGJUU3JTlBJTg0JUU2JTg0JTlGJUU1JThGJUI5JUU1JUI5JUI0JUU1JThEJThFJUU2JTk4JTkzJUU5JTgwJTlEJUVGJUJDJThDJUU4JTg3JUFBJUU1JUI3JUIxJUU0JUJCJTgwJUU0JUI5JTg4JUU0JUI5JTlGJUU2JThBJTkzJUU0JUI4JThEJUU0JUJEJThGJUUzJTgwJTgyJUU0JUJBJThDJUU1JThEJTgxJUU0JUJBJTk0JUU1JUI5JUI0JUU3JTlBJTg0JUU1JTg1JTg5JUU5JTk4JUI0JUVGJUJDJThDJUU3JUFCJTlGJUU2JTg5JUJFJUU0JUI4JThEJUU1JTg4JUIwJUU0JUI4JTgwJUU0JUI4JUFBJUU2JTk3JUE3JUU2JTk3JUI2JUU3JTlBJTg0JUU0JUJBJUJBJUVGJUJDJThDJUU1JTg2JThEJUU4JUJGJTg3JUU0JUJBJThDJUU1JThEJTgxJUU0JUJBJTk0JUU1JUI5JUI0JUVGJUJDJThDJUU2JTgxJTkwJUU2JTgwJTk1JUU0JUJFJTlEJUU3JTg0JUI2JUU2JUIyJUExJUU2JTlDJTg5JTIwJTQwMjAyMS45LjIw"))+"</span>":(i=0,U.forEach(function(J){var e,U,t,r,a=!0,n=(J.title&&""!==J.title.trim()||(J.title="Untitled"),J.title.trim().toLowerCase()),T=J.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),o=J.url.startsWith("/")?J.url:GLOBAL_CONFIG.root+J.url,l=-1,c=-1;""!==n||""!==T?h.forEach(function(J,U){e=n.indexOf(J),l=T.indexOf(J),e<0&&l<0?a=!1:(l<0&&(l=0),0===U&&(c=l))}):a=!1,a&&(J=J.content.trim().replace(/<[^>]+>/g,""),0<=c&&(t=c+100,(t=0===(U=(U=c-30)<0?0:U)?100:t)>J.length&&(t=J.length),r=J.substring(U,t),h.forEach(function(J){var U=new RegExp(J,"gi");r=r.replace(U,'<span class="search-keyword">'+J+"</span>"),n=n.replace(U,'<span class="search-keyword">'+J+"</span>")}),s+='<div class="local-search__hit-item"><a href="'+o+'" class="search-result-title">'+n+"</a>",i+=1,""!==T)&&(s+='<p class="search-result">'+r+"...</p>"),s+="</div>")}),0===i&&(s+='<div id="local-search__hits-empty">'+GLOBAL_CONFIG.localSearch.languages.hits_empty.replace(/\$\{query}/,this.value.trim())+"</div>")),s+="</div>",e.innerHTML=s,window.pjax&&window.pjax.refresh(e))})}),e=!0)}function t(){document.body.style.cssText="width: '';overflow: ''";var J=document.querySelector("#local-search .search-dialog");J.style.animation="search_close .5s",J.style.cssText="display: none; animation: ''",btf.fadeOut(document.getElementById("search-mask"),.5)}function U(){null!=document.querySelector("#search-button > .search")&&(document.querySelector("#search-button > .search").addEventListener("click",J),document.getElementById("search-mask").addEventListener("click",t),document.querySelector("#local-search .search-close-button").addEventListener("click",t))}var e=!1;U(),window.addEventListener("pjax:complete",function(){"block"===getComputedStyle(document.querySelector("#local-search .search-dialog")).display&&t(),U()})});