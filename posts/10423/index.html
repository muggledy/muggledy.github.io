<!DOCTYPE html><html class="hide-aside" lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Numpy基础教程 | Muggledy's Blog</title><meta name="robots" content="noindex"><meta name="author" content="Muggledy"><meta name="copyright" content="Muggledy"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content=".note.simple{     padding-left: 1rem; } a.dygreylink{     color: #4c4948 !important; } a.dygreylink:hover{     color: #49b1f5 !important; } .table-wrap {     margin: 0 0 0rem; }  考研那年年末（2018.12.26-20"><meta property="og:type" content="article"><meta property="og:title" content="Numpy基础教程"><meta property="og:url" content="https://muggledy.github.io/posts/10423/index.html"><meta property="og:site_name" content="Muggledy&#39;s Blog"><meta property="og:description" content=".note.simple{     padding-left: 1rem; } a.dygreylink{     color: #4c4948 !important; } a.dygreylink:hover{     color: #49b1f5 !important; } .table-wrap {     margin: 0 0 0rem; }  考研那年年末（2018.12.26-20"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/celestezj/ImageHosting/compress/10.jpg"><meta property="article:published_time" content="2021-04-21T12:25:45.000Z"><meta property="article:modified_time" content="2021-05-30T03:06:11.461Z"><meta property="article:author" content="Muggledy"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/celestezj/ImageHosting/compress/10.jpg"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/celestezj/ImageHosting/img/20210207091812.png"><link rel="canonical" href="https://muggledy.github.io/posts/10423/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/muggledy/muggledy.github.io@v1.9/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"search.xml",languages:{hits_empty:"找不到您查询的内容：${query}"}},translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"簡"},noticeOutdate:{limitDay:500,position:"top",messagePrev:"这篇文章已经发表了",messageNext:"天了，其中某些内容可能已经过时。"},highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:{limitCount:50,languages:{author:"作者: Muggledy",link:"链接: ",source:"来源: Muggledy's Blog",info:"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},lightbox:"fancybox",Snackbar:void 0,source:{jQuery:"https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js",justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js",css:"https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css"},fancybox:{js:"https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js",css:"https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"}},isPhotoFigcaption:!0,islazyload:!1,isanchor:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={isPost:!0,isHome:!1,isHighlightShrink:!0,isToc:!0,postUpdate:"2021-05-30 11:06:11"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const a=864e5*o,n={value:t,expiry:(new Date).getTime()+a};localStorage.setItem(e,JSON.stringify(n))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise((t,o)=>{const a=document.createElement("script");a.src=e,a.async=!0,a.onerror=o,a.onload=a.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme"),o=(new Date).getHours();void 0===t?o<=6||o>=18?activateDarkMode():activateLightMode():"light"===t?activateLightMode():activateDarkMode();const a=saveToLocal.get("aside-status");void 0!==a&&("hide"===a?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"))})(window)</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/muggledy/muggledy.github.io@v1.9/css/mystyle.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/celestezj/ImageHosting/data/font_awesome/font-awesome-animation.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/celestezj/ImageHosting/data/button/buttons.min.css"><script src="https://cdn.jsdelivr.net/gh/celestezj/ImageHosting@v0.2/data/katong_font/katong-font.js"></script><script src="https://cdn.jsdelivr.net/gh/celestezj/ImageHosting@v0.9/data/img_preview/article_img_preview.js"></script><script src="https://cdn.jsdelivr.net/gh/celestezj/ImageHosting@v1.0/data/bubble/bubble.js"></script><script src="https://cdn.staticfile.org/moment.js/2.24.0/moment.js"></script><script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script><script src="https://cdn.jsdelivr.net/gh/celestezj/ImageHosting/data/is_pc/is-pc.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-card-history/baiduhistory/css/main.css"><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Muggledy's Blog" type="application/atom+xml"></head><div class="dyminibox"></div><body><div class="dy-show-cbg" id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/celestezj/ImageHosting@v0.1/img/20210202152223.jpg" onerror='onerror=null,src="https://cdn.jsdelivr.net/gh/celestezj/ImageHosting/img/20210328224511.gif"' alt="avatar"></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">2</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">1</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-book"></i> <span>文章</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="fa-fw fas fa-archive faa-tada"></i> <span>归档</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="fa-fw fas fa-tags faa-tada"></i> <span>标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="fa-fw fas fa-folder-open faa-tada"></i> <span>分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart card-announcement-animation"></i> <span>关于</span></a></div><div class="menus_item"><a class="site-page" href="/note/"><i class="fa-fw fas fa-bullhorn"></i> <span>公示</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友链</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-list"></i> <span>更多</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/gallery/"><i class="fa-fw fas fa-image faa-tada"></i> <span>图册</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/movies/"><i class="fa-fw fas fa-video faa-tada"></i> <span>电影</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(https://cdn.jsdelivr.net/gh/celestezj/ImageHosting/compress/10.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Muggledy's Blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw faa-wrench animated"></i> <span>搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-book"></i> <span>文章</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="fa-fw fas fa-archive faa-tada"></i> <span>归档</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="fa-fw fas fa-tags faa-tada"></i> <span>标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="fa-fw fas fa-folder-open faa-tada"></i> <span>分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart card-announcement-animation"></i> <span>关于</span></a></div><div class="menus_item"><a class="site-page" href="/note/"><i class="fa-fw fas fa-bullhorn"></i> <span>公示</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友链</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-list"></i> <span>更多</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/gallery/"><i class="fa-fw fas fa-image faa-tada"></i> <span>图册</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/movies/"><i class="fa-fw fas fa-video faa-tada"></i> <span>电影</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Numpy基础教程</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-04-21T12:25:45.000Z" title="发表于 2021-04-21 20:25:45">2021-04-21</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-05-30T03:06:11.461Z" title="更新于 2021-05-30 11:06:11">2021-05-30</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">9.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>42分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="Numpy基础教程"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/posts/10423/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/posts/10423/" itemprop="commentCount"></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><style>.note.simple{padding-left:1rem}a.dygreylink{color:#4c4948!important}a.dygreylink:hover{color:#49b1f5!important}.table-wrap{margin:0 0 0}</style><div class="note info flat"><p>考研那年年末（2018.12.26-2019.1.21）对numpy和matplotlib进行了系统的学习，该文档主要基于那时的笔记以及后来的一些增补。直到去年还能非常熟练地使用numpy库，现在很多都已经忘记了，这破脑子</p></div><p>Numpy主要提供了同构（所有元素类型相同）多维（维度也被称为“轴”）数组对象<code>ndarray</code>，具有矢量化运算能力，除了支持多维数组与矩阵运算，此外还针对数组运算提供大量的数学函数库</p><p>首先看看核心对象<code>ndarray</code>的主要属性：</p><ul><li><code>ndim</code>：轴的数量，即数组维数</li><li><code>shape</code>：数组的形状，一个整数元组，长度即为数组维数，从左到右依次是每个维度的轴长，譬如一个<code>n</code>行<code>m</code>列的矩阵，其形状为<code>(n,m)</code>，表示第0维（轴）的长度为<code>n</code>、第1维（轴）的长度为<code>m</code></li><li><code>dtype</code>：数组元素类型，如<code>np.int32</code>、<code>np.int16</code>和<code>np.float64</code>（<code>np</code>是<code>numpy</code>的缩写）</li><li><code>itemsize</code>：数组元素大小，以字节为单位，如元素为<code>float64</code>类型的数组<code>itemsize</code>为8（64/8，一个字节占8位），而<code>complex32</code>类型的数组<code>itemsize</code>为4（32/8），其等于<code>ndarray.dtype.itemsize</code></li><li><code>flags</code>：数组的<a target="_blank" rel="noopener external nofollow noreferrer" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.flags.html" class="dygreylink">内存布局</a>信息</li><li><code>strides</code>：跨度元组，其中的整数是指为了前进到当前维度下一个元素需要“跨过”的字节数</li><li><code>real</code>和<code>imag</code>：分别是数组的实部和虚部</li><li><code>flat</code>：数组的元素迭代器，返回一个<code>flatiter</code>对象</li><li><code>T</code>：数组转置，仅针对二维数组（或矩阵<code>matrix</code>对象）</li></ul><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span>数据类型</span></div><div class="hide-content"><p>内置数据类型包括（括号中是数据类型的格式字符或格式字符串）：<br><code>np.bool</code>（<code>?</code>或<code>b1</code>）、<code>np.int</code>（默认为<code>np.int32</code>）、<code>np.int8</code>（<code>b</code>或<code>i1</code>或<code>int8</code>）、<code>np.int16</code>（<code>h</code>或<code>i2</code>或<code>int16</code>）、<code>np.int32</code>（<code>i</code>或<code>i4</code>或<code>int32</code>）、<code>np.int64</code>（<code>q</code>或<code>i8</code>或<code>int64</code>）、<code>np.uint8</code>（<code>B</code>或<code>u1</code>或<code>uint8</code>）、<code>np.uint16</code>（<code>H</code>或<code>u2</code>或<code>uint16</code>）、<code>np.uint32</code>（<code>I</code>或<code>u4</code>或<code>uint32</code>）、<code>np.uint64</code>（<code>Q</code>或<code>u8</code>或<code>uint64</code>）、<code>np.float</code>（默认为<code>np.float64</code>）、<code>np.float16</code>（<code>e</code>或<code>f2</code>或<code>float16</code>）、<code>np.float32</code>（<code>f</code>或<code>f4</code>或<code>float32</code>）、<code>np.float64</code>（<code>d</code>或<code>f8</code>或<code>float64</code>）、<code>np.complex</code>（默认为<code>np.complex128</code>）、<code>np.complex64</code>（<code>F</code>或<code>c8</code>或<code>complex64</code>）、<code>np.complex128</code>（<code>D</code>或<code>c16</code>或<code>complex128</code>）、<code>np.str</code>（<code>a</code>或<code>S</code>，可以在<code>a</code>或<code>S</code>后面添加数字，表示字符串长度，比如<code>S3</code>表示长度为三的字符串，不写则为最大长度）、<code>np.unicode</code>（<code>U</code>）、<code>np.object</code>（<code>O</code>）、<code>np.void</code>（<code>V</code>）。可以用格式字符（串）作为<code>np.dtype()</code>的参数来创建相应的数据类型对象，或作为<code>np.array()</code>等函数的参数用于创建数组对象，譬如<code>np.dtype('i1')==np.int8</code>、<code>np.array([1,2,3,4],dtype='d')</code></p><p>注：可以通过<code>np.sctypeDict.keys()</code>获取所有的字符代码，<code>dtype</code>对象有一个<code>char</code>属性用于获取对应的字符代码（另见<code>str</code>属性），还有一个<code>type</code>属性获取对应的数据类型</p><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span>自定义结构化数据类型</span></div><div class="hide-content"><p>Numpy允许我们自定义结构化数据类型和结构化数组对象（<a target="_blank" rel="noopener external nofollow noreferrer" href="https://numpy.org/doc/stable/user/basics.rec.html" class="dygreylink">numpy structured arrays</a>），这些数组既可以通过标签索引也可以通过命名字段索引，看一个简单的示例：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=np.array([[[(<span class="string">&#x27;a&#x27;</span>,<span class="number">1</span>),(<span class="string">&#x27;b&#x27;</span>,<span class="number">2</span>),(<span class="string">&#x27;c&#x27;</span>,<span class="number">3</span>)],[(<span class="string">&#x27;d&#x27;</span>,<span class="number">4</span>),(<span class="string">&#x27;e&#x27;</span>,<span class="number">5</span>),(<span class="string">&#x27;f&#x27;</span>,<span class="number">6</span>)],[(<span class="string">&#x27;g&#x27;</span>,<span class="number">7</span>),(<span class="string">&#x27;h&#x27;</span>,<span class="number">8</span>),(<span class="string">&#x27;i&#x27;</span>,<span class="number">9</span>)]],[[(<span class="string">&#x27;j&#x27;</span>,<span class="number">10</span>),(<span class="string">&#x27;k&#x27;</span>,<span class="number">11</span>),(<span class="string">&#x27;l&#x27;</span>,<span class="number">12</span>)],[(<span class="string">&#x27;m&#x27;</span>,<span class="number">13</span>),(<span class="string">&#x27;n&#x27;</span>,<span class="number">14</span>),(<span class="string">&#x27;o&#x27;</span>,<span class="number">15</span>)],[(<span class="string">&#x27;p&#x27;</span>,<span class="number">16</span>),(<span class="string">&#x27;q&#x27;</span>,<span class="number">17</span>),(<span class="string">&#x27;r&#x27;</span>,<span class="number">18</span>)]]],dtype=[(<span class="string">&#x27;char&#x27;</span>,<span class="string">&#x27;S3&#x27;</span>),(<span class="string">&#x27;int&#x27;</span>,np.<span class="built_in">int</span>)])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.shape</span><br><span class="line">(<span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.dtype</span><br><span class="line">dtype([(<span class="string">&#x27;char&#x27;</span>, <span class="string">&#x27;S3&#x27;</span>), (<span class="string">&#x27;int&#x27;</span>, <span class="string">&#x27;&lt;i4&#x27;</span>)])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">1</span>]</span><br><span class="line">array([[(<span class="string">b&#x27;j&#x27;</span>, <span class="number">10</span>), (<span class="string">b&#x27;k&#x27;</span>, <span class="number">11</span>), (<span class="string">b&#x27;l&#x27;</span>, <span class="number">12</span>)],</span><br><span class="line">       [(<span class="string">b&#x27;m&#x27;</span>, <span class="number">13</span>), (<span class="string">b&#x27;n&#x27;</span>, <span class="number">14</span>), (<span class="string">b&#x27;o&#x27;</span>, <span class="number">15</span>)],</span><br><span class="line">       [(<span class="string">b&#x27;p&#x27;</span>, <span class="number">16</span>), (<span class="string">b&#x27;q&#x27;</span>, <span class="number">17</span>), (<span class="string">b&#x27;r&#x27;</span>, <span class="number">18</span>)]],</span><br><span class="line">      dtype=[(<span class="string">&#x27;char&#x27;</span>, <span class="string">&#x27;S3&#x27;</span>), (<span class="string">&#x27;int&#x27;</span>, <span class="string">&#x27;&lt;i4&#x27;</span>)])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>_.shape</span><br><span class="line">(<span class="number">3</span>, <span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>] <span class="comment">#等同于a[1][1][1]</span></span><br><span class="line">(<span class="string">b&#x27;n&#x27;</span>, <span class="number">14</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c=a[<span class="string">&#x27;char&#x27;</span>] <span class="comment">#切片和索引得到的可变对象都是浅拷贝，所以对c的修改将如实反映在a中</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c</span><br><span class="line">array([[[<span class="string">b&#x27;a&#x27;</span>, <span class="string">b&#x27;b&#x27;</span>, <span class="string">b&#x27;c&#x27;</span>],</span><br><span class="line">        [<span class="string">b&#x27;d&#x27;</span>, <span class="string">b&#x27;e&#x27;</span>, <span class="string">b&#x27;f&#x27;</span>],</span><br><span class="line">        [<span class="string">b&#x27;g&#x27;</span>, <span class="string">b&#x27;h&#x27;</span>, <span class="string">b&#x27;i&#x27;</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="string">b&#x27;j&#x27;</span>, <span class="string">b&#x27;k&#x27;</span>, <span class="string">b&#x27;l&#x27;</span>],</span><br><span class="line">        [<span class="string">b&#x27;m&#x27;</span>, <span class="string">b&#x27;n&#x27;</span>, <span class="string">b&#x27;o&#x27;</span>],</span><br><span class="line">        [<span class="string">b&#x27;p&#x27;</span>, <span class="string">b&#x27;q&#x27;</span>, <span class="string">b&#x27;r&#x27;</span>]]], dtype=<span class="string">&#x27;|S3&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c.shape</span><br><span class="line">(<span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c[<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>]=<span class="string">&#x27;dy&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>]</span><br><span class="line">(<span class="string">b&#x27;dy&#x27;</span>, <span class="number">14</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="string">&#x27;int&#x27;</span>]</span><br><span class="line">array([[[ <span class="number">1</span>,  <span class="number">2</span>,  <span class="number">3</span>],</span><br><span class="line">        [ <span class="number">4</span>,  <span class="number">5</span>,  <span class="number">6</span>],</span><br><span class="line">        [ <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>],</span><br><span class="line">        [<span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>],</span><br><span class="line">        [<span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>]]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>_.dtype</span><br><span class="line">dtype(<span class="string">&#x27;int32&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">0</span>][<span class="string">&#x27;int&#x27;</span>]</span><br><span class="line">array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">       [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>],</span><br><span class="line">       [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[[<span class="string">&#x27;int&#x27;</span>,<span class="string">&#x27;char&#x27;</span>]] <span class="comment">#可以使用字段名称列表一次访问多个字段，类似于花式索引</span></span><br><span class="line">array([[[( <span class="number">1</span>, <span class="string">b&#x27;a&#x27;</span>), ( <span class="number">2</span>, <span class="string">b&#x27;b&#x27;</span>), ( <span class="number">3</span>, <span class="string">b&#x27;c&#x27;</span>)],</span><br><span class="line">        [( <span class="number">4</span>, <span class="string">b&#x27;d&#x27;</span>), ( <span class="number">5</span>, <span class="string">b&#x27;e&#x27;</span>), ( <span class="number">6</span>, <span class="string">b&#x27;f&#x27;</span>)],</span><br><span class="line">        [( <span class="number">7</span>, <span class="string">b&#x27;g&#x27;</span>), ( <span class="number">8</span>, <span class="string">b&#x27;h&#x27;</span>), ( <span class="number">9</span>, <span class="string">b&#x27;i&#x27;</span>)]],</span><br><span class="line"></span><br><span class="line">       [[(<span class="number">10</span>, <span class="string">b&#x27;j&#x27;</span>), (<span class="number">11</span>, <span class="string">b&#x27;k&#x27;</span>), (<span class="number">12</span>, <span class="string">b&#x27;l&#x27;</span>)],</span><br><span class="line">        [(<span class="number">13</span>, <span class="string">b&#x27;m&#x27;</span>), (<span class="number">14</span>, <span class="string">b&#x27;n&#x27;</span>), (<span class="number">15</span>, <span class="string">b&#x27;o&#x27;</span>)],</span><br><span class="line">        [(<span class="number">16</span>, <span class="string">b&#x27;p&#x27;</span>), (<span class="number">17</span>, <span class="string">b&#x27;q&#x27;</span>), (<span class="number">18</span>, <span class="string">b&#x27;r&#x27;</span>)]]],</span><br><span class="line">      dtype=[(<span class="string">&#x27;int&#x27;</span>, <span class="string">&#x27;&lt;i4&#x27;</span>), (<span class="string">&#x27;char&#x27;</span>, <span class="string">&#x27;S3&#x27;</span>)])</span><br></pre></td></tr></table></figure><p>上面这个数组<code>a</code>的形状是<code>(2,3,3)</code>，只不过每一个元素都是结构化数据，其由两个字段构成，字段名称分别为<code>char</code>和<code>int</code>，类型分别为“长度为3的字符串”和“32位整数”，可以像访问字典那样将某一字段的数据从结构化数组中剥离出来，如<code>a['int']</code>，也可以同时访问多个字段，如<code>a[['int','char']]</code>。结构化数据类型同样可以用于创建特定数组，譬如：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>z=np.zeros(<span class="number">3</span>,dtype=np.dtype([(<span class="string">&#x27;first&#x27;</span>,<span class="string">&#x27;i4&#x27;</span>),(<span class="string">&#x27;second&#x27;</span>,<span class="string">&#x27;f&#x27;</span>)]))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z</span><br><span class="line">array([(<span class="number">0</span>, <span class="number">0.</span>), (<span class="number">0</span>, <span class="number">0.</span>), (<span class="number">0</span>, <span class="number">0.</span>)],</span><br><span class="line">      dtype=[(<span class="string">&#x27;first&#x27;</span>, <span class="string">&#x27;&lt;i4&#x27;</span>), (<span class="string">&#x27;second&#x27;</span>, <span class="string">&#x27;&lt;f4&#x27;</span>)])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z.shape</span><br><span class="line">(<span class="number">3</span>,)</span><br></pre></td></tr></table></figure><p>上述结构化数据类型的定义形如<code>[(字段名,类型),...]</code>（二元组列表），其中“类型”既可以是<code>dtype</code>对象，也可以是类型格式字符（串），且类型格式字符（串）前面还可以添加可选的“形状”信息，用于描述数组形状，换句话说，字段类型除了可以是整型、布尔型、字符串、复数类型等外，还可以是数组类型，譬如：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>z=np.zeros(<span class="number">3</span>,dtype=np.dtype([(<span class="string">&#x27;first&#x27;</span>,<span class="string">&#x27;(2,3)i4&#x27;</span>),(<span class="string">&#x27;second&#x27;</span>,<span class="string">&#x27;f&#x27;</span>)]))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z.shape</span><br><span class="line">(<span class="number">3</span>,)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z[<span class="string">&#x27;first&#x27;</span>]</span><br><span class="line">array([[[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">        [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>_.shape</span><br><span class="line">(<span class="number">3</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure><p>事实上，还有其他三种定义结构化数据类型的方式：</p><ul><li><p>以逗号分隔的类型格式字符串<br>每个类型字符串各自代表一个字段，但是此种情况下无法自由指定字段名，默认的字段名为<code>f0</code>、<code>f1</code>、…，譬如：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>z=np.zeros(<span class="number">3</span>,dtype=<span class="string">&#x27;3int8, float32, (2,3)float64&#x27;</span>) <span class="comment">#包含三个字段，字段1为(3,)形单字节整数类型数组，字段2为32位浮点数，字段3为(2,3)形64位浮点数类型数组</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z.shape</span><br><span class="line">(<span class="number">3</span>,)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z[<span class="string">&#x27;f0&#x27;</span>]</span><br><span class="line">array([[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">       [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">       [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]], dtype=int8)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z[<span class="string">&#x27;f1&#x27;</span>]</span><br><span class="line">array([<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>], dtype=float32)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z[<span class="string">&#x27;f2&#x27;</span>]</span><br><span class="line">array([[[<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">        [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">        [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">        [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>]]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>_.dtype</span><br><span class="line">dtype(<span class="string">&#x27;float64&#x27;</span>)</span><br></pre></td></tr></table></figure></li><li><p>字典，形如<code>{'names':[字段名1,...],'formats':[类型1,...]}</code>：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>z=np.zeros(<span class="number">3</span>,&#123;<span class="string">&#x27;names&#x27;</span>:[<span class="string">&#x27;first&#x27;</span>,<span class="string">&#x27;second&#x27;</span>],<span class="string">&#x27;formats&#x27;</span>:[np.float32,<span class="string">&#x27;2i4&#x27;</span>]&#125;)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z.shape</span><br><span class="line">(<span class="number">3</span>,)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z.dtype</span><br><span class="line">dtype([(<span class="string">&#x27;first&#x27;</span>, <span class="string">&#x27;&lt;f4&#x27;</span>), (<span class="string">&#x27;second&#x27;</span>, <span class="string">&#x27;&lt;i4&#x27;</span>, (<span class="number">2</span>,))])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z[<span class="string">&#x27;first&#x27;</span>]</span><br><span class="line">array([<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>], dtype=float32)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z[<span class="string">&#x27;second&#x27;</span>]</span><br><span class="line">array([[<span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">       [<span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">       [<span class="number">0</span>, <span class="number">0</span>]])</span><br></pre></td></tr></table></figure></li><li><p>这个似乎比较特殊，我也不知道具体有什么应用，看个例子吧：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>z=np.zeros(<span class="number">3</span>, dtype=(<span class="string">&#x27;i4&#x27;</span>,[(<span class="string">&#x27;b1&#x27;</span>,<span class="string">&#x27;u1&#x27;</span>), (<span class="string">&#x27;b2&#x27;</span>,<span class="string">&#x27;u1&#x27;</span>), (<span class="string">&#x27;b3&#x27;</span>,<span class="string">&#x27;u1&#x27;</span>), (<span class="string">&#x27;b4&#x27;</span>,<span class="string">&#x27;u1&#x27;</span>)]))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z.shape</span><br><span class="line">(<span class="number">3</span>,)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z</span><br><span class="line">array([<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">      dtype=(numpy.int32, [(<span class="string">&#x27;b1&#x27;</span>, <span class="string">&#x27;u1&#x27;</span>), (<span class="string">&#x27;b2&#x27;</span>, <span class="string">&#x27;u1&#x27;</span>), (<span class="string">&#x27;b3&#x27;</span>, <span class="string">&#x27;u1&#x27;</span>), (<span class="string">&#x27;b4&#x27;</span>, <span class="string">&#x27;u1&#x27;</span>)]))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z[<span class="string">&#x27;b1&#x27;</span>]</span><br><span class="line">array([<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>], dtype=uint8)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z[<span class="string">&#x27;b1&#x27;</span>]=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z[<span class="string">&#x27;b2&#x27;</span>]=[<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z</span><br><span class="line">array([<span class="number">2817</span>, <span class="number">3074</span>, <span class="number">3331</span>],</span><br><span class="line">      dtype=(numpy.int32, [(<span class="string">&#x27;b1&#x27;</span>, <span class="string">&#x27;u1&#x27;</span>), (<span class="string">&#x27;b2&#x27;</span>, <span class="string">&#x27;u1&#x27;</span>), (<span class="string">&#x27;b3&#x27;</span>, <span class="string">&#x27;u1&#x27;</span>), (<span class="string">&#x27;b4&#x27;</span>, <span class="string">&#x27;u1&#x27;</span>)]))</span><br></pre></td></tr></table></figure><p>简单解释一下，<code>('i4',[('b1','u1'), ('b2','u1'), ('b3','u1'), ('b4','u1')])</code>表示将一个4字节的整型划分成了四个部分，每部分都是一个单字节的无符号整型，分别对应字段<code>b1</code>（最低字节）、<code>b2</code>、<code>b3</code>、<code>b4</code>（最高字节），此时有<code>z[i]==(z['b4'][i]&lt;&lt;24)+(z['b3'][i]&lt;&lt;16)+(z['b2'][i]&lt;&lt;8)+z['b1'][i]</code>成立，以<code>z[1]</code>为例，<code>z['b1'][1]=2</code>（十进制的<code>2</code>对应二进制的<code>00000010</code>），<code>z['b2'][1]=12</code>（十进制的<code>12</code>对应二进制的<code>00001100</code>），<code>z['b3'][1]=0</code>（十进制的<code>0</code>对应二进制的<code>00000000</code>），<code>z['b4'][1]=0</code>（十进制的<code>0</code>对应二进制的<code>00000000</code>），于是将这四个字节拼接得到<code>00000000,00000000,00001100,00000010</code>，再转换成十进制即可得到<code>3074</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">0b00000000_00000000_00001100_00000010</span></span><br><span class="line"><span class="number">3074</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>i=<span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z[i]==(z[<span class="string">&#x27;b4&#x27;</span>][i]&lt;&lt;<span class="number">24</span>)+(z[<span class="string">&#x27;b3&#x27;</span>][i]&lt;&lt;<span class="number">16</span>)+(z[<span class="string">&#x27;b2&#x27;</span>][i]&lt;&lt;<span class="number">8</span>)+z[<span class="string">&#x27;b1&#x27;</span>][i]</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure><p>另外还可以这样定义：<code>z=np.zeros(3, dtype=('i4','u1,u1,u1,u1'))</code>、<code>z=np.zeros(3, dtype=('i4',{'names':['b1','b2','b3','b4'],'formats':['u1','u1','u1','u1']}))</code>，都是一样的</p></li></ul><p>可以通过<code>names</code>属性访问和修改结构化数据类型的字段名，还有一个类似于字典的<code>fields</code>只读属性，键名为字段名，非结构化数据类型的<code>names</code>和<code>fields</code>都是<code>None</code>，因而可以据此判断一个<code>dtype</code>对象是否是结构化数据类型：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d=np.dtype(<span class="string">&#x27;i1,f,S10&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.<span class="built_in">type</span></span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> &#x27;<span class="title">numpy</span>.<span class="title">void</span>&#x27;&gt;</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">d</span>.<span class="title">names</span></span></span><br><span class="line"><span class="class">(<span class="params"><span class="string">&#x27;f0&#x27;</span>, <span class="string">&#x27;f1&#x27;</span>, <span class="string">&#x27;f2&#x27;</span></span>)</span></span><br><span class="line">&gt;&gt;&gt; d.names=(&#x27;field1&#x27;,&#x27;field2&#x27;,&#x27;field3&#x27;)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d</span><br><span class="line">dtype([(<span class="string">&#x27;field1&#x27;</span>, <span class="string">&#x27;i1&#x27;</span>), (<span class="string">&#x27;field2&#x27;</span>, <span class="string">&#x27;&lt;f4&#x27;</span>), (<span class="string">&#x27;field3&#x27;</span>, <span class="string">&#x27;S10&#x27;</span>)])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.fields <span class="comment">#键值为字段类型和偏移量构成的元组，我也不知道这个偏移量是什么鬼，官方文档里我没有找到相关解释啊</span></span><br><span class="line">mappingproxy(&#123;<span class="string">&#x27;f0&#x27;</span>: (dtype(<span class="string">&#x27;int8&#x27;</span>), <span class="number">0</span>), <span class="string">&#x27;f1&#x27;</span>: (dtype(<span class="string">&#x27;float32&#x27;</span>), <span class="number">1</span>), <span class="string">&#x27;f2&#x27;</span>: (dtype(<span class="string">&#x27;S10&#x27;</span>), <span class="number">5</span>)&#125;)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.dtype(<span class="string">&#x27;i4&#x27;</span>).names <span class="keyword">is</span> <span class="literal">None</span></span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure><p>可以按行、按列或者按字段对结构化数组进行填充：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>z=np.zeros((<span class="number">2</span>,<span class="number">3</span>),dtype=[(<span class="string">&#x27;f1&#x27;</span>,<span class="string">&#x27;i4&#x27;</span>),(<span class="string">&#x27;f2&#x27;</span>,<span class="string">&#x27;f&#x27;</span>)])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z</span><br><span class="line">array([[(<span class="number">0</span>, <span class="number">0.</span>), (<span class="number">0</span>, <span class="number">0.</span>), (<span class="number">0</span>, <span class="number">0.</span>)],</span><br><span class="line">       [(<span class="number">0</span>, <span class="number">0.</span>), (<span class="number">0</span>, <span class="number">0.</span>), (<span class="number">0</span>, <span class="number">0.</span>)]], dtype=[(<span class="string">&#x27;f1&#x27;</span>, <span class="string">&#x27;&lt;i4&#x27;</span>), (<span class="string">&#x27;f2&#x27;</span>, <span class="string">&#x27;&lt;f4&#x27;</span>)])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z[<span class="number">0</span>]=[(<span class="number">1</span>,<span class="number">2</span>),(<span class="number">3</span>,<span class="number">4</span>),(<span class="number">5</span>,<span class="number">6</span>)] <span class="comment">#按行填充</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z[:,<span class="number">0</span>]=[(<span class="number">11</span>,<span class="number">12</span>),(<span class="number">13</span>,<span class="number">14</span>)] <span class="comment">#按列填充</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z[<span class="string">&#x27;f1&#x27;</span>]=[[<span class="number">21</span>,<span class="number">22</span>,<span class="number">23</span>],[<span class="number">24</span>,<span class="number">25</span>,<span class="number">26</span>]] <span class="comment">#按字段填充</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z[<span class="number">1</span>,<span class="number">1</span>]=(<span class="number">31</span>,<span class="number">32</span>) <span class="comment">#注意只能使用元组填充某一个元素而不能使用列表，否则报错ValueError: setting an array element with a sequence.</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z</span><br><span class="line">array([[(<span class="number">21</span>, <span class="number">12.</span>), (<span class="number">22</span>,  <span class="number">4.</span>), (<span class="number">23</span>,  <span class="number">6.</span>)],</span><br><span class="line">       [(<span class="number">24</span>, <span class="number">14.</span>), (<span class="number">31</span>, <span class="number">32.</span>), (<span class="number">26</span>,  <span class="number">0.</span>)]],</span><br><span class="line">      dtype=[(<span class="string">&#x27;f1&#x27;</span>, <span class="string">&#x27;&lt;i4&#x27;</span>), (<span class="string">&#x27;f2&#x27;</span>, <span class="string">&#x27;&lt;f4&#x27;</span>)])</span><br></pre></td></tr></table></figure><div class="note warning flat"><p>这里介绍的并不全面，实际上每个字段还可以指定偏移量和标题等（我也没大看懂，具体有什么用我也不知道），并且构造方式也不止上述几种形式，具体请参阅官方文档</p></div><p>创建结构化数组时需要注意的地方：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>L=[[[<span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, <span class="number">2</span>], [<span class="number">0</span>, <span class="number">3</span>]], [[<span class="number">1</span>, <span class="number">0</span>], [<span class="number">1</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">2</span>], [<span class="number">1</span>, <span class="number">3</span>]], [[<span class="number">2</span>, <span class="number">0</span>], [<span class="number">2</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">2</span>], [<span class="number">2</span>, <span class="number">3</span>]]]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>LT=[[(<span class="number">0</span>, <span class="number">0</span>), (<span class="number">0</span>, <span class="number">1</span>), (<span class="number">0</span>, <span class="number">2</span>), (<span class="number">0</span>, <span class="number">3</span>)], [(<span class="number">1</span>, <span class="number">0</span>), (<span class="number">1</span>, <span class="number">1</span>), (<span class="number">1</span>, <span class="number">2</span>), (<span class="number">1</span>, <span class="number">3</span>)], [(<span class="number">2</span>, <span class="number">0</span>), (<span class="number">2</span>, <span class="number">1</span>), (<span class="number">2</span>, <span class="number">2</span>), (<span class="number">2</span>, <span class="number">3</span>)]]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.array(L,dtype=<span class="string">&#x27;i4,i4&#x27;</span>)</span><br><span class="line">array([[[(<span class="number">0</span>, <span class="number">0</span>), (<span class="number">0</span>, <span class="number">0</span>)],</span><br><span class="line">        [(<span class="number">0</span>, <span class="number">0</span>), (<span class="number">1</span>, <span class="number">1</span>)],</span><br><span class="line">        [(<span class="number">0</span>, <span class="number">0</span>), (<span class="number">2</span>, <span class="number">2</span>)],</span><br><span class="line">        [(<span class="number">0</span>, <span class="number">0</span>), (<span class="number">3</span>, <span class="number">3</span>)]],</span><br><span class="line"></span><br><span class="line">       [[(<span class="number">1</span>, <span class="number">1</span>), (<span class="number">0</span>, <span class="number">0</span>)],</span><br><span class="line">        [(<span class="number">1</span>, <span class="number">1</span>), (<span class="number">1</span>, <span class="number">1</span>)],</span><br><span class="line">        [(<span class="number">1</span>, <span class="number">1</span>), (<span class="number">2</span>, <span class="number">2</span>)],</span><br><span class="line">        [(<span class="number">1</span>, <span class="number">1</span>), (<span class="number">3</span>, <span class="number">3</span>)]],</span><br><span class="line"></span><br><span class="line">       [[(<span class="number">2</span>, <span class="number">2</span>), (<span class="number">0</span>, <span class="number">0</span>)],</span><br><span class="line">        [(<span class="number">2</span>, <span class="number">2</span>), (<span class="number">1</span>, <span class="number">1</span>)],</span><br><span class="line">        [(<span class="number">2</span>, <span class="number">2</span>), (<span class="number">2</span>, <span class="number">2</span>)],</span><br><span class="line">        [(<span class="number">2</span>, <span class="number">2</span>), (<span class="number">3</span>, <span class="number">3</span>)]]], dtype=[(<span class="string">&#x27;f0&#x27;</span>, <span class="string">&#x27;&lt;i4&#x27;</span>), (<span class="string">&#x27;f1&#x27;</span>, <span class="string">&#x27;&lt;i4&#x27;</span>)])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>_.shape</span><br><span class="line">(<span class="number">3</span>, <span class="number">4</span>, <span class="number">2</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.array(LT,dtype=<span class="string">&#x27;i4,i4&#x27;</span>)</span><br><span class="line">array([[(<span class="number">0</span>, <span class="number">0</span>), (<span class="number">0</span>, <span class="number">1</span>), (<span class="number">0</span>, <span class="number">2</span>), (<span class="number">0</span>, <span class="number">3</span>)],</span><br><span class="line">       [(<span class="number">1</span>, <span class="number">0</span>), (<span class="number">1</span>, <span class="number">1</span>), (<span class="number">1</span>, <span class="number">2</span>), (<span class="number">1</span>, <span class="number">3</span>)],</span><br><span class="line">       [(<span class="number">2</span>, <span class="number">0</span>), (<span class="number">2</span>, <span class="number">1</span>), (<span class="number">2</span>, <span class="number">2</span>), (<span class="number">2</span>, <span class="number">3</span>)]],</span><br><span class="line">      dtype=[(<span class="string">&#x27;f0&#x27;</span>, <span class="string">&#x27;&lt;i4&#x27;</span>), (<span class="string">&#x27;f1&#x27;</span>, <span class="string">&#x27;&lt;i4&#x27;</span>)])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>_.shape</span><br><span class="line">(<span class="number">3</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure><p>我写了个函数（<code>list2structarray()</code>）来解决该问题：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment">#给定结构化数据类型将一个（嵌套）列表无差别转换成结构化数组对象</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">list2structarray</span>(<span class="params">a,dtype</span>):</span></span><br><span class="line">    a=np.array(a)</span><br><span class="line">    t=[<span class="built_in">tuple</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> a.reshape(-<span class="number">1</span>,a.shape[-<span class="number">1</span>])]</span><br><span class="line">    <span class="keyword">return</span> np.array(t,dtype=dtype).reshape(a.shape[:-<span class="number">1</span>])</span><br><span class="line">    </span><br><span class="line">a=[[[<span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, <span class="number">2</span>], [<span class="number">0</span>, <span class="number">3</span>]], [[<span class="number">1</span>, <span class="number">0</span>], [<span class="number">1</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">2</span>], [<span class="number">1</span>, <span class="number">3</span>]], [[<span class="number">2</span>, <span class="number">0</span>], [<span class="number">2</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">2</span>], [<span class="number">2</span>, <span class="number">3</span>]]]</span><br><span class="line">s=list2structarray(a,<span class="string">&#x27;i4,i4&#x27;</span>)</span><br><span class="line">print(s)</span><br><span class="line">print(s.shape)</span><br><span class="line">print(s.dtype)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;OUTPUT</span></span><br><span class="line"><span class="string">[[(0, 0) (0, 1) (0, 2) (0, 3)]</span></span><br><span class="line"><span class="string"> [(1, 0) (1, 1) (1, 2) (1, 3)]</span></span><br><span class="line"><span class="string"> [(2, 0) (2, 1) (2, 2) (2, 3)]]</span></span><br><span class="line"><span class="string">(3, 4)</span></span><br><span class="line"><span class="string">[(&#x27;f0&#x27;, &#x27;&lt;i4&#x27;), (&#x27;f1&#x27;, &#x27;&lt;i4&#x27;)]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure></div></div></div></div><h2 id="创建数组">创建数组</h2><div class="tabs" id="cjsz"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#cjsz-1"><code>np.array()</code></button></li><li class="tab"><button type="button" data-href="#cjsz-2"><code>np.asarray()</code></button></li><li class="tab"><button type="button" data-href="#cjsz-3"><code>np.fromiter()</code></button></li><li class="tab"><button type="button" data-href="#cjsz-4"><code>np.fromfunction()</code></button></li><li class="tab"><button type="button" data-href="#cjsz-5">创建特定数组</button></li><li class="tab"><button type="button" data-href="#cjsz-6">随机数组</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="cjsz-1"><div class="note blue simple"><p><code>np.array(object, dtype=None, copy=True, order='K', subok=False, ndmin=0)</code><br>参数说明：</p><ul><li><code>object</code>：可以是python原生序列类型，如（嵌套）列表、（嵌套）元组等，也可以是<code>ndarray</code>类型及其子类，函数默认行为总是会返回<code>object</code>的（深）拷贝副本，两者占据完全不同的内存</li><li><code>dtype</code>：设置数组元素的数据类型，缺省时会根据<code>object</code>的类型自行确定</li><li><code>copy</code>：控制当<code>object</code>为<code>ndarray</code>类型或其子类<code>matrix</code>时是否进行（深）复制的行为，设为<code>False</code>，如果<code>object</code>是<code>ndarray</code>类型，将直接返回<code>object</code>自身（即满足<code>is</code>判断），如果<code>object</code>是<code>matrix</code>类型，则浅拷贝，修改任意一方都会体现在对方，且只有当<code>subok</code>置为<code>True</code>时才会返回<code>object</code>自身</li><li><code>order</code>：指定数组在内存中的布局，<code>C</code>为行主方向（譬如一个二维数组，在内存中依次存储数组的每一行），<code>F</code>为列主方向（譬如一个二维数组，在内存中依次存储数组的每一列），如果<code>object</code>非<code>ndarray</code>类型，可取值就是<code>C</code>（默认）或者<code>F</code>，否则，还可以取值<code>A</code>或<code>K</code>，所创建的数组<code>order</code>由以下规则确定：<div class="dytable"><table><thead><tr><th>order</th><th>copy=False</th><th>copy=True</th></tr></thead><tr><td>'K'</td><td>和<code>object</code>的<code>order</code>一致</td><td><a target="_blank" rel="noopener external nofollow noreferrer" href="https://numpy.org/doc/stable/reference/generated/numpy.array.html" class="dygreylink" title="前半句：保持和object一致的F和C（一个数组既可以是F布局，也可以是C布局，譬如一维数组）布局">F & C order preserved, otherwise most similar order</a>（<font color="red" background="blue">后半句没懂</font>）</td></tr><tr><td>'A'</td><td>和<code>object</code>的<code>order</code>一致</td><td>若<code>object</code>的<code>order</code>为<code>F</code>且非<code>C</code>，则<code>order</code>为<code>F</code>，反之为<code>C</code></td></tr><tr><td>'C'</td><td><code>order</code>为<code>C</code></td><td><code>order</code>为<code>C</code></td></tr><tr><td>'F'</td><td><code>order</code>为<code>F</code></td><td><code>order</code>为<code>F</code></td></tr></table></div></li><li><code>subok</code>：默认情况下将创建的数组强制转换为基类数组对象（<code>ndarray</code>），设为<code>True</code>则返回子类（譬如矩阵类型<code>matrix</code>是<code>ndarray</code>的子类，<code>m=np.matrix('1 2 3; 4 5 6');a=np.array(m,subok=True)</code>，<code>type(a)</code>为<code>numpy.matrixlib.defmatrix.matrix</code>，且<code>issubclass(type(a),np.ndarray)</code>为<code>True</code>）</li><li><code>ndmin</code>：设置最低维度，创建的多维数组至少是<code>ndmin</code>维（譬如<code>object</code>的形状为<code>(2,3)</code>，而<code>ndmin</code>为4，则创建的数组形状为<code>(1,1,2,3)</code>），当<code>object</code>的维度大于此值时，则不管，维度同<code>object</code></li></ul></div><p>注（<code>order</code>参数），给定一个二维数组<code>a=[[1,2,3],[4,5,6]]</code>，如果按照<code>C</code>顺序创建<code>x=np.array(a,order='C')</code>，此时默认的<code>dtype</code>为<code>np.int32</code>，<code>x.itemsize</code>为4，形状<code>x.shape</code>为<code>(2,3)</code>，其在内存中的存储为：<code>|1|2|3|4|5|6|</code>（因为内存总是连续的），每个格子占据4字节大小，其跨度元组<code>x.strides</code>为<code>(12,4)</code>，表示第0维前进到下一个元素需要“跨过”12个字节（如内存中1到4之间的距离），第1维前进到下一个元素需要“跨过”4个字节（如内存中1到2之间的距离），如果是按照<code>F</code>顺序创建<code>y=np.array(a,order='F')</code>，<code>y.itemsize</code>为4，形状<code>y.shape</code>为<code>(2,3)</code>，其在内存中的存储为：<code>|1|4|2|5|3|6|</code>，其跨度元组<code>y.strides</code>为<code>(4,8)</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=[[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b=np.array(a)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b[<span class="number">0</span>,<span class="number">0</span>]=<span class="number">888</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c=np.array(b)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c[<span class="number">0</span>,<span class="number">0</span>]=<span class="number">999</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">array([[<span class="number">888</span>,   <span class="number">2</span>,   <span class="number">3</span>],</span><br><span class="line">       [  <span class="number">4</span>,   <span class="number">5</span>,   <span class="number">6</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d=np.array(b,copy=<span class="literal">False</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d <span class="keyword">is</span> b</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d[<span class="number">0</span>,<span class="number">0</span>]=<span class="number">111</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">array([[<span class="number">111</span>,   <span class="number">2</span>,   <span class="number">3</span>],</span><br><span class="line">       [  <span class="number">4</span>,   <span class="number">5</span>,   <span class="number">6</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>e=np.matrix(a)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>e</span><br><span class="line">matrix([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">        [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>e[<span class="number">0</span>,<span class="number">0</span>]=<span class="number">222</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f=np.array(e,copy=<span class="literal">False</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f[<span class="number">0</span>,<span class="number">0</span>]=<span class="number">333</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>e</span><br><span class="line">matrix([[<span class="number">333</span>,   <span class="number">2</span>,   <span class="number">3</span>],</span><br><span class="line">        [  <span class="number">4</span>,   <span class="number">5</span>,   <span class="number">6</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f <span class="keyword">is</span> e</span><br><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.copy()</code></span></div><div class="hide-content"><div class="note blue simple"><p><code>np.copy(a, order='K')</code><br>函数说明：<br>深拷贝输入对象<code>a</code>（可以是<code>ndarray</code>也可以是python原生列表等），尽管<code>np.array()</code>可以达到相同的功能，但是<code>np.copy()</code>的函数名更加直截了当，即复制一个数组对象，通常直接在<code>ndarray</code>对象上调用（<code>ndarray.copy()</code>）</p></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="cjsz-2"><div class="note blue simple"><p><code>np.asarray(a, dtype=None, order=None)</code><br>函数说明：<br>作用也是将输入<code>a</code>转换为一个<code>ndarray</code>对象，除了比<code>np.array()</code>少了很多控制参数，最大的区别是，当<code>a</code>是<code>ndarray</code>对象时，将返回自身，如果<code>a</code>是列表、元组等，则还是深拷贝，但当<code>a</code>是<code>matrix</code>对象，则浅拷贝，此时虽然不满足<code>is</code>判断，但是修改任意一方，都会体现在对方，换句话说，<code>np.asarray()</code>相当于<code>np.array()</code>的参数<code>copy</code>置为<code>False</code>时的版本</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=[[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b=np.array(a)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c=np.asarray(b)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b <span class="keyword">is</span> c</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d=np.matrix(<span class="string">&#x27;1 2 3;4 5 6&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>e=np.asarray(d)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d <span class="keyword">is</span> e</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>e[<span class="number">0</span>,<span class="number">0</span>]=<span class="number">666</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d</span><br><span class="line">matrix([[<span class="number">666</span>,   <span class="number">2</span>,   <span class="number">3</span>],</span><br><span class="line">        [  <span class="number">4</span>,   <span class="number">5</span>,   <span class="number">6</span>]])</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="cjsz-3"><div class="note blue simple"><p><code>np.fromiter(iterable, dtype, count=-1)</code><br>函数说明：<br>将一个一维的可迭代（序列）对象<code>iterable</code>转为一维数组并返回，如果（序列）元素也是序列，则只能自定义结构化数据类型，否则出错。注意参数<code>dtype</code>是必填参数，<code>count</code>参数用于决定读取序列的多少个元素，默认值<code>-1</code>表示全部读取。须知，<code>np.array()</code>仅能将<span title="An array, any object exposing the array interface, an object whose __array__ method returns an array, or any (nested) sequence."><code>array_like</code></span>对象转换为<code>ndarray</code>，如列表等，如果是生成器等或其他自定义可迭代对象则无法转换</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>g=(i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.array(g)</span><br><span class="line">array(&lt;generator <span class="built_in">object</span> &lt;genexpr&gt; at <span class="number">0x00000239D28B0728</span>&gt;, dtype=<span class="built_in">object</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.fromiter(g,dtype=<span class="string">&#x27;i&#x27;</span>,count=<span class="number">3</span>)</span><br><span class="line">array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>], dtype=int32)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>n=[(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>),(<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.array(n)</span><br><span class="line">array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">       [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.fromiter(n,dtype=<span class="string">&#x27;i&#x27;</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">ValueError: setting an array element <span class="keyword">with</span> a sequence.</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.fromiter(n,dtype=np.dtype([(<span class="string">&#x27;col1&#x27;</span>,<span class="string">&#x27;i1&#x27;</span>),(<span class="string">&#x27;col2&#x27;</span>,<span class="string">&#x27;i1&#x27;</span>),(<span class="string">&#x27;col3&#x27;</span>,<span class="string">&#x27;i1&#x27;</span>)])) <span class="comment">#参见numpy structured arrays</span></span><br><span class="line">array([(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>), (<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>)],</span><br><span class="line">      dtype=[(<span class="string">&#x27;col1&#x27;</span>, <span class="string">&#x27;i1&#x27;</span>), (<span class="string">&#x27;col2&#x27;</span>, <span class="string">&#x27;i1&#x27;</span>), (<span class="string">&#x27;col3&#x27;</span>, <span class="string">&#x27;i1&#x27;</span>)])</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="cjsz-4"><div class="note blue simple"><p><code>np.fromfunction(function, shape, dtype=float)</code><br>函数说明：<br><code>function</code>函数可接受参数个数应等于<code>shape</code>形状元组的长度（假设<code>shape</code>长度为<code>n</code>，则表示<code>function</code>是一个<code>n</code>元函数），同时<code>shape</code>也是将要创建的数组的形状。以二维为例，<code>shape=(m,n)</code>，则<code>function</code>是一个二元函数，创建的数组记作<code>a</code>，则有<code>a[i,j]=function(i,j)</code>。更一般的，对<code>shape=(k1,k2,k3...kn)</code>来说，<code>fromfunction()</code>将返回一个<code>n</code>维数组对象<code>a</code>，第<code>i</code>维的长度为<code>ki</code>，<code>a[i1,i2,...,in]</code>的值就是<code>function(i1,i2,...,in)</code></p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#(3,4)形二维数组位置坐标</span></span><br><span class="line">y,x=np.meshgrid(<span class="built_in">range</span>(<span class="number">4</span>),<span class="built_in">range</span>(<span class="number">3</span>))</span><br><span class="line">print(list2structarray(np.rollaxis(np.stack([x,y]),<span class="number">0</span>,<span class="number">3</span>),<span class="string">&#x27;i4,i4&#x27;</span>)) <span class="comment">#list2structarray()函数定义见numpy structured arrays</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#设二元函数f(x,y)=x*y</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">x,y</span>):</span></span><br><span class="line">    <span class="keyword">return</span> x*y</span><br><span class="line">print(np.fromfunction(f,(<span class="number">3</span>,<span class="number">4</span>)))</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;OUTPUT</span></span><br><span class="line"><span class="string">[[(0, 0) (0, 1) (0, 2) (0, 3)]</span></span><br><span class="line"><span class="string"> [(1, 0) (1, 1) (1, 2) (1, 3)]</span></span><br><span class="line"><span class="string"> [(2, 0) (2, 1) (2, 2) (2, 3)]]</span></span><br><span class="line"><span class="string">[[0. 0. 0. 0.]</span></span><br><span class="line"><span class="string"> [0. 1. 2. 3.]</span></span><br><span class="line"><span class="string"> [0. 2. 4. 6.]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;间隙等于1太大？希望缩小至1/m，则：</span></span><br><span class="line"><span class="string">def f(i1,i2,...,in):</span></span><br><span class="line"><span class="string">    i1/=m</span></span><br><span class="line"><span class="string">    ...</span></span><br><span class="line"><span class="string">    in/=m</span></span><br><span class="line"><span class="string">    ...</span></span><br><span class="line"><span class="string">相应的shape也应成倍增大，fromfunction(f,(m*k1,m*k2,...,m*kn))</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment">#举个一维的例子，设一维函数：f(x)=x^2，要求画出在x轴[0,8]区间上的图像，采样间隔设为1/5，相较于间隔为1时的图像将显得更为光滑</span></span><br><span class="line">y=np.fromfunction(<span class="keyword">lambda</span> x:(x/<span class="number">5</span>)**<span class="number">2</span>,(<span class="number">8</span>*<span class="number">5</span>,))</span><br><span class="line">x=[i/<span class="number">5</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">8</span>*<span class="number">5</span>)]</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.plot(x,y)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="cjsz-5"><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.arange()</code></span></div><div class="hide-content"><div class="note blue simple"><p><code>np.arange([start,] stop[, step,], dtype=None)</code><br>函数说明：<br>类似于python内置的<code>range()</code>函数，区别在于，<code>range()</code>不接受浮点数作为参数，只接受整数类型，而<code>np.arange()</code>允许浮点数作为参数，一般说来两者都是在左闭右开的数值范围内产生均匀间隔的值，但<code>np.arange()</code>由于允许接受浮点型参数，受计算精度影响得到的结果有可能是左闭右闭的，譬如<code>np.arange(3,3.2,0.1)</code>的结果是<code>[3.0,3.1,3.2]</code>，而<code>np.arange(3,3.3,0.1)</code>的结果却又是<code>[3.0,3.1,3.2]</code>，具体原因不明</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.arange(<span class="number">5</span>)</span><br><span class="line">array([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.arange(<span class="number">2</span>,<span class="number">7</span>)</span><br><span class="line">array([<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.arange(<span class="number">2.3</span>,<span class="number">4.1</span>,<span class="number">0.3</span>)</span><br><span class="line">array([<span class="number">2.3</span>, <span class="number">2.6</span>, <span class="number">2.9</span>, <span class="number">3.2</span>, <span class="number">3.5</span>, <span class="number">3.8</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.arange(<span class="number">3</span>,<span class="number">3.2</span>,<span class="number">0.1</span>)</span><br><span class="line">array([<span class="number">3.</span> , <span class="number">3.1</span>, <span class="number">3.2</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">range</span>(<span class="number">5</span>)</span><br><span class="line"><span class="built_in">range</span>(<span class="number">0</span>, <span class="number">5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(_)</span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">2</span>,<span class="number">7</span>))</span><br><span class="line">[<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">2.3</span>,<span class="number">4.1</span>,<span class="number">0.3</span>))</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">TypeError: <span class="string">&#x27;float&#x27;</span> <span class="built_in">object</span> cannot be interpreted <span class="keyword">as</span> an integer</span><br></pre></td></tr></table></figure></div></div><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.linspace()</code></span></div><div class="hide-content"><div class="note blue simple"><p><code>np.linspace(start, stop, num=50, endpoint=True, retstep=False, dtype=None)</code><br>函数说明：<br>和<code>np.arange()</code>的区别：<code>np.arange()</code>通过指定开始值、终值和步长创建一个等差的一维数组，得到的结果中是不包含终值的，而<code>np.linspace()</code>则是通过指定开始值、终值和元素个数创建等差的一维数组，并且可以通过<code>endpoint</code>参数指定是否包含终值，默认值为<code>True</code>即表示包含终值，参数<code>retstep</code>为<code>True</code>时，将返回一个元组，第一个元素是生成的等差数组，第二个元素则是差值或者说间距</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.linspace(<span class="number">0</span>,<span class="number">1</span>,<span class="number">12</span>)</span><br><span class="line">array([<span class="number">0.</span>        , <span class="number">0.09090909</span>, <span class="number">0.18181818</span>, <span class="number">0.27272727</span>, <span class="number">0.36363636</span>,</span><br><span class="line">       <span class="number">0.45454545</span>, <span class="number">0.54545455</span>, <span class="number">0.63636364</span>, <span class="number">0.72727273</span>, <span class="number">0.81818182</span>,</span><br><span class="line">       <span class="number">0.90909091</span>, <span class="number">1.</span>        ])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.linspace(<span class="number">0</span>,<span class="number">1</span>,<span class="number">12</span>,endpoint=<span class="literal">False</span>,retstep=<span class="literal">True</span>)</span><br><span class="line">(array([<span class="number">0.</span>        , <span class="number">0.08333333</span>, <span class="number">0.16666667</span>, <span class="number">0.25</span>      , <span class="number">0.33333333</span>,</span><br><span class="line">       <span class="number">0.41666667</span>, <span class="number">0.5</span>       , <span class="number">0.58333333</span>, <span class="number">0.66666667</span>, <span class="number">0.75</span>      ,</span><br><span class="line">       <span class="number">0.83333333</span>, <span class="number">0.91666667</span>]), <span class="number">0.08333333333333333</span>)</span><br></pre></td></tr></table></figure></div></div><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.logspace()</code></span></div><div class="hide-content"><div class="note blue simple"><p><code>np.logspace(start, stop, num=50, endpoint=True, base=10.0, dtype=None)</code><br>函数说明：<br>该函数用于创建一个一维的对数等比数组，计算过程是这样的：首先将除<code>base</code>以外的参数（暂且假设<code>endpoint</code>为<code>True</code>）全部传递给<code>np.linspace()</code>函数创建一个等差数列<code>[start,start+Δ,start+2·Δ,...,start+(num-1)·Δ]</code>（其中<code>Δ</code>为差值，满足条件<code>start+(num-1)·Δ=stop</code>），然后据此创建等比数列：<code>[base^start,base^(start+Δ),base^(start+2·Δ),...base^(stop)]</code>，公比为<code>base^Δ</code></p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.logspace(<span class="number">0</span>,<span class="number">5</span>,<span class="number">5</span>)</span><br><span class="line">array([<span class="number">1.00000000e+00</span>, <span class="number">1.77827941e+01</span>, <span class="number">3.16227766e+02</span>, <span class="number">5.62341325e+03</span>,</span><br><span class="line">       <span class="number">1.00000000e+05</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.linspace(<span class="number">0</span>,<span class="number">5</span>,<span class="number">5</span>)</span><br><span class="line">array([<span class="number">0.</span>  , <span class="number">1.25</span>, <span class="number">2.5</span> , <span class="number">3.75</span>, <span class="number">5.</span>  ])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">10</span>**_</span><br><span class="line">array([<span class="number">1.00000000e+00</span>, <span class="number">1.77827941e+01</span>, <span class="number">3.16227766e+02</span>, <span class="number">5.62341325e+03</span>,</span><br><span class="line">       <span class="number">1.00000000e+05</span>])</span><br></pre></td></tr></table></figure></div></div><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.geomspace()</code></span></div><div class="hide-content"><div class="note blue simple"><p><code>np.geomspace(start, stop, num=50, endpoint=True, dtype=None)</code><br>函数说明：<br>该函数用于创建一个一维的指数等比数组，其返回（暂且假设<code>endpoint</code>为<code>True</code>）：<code>[start^1,start^(1+Δ),start^(1+2·Δ),...,start^(1+(num-1)·Δ)]</code>（其中<code>Δ</code>满足<code>start^(1+(num-1)·Δ)=stop</code>），公比为<code>start^Δ</code>，可以对比<code>np.logspace()</code>，<code>np.logspace()</code>需要指定等比数列取对数后的等差数列的首项和末项，而<code>np.geomspace()</code>则需要指定等比数列本身的首项和末项</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#np.geomspace()的输出取底为start的对数后将得到一个等差数列[1,1+Δ,1+2·Δ,...,1+(num-1)·Δ]</span></span><br><span class="line"><span class="comment">#设start=3，Δ=1，num=10，则stop=start^(1+(num-1)·Δ)=59049</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.geomspace(<span class="number">3</span>,<span class="number">59049</span>,<span class="number">10</span>)</span><br><span class="line">array([<span class="number">3.0000e+00</span>, <span class="number">9.0000e+00</span>, <span class="number">2.7000e+01</span>, <span class="number">8.1000e+01</span>, <span class="number">2.4300e+02</span>,</span><br><span class="line">       <span class="number">7.2900e+02</span>, <span class="number">2.1870e+03</span>, <span class="number">6.5610e+03</span>, <span class="number">1.9683e+04</span>, <span class="number">5.9049e+04</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.log10(_)/np.log10(<span class="number">3</span>) <span class="comment">#换底公式：log_a(b)=log_10(b)/log_10(a)，含义为：以a为底b的对数等于以10为底b的对数除以以10为底a的对数</span></span><br><span class="line">array([ <span class="number">1.</span>,  <span class="number">2.</span>,  <span class="number">3.</span>,  <span class="number">4.</span>,  <span class="number">5.</span>,  <span class="number">6.</span>,  <span class="number">7.</span>,  <span class="number">8.</span>,  <span class="number">9.</span>, <span class="number">10.</span>])</span><br></pre></td></tr></table></figure></div></div><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.empty()</code></span></div><div class="hide-content"><div class="note blue similar flat"><p><code>np.empty(shape, dtype=float, order='C')</code><br>函数说明：<br>创建形状为<code>shape</code>的空数组，并以随机值填充（所谓“空”是指数组中没有任何有效值，这和<code>np.zeros()</code>不同，0是有效值）</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.empty((<span class="number">2</span>,<span class="number">3</span>))</span><br><span class="line">array([[<span class="number">6.23042070e-307</span>, <span class="number">5.11798224e-307</span>, <span class="number">1.37961370e-306</span>],</span><br><span class="line">       [<span class="number">4.22795269e-307</span>, <span class="number">9.34609790e-307</span>, <span class="number">1.06101441e-312</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.empty((<span class="number">2</span>,<span class="number">3</span>)) <span class="comment">#同一形状每次生成的结果是相同的</span></span><br><span class="line">array([[<span class="number">6.23042070e-307</span>, <span class="number">5.11798224e-307</span>, <span class="number">1.37961370e-306</span>],</span><br><span class="line">       [<span class="number">4.22795269e-307</span>, <span class="number">9.34609790e-307</span>, <span class="number">1.06101441e-312</span>]])</span><br></pre></td></tr></table></figure><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.empty_like()</code></span></div><div class="hide-content"><div class="note blue simple"><p><code>np.empty_like(a, dtype=None, order='K', subok=True)</code><br>函数说明：<br>创建形状、类型同<code>a</code>的空数组，但仍可通过<code>dtype</code>参数指定类型</p></div></div></div></div></div><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.zeros()</code></span></div><div class="hide-content"><div class="note blue simple"><p><code>np.zeros(shape, dtype=float, order='C')</code><br>函数说明：<br>创建形状为<code>shape</code>的零数组</p></div><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.zeros_like()</code></span></div><div class="hide-content"><div class="note blue simple"><p><code>np.zeros_like(a, dtype=None, order='K', subok=True)</code><br>函数说明：<br>创建形状、类型同<code>a</code>的零数组，但仍可通过<code>dtype</code>参数指定类型</p></div></div></div></div></div><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.ones()</code></span></div><div class="hide-content"><div class="note blue simple"><p><code>np.ones(shape, dtype=None, order='C')</code><br>函数说明：<br>创建形状为<code>shape</code>的全1数组</p></div><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.ones_like()</code></span></div><div class="hide-content"><div class="note blue simple"><p><code>np.ones_like(a, dtype=None, order='K', subok=True)</code><br>函数说明：<br>创建形状、类型同<code>a</code>的全1数组，但仍可通过<code>dtype</code>参数指定类型</p></div></div></div></div></div><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.full()</code></span></div><div class="hide-content"><div class="note blue simple"><p><code>np.full(shape, fill_value, dtype=None, order='C')</code><br>函数说明：<br>用指定的值<code>fill_value</code>填充一个形状为<code>shape</code>的多维数组</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.full((<span class="number">2</span>,<span class="number">3</span>),<span class="number">8</span>)</span><br><span class="line">array([[<span class="number">8</span>, <span class="number">8</span>, <span class="number">8</span>],</span><br><span class="line">       [<span class="number">8</span>, <span class="number">8</span>, <span class="number">8</span>]])</span><br></pre></td></tr></table></figure><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.full_like()</code></span></div><div class="hide-content"><div class="note blue simple"><p><code>np.full_like(a, fill_value, dtype=None, order='K', subok=True)</code><br>函数说明：<br>用指定的值填充与给定数组<code>a</code>形状、类型相同的多维数组，但仍可通过<code>dtype</code>参数指定类型</p></div></div></div></div></div><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.eye()</code></span></div><div class="hide-content"><div class="note blue simple"><p><code>np.eye(N, M=None, k=0, dtype=&lt;class 'float'&gt;, order='C')</code><br>函数说明：<br>能够用于创建单位矩阵（二维<code>ndarray</code>对象，对角线元素值为1，其余为0），<code>N</code>指定行数，<code>M</code>指定列数（缺省情况下<code>M=N</code>），参数<code>k</code>（整型）用于指定“主对角线”的偏移量，当为负数时，向左方偏移，为正数时向右方偏移</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.eye(<span class="number">3</span>)</span><br><span class="line">array([[<span class="number">1.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">1.</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.eye(<span class="number">3</span>,<span class="number">5</span>)</span><br><span class="line">array([[<span class="number">1.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>, <span class="number">0.</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.eye(<span class="number">3</span>,<span class="number">5</span>,k=<span class="number">2</span>)</span><br><span class="line">array([[<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>],</span><br><span class="line">       [<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.</span>, <span class="number">1.</span>]])</span><br></pre></td></tr></table></figure><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.identity()</code></span></div><div class="hide-content"><div class="note blue simple"><p><code>np.identity(n, dtype=None)</code><br>函数说明：<br>专门用于创建形状为<code>(n,n)</code>的单位矩阵</p></div></div></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="cjsz-6"><p>如果希望能够重现生成的伪随机数，请设置随机种子<code>np.random.seed(seed)</code>（参数<code>seed</code>是一个整数，范围限于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><msup><mn>2</mn><mn>32</mn></msup><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,2^{32}-1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8141079999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span>），如：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.seed(<span class="number">20210527</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.rand(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">array([[<span class="number">0.94230071</span>, <span class="number">0.7680507</span> , <span class="number">0.41849498</span>],</span><br><span class="line">       [<span class="number">0.23640405</span>, <span class="number">0.28777521</span>, <span class="number">0.53928407</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.rand(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">array([[<span class="number">0.03641101</span>, <span class="number">0.3279482</span> , <span class="number">0.48352279</span>],</span><br><span class="line">       [<span class="number">0.77410674</span>, <span class="number">0.50404311</span>, <span class="number">0.4773902</span> ]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.seed(<span class="number">20210527</span>) <span class="comment">#种下同一种子，随机函数结果一致</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.rand(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">array([[<span class="number">0.94230071</span>, <span class="number">0.7680507</span> , <span class="number">0.41849498</span>],</span><br><span class="line">       [<span class="number">0.23640405</span>, <span class="number">0.28777521</span>, <span class="number">0.53928407</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.rand(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">array([[<span class="number">0.03641101</span>, <span class="number">0.3279482</span> , <span class="number">0.48352279</span>],</span><br><span class="line">       [<span class="number">0.77410674</span>, <span class="number">0.50404311</span>, <span class="number">0.4773902</span> ]])</span><br></pre></td></tr></table></figure><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.random.rand()</code></span></div><div class="hide-content"><div class="note blue simple"><p><code>np.random.rand(d0, d1, ..., dn)</code><br>函数说明：<br>生成形状为<code>(d0,d1,...,dn)</code>的数组，并使用<code>[0.0, 1.0)</code>上均匀分布的随机样本（浮点数）填充它，如果没有给定任何参数，则返回单个浮点数</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.rand()</span><br><span class="line"><span class="number">0.6258827101037749</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.rand(<span class="number">5</span>)</span><br><span class="line">array([<span class="number">0.62735357</span>, <span class="number">0.88232692</span>, <span class="number">0.23067855</span>, <span class="number">0.59308295</span>, <span class="number">0.22785762</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.rand(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">array([[<span class="number">0.98092414</span>, <span class="number">0.32172215</span>, <span class="number">0.94662153</span>],</span><br><span class="line">       [<span class="number">0.27608697</span>, <span class="number">0.89694515</span>, <span class="number">0.55163334</span>]])</span><br></pre></td></tr></table></figure><p>如果希望生成的范围区间介于<code>[a,b)</code>，可以通过<code>(b - a) * np.random.rand(...) + a</code>得到：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a,b=<span class="number">3</span>,<span class="number">5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>(b - a) * np.random.rand(<span class="number">5</span>) + a</span><br><span class="line">array([<span class="number">3.55059992</span>, <span class="number">4.37930213</span>, <span class="number">3.03409387</span>, <span class="number">4.17120523</span>, <span class="number">3.04866055</span>])</span><br></pre></td></tr></table></figure><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.random.sample()</code></span></div><div class="hide-content"><div class="note blue simple"><p><code>np.random.random_sample(size=None)</code><br>函数说明：<br>作用同<code>np.random.rand()</code>，只不过传入的是<code>size</code>形状参数，若<code>size</code>为<code>None</code>，则返回单个随机浮点数</p></div></div></div></div></div><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.random.randn()</code></span></div><div class="hide-content"><div class="note blue simple"><p><code>np.random.randn(d0, d1, ..., dn)</code><br>函数说明：<br>生成形状为<code>(d0,d1,...,dn)</code>的数组，并使用服从标准正态分布（均值为0，方差为1）的随机样本（浮点数，钟型曲线在-1.96～+1.96范围下的面积等于0.95）填充它，如果没有给定任何参数，则返回单个浮点数</p></div><p>如果你希望构造服从均值为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>μ</mi></mrow><annotation encoding="application/x-tex">\mu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord mathnormal">μ</span></span></span></span>、方差为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>σ</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">\sigma^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8141079999999999em;vertical-align:0"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.03588em">σ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8141079999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>的随机数（组），记作<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>∼</mo><mi>N</mi><mo stretchy="false">(</mo><mi>μ</mi><mo separator="true">,</mo><msup><mi>σ</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">X\sim N(\mu,\sigma^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.07847em">X</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.10903em">N</span><span class="mopen">(</span><span class="mord mathnormal">μ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.03588em">σ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8141079999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，根据标准化有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi>X</mi><mo>−</mo><mi>μ</mi></mrow><mi>σ</mi></mfrac><mo>∼</mo><mi>N</mi><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\frac{X-\mu}{\sigma}\sim N(0,1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.269439em;vertical-align:-.345em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.924439em"><span style="top:-2.6550000000000002em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:.03588em">σ</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.446108em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:.07847em">X</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight">μ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.10903em">N</span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>，设<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi><mo>=</mo><mfrac><mrow><mi>X</mi><mo>−</mo><mi>μ</mi></mrow><mi>σ</mi></mfrac></mrow><annotation encoding="application/x-tex">Z=\frac{X-\mu}{\sigma}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.07153em">Z</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.269439em;vertical-align:-.345em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.924439em"><span style="top:-2.6550000000000002em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:.03588em">σ</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.446108em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:.07847em">X</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight">μ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>，即有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi><mo>∼</mo><mi>N</mi><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Z\sim N(0,1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.07153em">Z</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.10903em">N</span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>=</mo><mi>σ</mi><mi>Z</mi><mo>+</mo><mi>μ</mi><mo>∼</mo><mi>N</mi><mo stretchy="false">(</mo><mi>μ</mi><mo separator="true">,</mo><msup><mi>σ</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">X=\sigma Z+\mu\sim N(\mu,\sigma^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.07847em">X</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:.76666em;vertical-align:-.08333em"></span><span class="mord mathnormal" style="margin-right:.03588em">σ</span><span class="mord mathnormal" style="margin-right:.07153em">Z</span><span class="mspace" style="margin-right:.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord mathnormal">μ</span><span class="mspace" style="margin-right:.2777777777777778em"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.10903em">N</span><span class="mopen">(</span><span class="mord mathnormal">μ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.16666666666666666em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.03588em">σ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8141079999999999em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，因此可以通过<code>σ*np.random.randn(...)+μ</code>来获取这样的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.07847em">X</span></span></span></span>：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">μ,σ=<span class="number">2</span>,<span class="number">3</span></span><br><span class="line">X=σ*np.random.randn(<span class="number">10000</span>)+μ <span class="comment">#或者X=np.random.normal(loc=μ, scale=σ,size=(10000,))</span></span><br><span class="line">print((μ-<span class="number">3</span>*σ,μ+<span class="number">3</span>*σ)) <span class="comment">#(-7, 11) #“3σ原则”</span></span><br><span class="line">plt.hist(X,<span class="number">80</span>,density=<span class="literal">True</span>,color=<span class="string">&#x27;g&#x27;</span>,edgecolor=<span class="string">&#x27;k&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">f&#x27;$X\sim N(\mu,\sigma^2),\mu=<span class="subst">&#123;μ&#125;</span>,\sigma^2=<span class="subst">&#123;σ**<span class="number">2</span>&#125;</span>$&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.random.standard_normal()</code></span></div><div class="hide-content"><div class="note blue simple"><p><code>np.random.standard_normal(size=None)</code><br>函数说明：<br>作用同<code>np.random.randn()</code>，区别好像仅在于<code>np.standard_normal()</code>允许接受形状元组作为参数</p></div></div></div><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.random.normal()</code></span></div><div class="hide-content"><div class="note blue simple"><p><code>np.random.normal(loc=0.0, scale=1.0, size=None)</code><br>函数说明：<br>生成服从均值为<code>loc</code>（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>μ</mi></mrow><annotation encoding="application/x-tex">\mu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.19444em"></span><span class="mord mathnormal">μ</span></span></span></span>）、标准差为<code>scale</code>（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>σ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.03588em">σ</span></span></span></span>）的正态分布的形状为<code>size</code>的数组</p></div></div></div></div></div><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.random.randint()</code></span></div><div class="hide-content"><div class="note blue simple"><p><code>np.random.randint(low, high=None, size=None, dtype='l')</code><br>函数说明：<br>生成一个数值介于<code>[low,high)</code>左闭右开区间的形状为<code>size</code>的整型随机数组。特别地，当只传入参数<code>low</code>且参数<code>high</code>为<code>None</code>时，生成的随机整数将处于<code>[0,low)</code>区间，当<code>size</code>形状为<code>None</code>时，将返回一个标量</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.randint(<span class="number">1</span>) <span class="comment">#显然此时总是返回0</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.randint(-<span class="number">10</span>,<span class="number">10</span>,size=(<span class="number">5</span>,))</span><br><span class="line">array([ <span class="number">1</span>, -<span class="number">6</span>, -<span class="number">8</span>, -<span class="number">9</span>,  <span class="number">5</span>])</span><br></pre></td></tr></table></figure></div></div><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.random.choice()</code></span></div><div class="hide-content"><div class="note blue simple"><p><code>np.random.choice(a, size=None, replace=True, p=None)</code><br>函数说明：<br>用于从给定的一组数据中产生随机样本（或依照指定概率<code>p</code>），采样数目由<code>size</code>参数指定（数目为<code>np.array(size).dot(np.ones(len(size))[:,None])</code>），并组织成形状为<code>size</code>的数组返回<br>参数说明：</p><ul><li><code>a</code>：可以是一维数组（也可以是python列表）或者整型标量，特别地，当其为标量时，相当于<code>a=np.arange(a)</code>，表示从<code>[0,a)</code>中随机采样</li><li><code>size</code>：指定输出数组形状，也可以指定为一个整型标量，如<code>n</code>，相当于<code>size=(n,)</code>，如果<code>size</code>为<code>None</code>，函数将输出单个样本</li><li><code>replace</code>：决定采样中是否有重复值（<code>True</code>表示可以重复），只有当<code>size</code>小于等于<code>len(a)</code>的时候（采样数小于全部样本数），才能置为<code>False</code></li><li><code>p</code>：一个一维序列，对应着<code>a</code>中每个样本的概率分布，如果没有指定，则使用均匀分布</li></ul></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.choice([<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">12</span>,<span class="number">67</span>,<span class="number">1</span>,<span class="number">19</span>],size=<span class="number">10</span>)</span><br><span class="line">array([ <span class="number">1</span>,  <span class="number">3</span>,  <span class="number">1</span>,  <span class="number">3</span>, <span class="number">67</span>, <span class="number">19</span>, <span class="number">67</span>, <span class="number">12</span>,  <span class="number">5</span>,  <span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.choice(<span class="number">5</span>, <span class="number">3</span>)</span><br><span class="line">array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.choice(<span class="number">5</span>, <span class="number">3</span>, p=[<span class="number">0.1</span>, <span class="number">0</span>, <span class="number">0.3</span>, <span class="number">0.6</span>, <span class="number">0</span>])</span><br><span class="line">array([<span class="number">0</span>, <span class="number">3</span>, <span class="number">3</span>], dtype=int64)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.choice(<span class="number">5</span>, <span class="number">3</span>, replace=<span class="literal">False</span>)</span><br><span class="line">array([<span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.choice(<span class="number">5</span>, <span class="number">8</span>, replace=<span class="literal">False</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">  File <span class="string">&quot;mtrand.pyx&quot;</span>, line <span class="number">1166</span>, <span class="keyword">in</span> mtrand.RandomState.choice</span><br><span class="line">ValueError: Cannot take a larger sample than population when <span class="string">&#x27;replace=False&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.choice([<span class="string">&#x27;pooh&#x27;</span>, <span class="string">&#x27;rabbit&#x27;</span>, <span class="string">&#x27;piglet&#x27;</span>, <span class="string">&#x27;Christopher&#x27;</span>], <span class="number">5</span>, p=[<span class="number">0.5</span>, <span class="number">0.1</span>, <span class="number">0.1</span>, <span class="number">0.3</span>])</span><br><span class="line">array([<span class="string">&#x27;pooh&#x27;</span>, <span class="string">&#x27;rabbit&#x27;</span>, <span class="string">&#x27;Christopher&#x27;</span>, <span class="string">&#x27;pooh&#x27;</span>, <span class="string">&#x27;rabbit&#x27;</span>], dtype=<span class="string">&#x27;&lt;U11&#x27;</span>)</span><br></pre></td></tr></table></figure></div></div><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.random.shuffle()</code></span></div><div class="hide-content"><div class="note blue simple"><p><code>np.random.shuffle(x)</code><br>函数说明：<br>沿第0维对数组<code>x</code>（<code>x</code>还可以是python列表，<code>shuffle</code>操作并不会改变其类型）进行“洗牌”（打乱顺序），且为原址操作，函数无返回值</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=np.arange(<span class="number">10</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.shuffle(a)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([<span class="number">5</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=np.arange(<span class="number">9</span>).reshape((<span class="number">3</span>,<span class="number">3</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>],</span><br><span class="line">       [<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.shuffle(a)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=[<span class="string">&#x27;Christopher&#x27;</span>,<span class="string">&#x27;pooh&#x27;</span>,<span class="string">&#x27;rabbit&#x27;</span>,<span class="string">&#x27;pooh&#x27;</span>,<span class="string">&#x27;pooh&#x27;</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.shuffle(a)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[<span class="string">&#x27;pooh&#x27;</span>, <span class="string">&#x27;rabbit&#x27;</span>, <span class="string">&#x27;Christopher&#x27;</span>, <span class="string">&#x27;pooh&#x27;</span>, <span class="string">&#x27;pooh&#x27;</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(a)</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> &#x27;<span class="title">list</span>&#x27;&gt;</span></span><br></pre></td></tr></table></figure></div></div><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.random.permutation()</code></span></div><div class="hide-content"><div class="note blue simple"><p><code>np.random.permutation(x)</code><br>函数说明：<br>功能同<code>np.random.shuffle()</code>，但非原址操作，函数将返回打乱后的数组，<code>x</code>除了可以是python列表，还可以是一个整型参数，相当于对数组<code>np.arange(x)</code>进行shuffle</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=[<span class="string">&#x27;Christopher&#x27;</span>,<span class="string">&#x27;pooh&#x27;</span>,<span class="string">&#x27;rabbit&#x27;</span>,<span class="string">&#x27;pooh&#x27;</span>,<span class="string">&#x27;pooh&#x27;</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.permutation(a)</span><br><span class="line">array([<span class="string">&#x27;pooh&#x27;</span>, <span class="string">&#x27;Christopher&#x27;</span>, <span class="string">&#x27;rabbit&#x27;</span>, <span class="string">&#x27;pooh&#x27;</span>, <span class="string">&#x27;pooh&#x27;</span>], dtype=<span class="string">&#x27;&lt;U11&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[<span class="string">&#x27;Christopher&#x27;</span>, <span class="string">&#x27;pooh&#x27;</span>, <span class="string">&#x27;rabbit&#x27;</span>, <span class="string">&#x27;pooh&#x27;</span>, <span class="string">&#x27;pooh&#x27;</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.random.permutation(<span class="number">10</span>)</span><br><span class="line">array([<span class="number">9</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">7</span>])</span><br></pre></td></tr></table></figure></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="形状重塑">形状重塑</h2><div class="tabs" id="xzcs"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#xzcs-1"><code>np.reshape()</code></button></li><li class="tab"><button type="button" data-href="#xzcs-2"><code>np.resize()</code></button></li><li class="tab"><button type="button" data-href="#xzcs-3"><code>np.swapaxes()</code></button></li><li class="tab"><button type="button" data-href="#xzcs-4"><code>np.transpose()</code></button></li><li class="tab"><button type="button" data-href="#xzcs-5"><code>np.rollaxis()</code></button></li><li class="tab"><button type="button" data-href="#xzcs-6"><code>np.flatten()</code></button></li><li class="tab"><button type="button" data-href="#xzcs-7"><code>np.ravel()</code></button></li><li class="tab"><button type="button" data-href="#xzcs-8"><code>np.expand_dims()</code></button></li><li class="tab"><button type="button" data-href="#xzcs-9"><code>np.squeeze()</code></button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="xzcs-1"><div class="note blue simple"><p><code>np.reshape(a, newshape, order='C')</code><br>函数说明：<br>将多维数组<code>a</code>变形为<code>newshape</code>，一般是直接在<code>ndarray</code>对象上调用该方法，形式为<code>ndarray.reshape(newshape,order='C')</code>（此时既可以直接传递形状元组，也可以将其解包为多个位置参数传递）， 需要注意的是，<code>reshape()</code>函数返回的新数组其实是原多维数组对象<code>a</code>的“视图”，所谓“视图”，即你对视图的修改将原封不动地反映在原始数据中，因此对<code>reshape()</code>函数返回的“新数组”的修改将影响到<code>a</code>（如果<code>a</code>是python对象自然不会影响），如果不希望变形操作影响原数组，则采用<code>np.resize()</code>替代，或者先进行一次深拷贝（<code>np.copy()</code>）<br>参数说明：</p><ul><li><code>a</code>：除了是numpy多维数组对象，也可以是python列表</li><li><code>newshape</code>：设原始形状为<code>(d1,d2,...,dn)</code>，<code>newshape</code>为<code>(d1',d2',...,dn')</code>，其必须满足<code>d1d2...dn=d1'd2'...dn'</code>，且<code>newshape</code>形状元组中允许出现一个<code>-1</code>作为缺省，对应维度的轴长将被自动计算</li><li><code>order</code>：可取值为<code>{'C', 'F', 'A'}</code>，<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.zhihu.com/question/295285045?sort=created" class="dygreylink">按照指定风格从原数组中读取数据以及填充新数组，并将此风格设为新数组的内存布局</a></li></ul></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.reshape([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]],(-<span class="number">1</span>,))</span><br><span class="line">array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=np.arange(<span class="number">6</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.reshape((<span class="number">2</span>,<span class="number">3</span>))</span><br><span class="line">array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.reshape(<span class="number">2</span>,<span class="number">3</span>) <span class="comment">#手动将newshape解包为多个位置参数传递</span></span><br><span class="line">array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.reshape(*(<span class="number">2</span>,<span class="number">3</span>)) <span class="comment">#利用*自动将newshape解包为多个位置参数传递</span></span><br><span class="line">array([[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>_[<span class="number">0</span>,<span class="number">0</span>]=<span class="number">666</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([<span class="number">666</span>,   <span class="number">1</span>,   <span class="number">2</span>,   <span class="number">3</span>,   <span class="number">4</span>,   <span class="number">5</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = np.array([[<span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line"><span class="meta">... </span>              [<span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line"><span class="meta">... </span>              [<span class="number">4</span>, <span class="number">5</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>o=np.reshape(a, (<span class="number">2</span>, <span class="number">3</span>), order=<span class="string">&#x27;F&#x27;</span>) <span class="comment">#第一步，按照列主序读取数组a，得到|0|2|4|1|3|5|，然后第二步，按照列主序顺序将其依次存储在(2,3)形的新数组中，对于第二步的实施其实很简单，首先内存中连续存储的就是|0|2|4|1|3|5|，所以只需要再设置一下flags为列主序以及跨度元组strides即可，显然为(4,8)，这也就变相告诉了计算机新数组各维度大小，即(2,3)</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>o</span><br><span class="line">array([[<span class="number">0</span>, <span class="number">4</span>, <span class="number">3</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">1</span>, <span class="number">5</span>]])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>o.flags</span><br><span class="line">  C_CONTIGUOUS : <span class="literal">False</span></span><br><span class="line">  F_CONTIGUOUS : <span class="literal">True</span></span><br><span class="line">  OWNDATA : <span class="literal">False</span></span><br><span class="line">  WRITEABLE : <span class="literal">True</span></span><br><span class="line">  ALIGNED : <span class="literal">True</span></span><br><span class="line">  WRITEBACKIFCOPY : <span class="literal">False</span></span><br><span class="line">  UPDATEIFCOPY : <span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>o.strides</span><br><span class="line">(<span class="number">4</span>, <span class="number">8</span>)</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="xzcs-2"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="xzcs-3"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="xzcs-4"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="xzcs-5"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="xzcs-6"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="xzcs-7"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="xzcs-8"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="xzcs-9"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="数组切片和索引">数组切片和索引</h2><div class="tabs" id="szsy"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#szsy-1">切片和索引</button></li><li class="tab"><button type="button" data-href="#szsy-2">高级索引</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="szsy-1"><p>nda[i1][i2]…[in]简写nda[i1,i2,…]</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="szsy-2"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="广播机制">广播机制</h2><div class="tabs" id="gbjz"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#gbjz-1"><code>np.broadcast()</code></button></li><li class="tab"><button type="button" data-href="#gbjz-2"><code>np.broadcast_to()</code></button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="gbjz-1"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="gbjz-2"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="数组拼接与分割">数组拼接与分割</h2><div class="tabs" id="szdd"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#szdd-1">数组拼接</button></li><li class="tab"><button type="button" data-href="#szdd-2">数组分割</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="szdd-1"><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.concatenate()</code></span></div><div class="hide-content"></div></div><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.stack()</code></span></div><div class="hide-content"></div></div><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.vstack()</code></span></div><div class="hide-content"></div></div><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.hstack()</code></span></div><div class="hide-content"></div></div><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.dstack()</code></span></div><div class="hide-content"></div></div><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.column_stack()</code></span></div><div class="hide-content"></div></div><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.row_stack()</code></span></div><div class="hide-content"></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="szdd-2"><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.split()</code></span></div><div class="hide-content"></div></div><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.vsplit()</code></span></div><div class="hide-content"></div></div><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.hsplit()</code></span></div><div class="hide-content"></div></div><div class="hide-toggle"><div class="hide-button toggle-title"><i class="fas fa-caret-right fa-fw"></i><span><code>np.dsplit()</code></span></div><div class="hide-content"></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="数组增删改查">数组增删改查</h2><div class="tabs" id="szzsgc"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#szzsgc-1"><code>np.append()</code></button></li><li class="tab"><button type="button" data-href="#szzsgc-2"><code>np.delete()</code></button></li><li class="tab"><button type="button" data-href="#szzsgc-3"><code>np.insert()</code></button></li><li class="tab"><button type="button" data-href="#szzsgc-4"><code>np.unique()</code></button></li><li class="tab"><button type="button" data-href="#szzsgc-5"><code>np.sort()</code></button></li><li class="tab"><button type="button" data-href="#szzsgc-6"><code>np.argsort()</code></button></li><li class="tab"><button type="button" data-href="#szzsgc-7"><code>np.lexsort()</code></button></li><li class="tab"><button type="button" data-href="#szzsgc-8"><code>np.msort()</code></button></li><li class="tab"><button type="button" data-href="#szzsgc-9"><code>np.sort_complex()</code></button></li><li class="tab"><button type="button" data-href="#szzsgc-10"><code>np.max()</code></button></li><li class="tab"><button type="button" data-href="#szzsgc-11"><code>np.amax()</code></button></li><li class="tab"><button type="button" data-href="#szzsgc-12"><code>np.maximum()</code></button></li><li class="tab"><button type="button" data-href="#szzsgc-13"><code>np.min()</code></button></li><li class="tab"><button type="button" data-href="#szzsgc-14"><code>np.amin()</code></button></li><li class="tab"><button type="button" data-href="#szzsgc-15"><code>np.minimum()</code></button></li><li class="tab"><button type="button" data-href="#szzsgc-16"><code>np.argmax()</code></button></li><li class="tab"><button type="button" data-href="#szzsgc-17"><code>np.argmin()</code></button></li><li class="tab"><button type="button" data-href="#szzsgc-18"><code>np.nonzero()</code></button></li><li class="tab"><button type="button" data-href="#szzsgc-19"><code>np.where()</code></button></li><li class="tab"><button type="button" data-href="#szzsgc-20"><code>np.extract()</code></button></li><li class="tab"><button type="button" data-href="#szzsgc-21"><code>np.place()</code></button></li><li class="tab"><button type="button" data-href="#szzsgc-22"><code>np.partition()</code></button></li><li class="tab"><button type="button" data-href="#szzsgc-23"><code>np.argpartition()</code></button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="szzsgc-1"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="szzsgc-2"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="szzsgc-3"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="szzsgc-4"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="szzsgc-5"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="szzsgc-6"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="szzsgc-7"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="szzsgc-8"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="szzsgc-9"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="szzsgc-10"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="szzsgc-11"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="szzsgc-12"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="szzsgc-13"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="szzsgc-14"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="szzsgc-15"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="szzsgc-16"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="szzsgc-17"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="szzsgc-18"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="szzsgc-19"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="szzsgc-20"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="szzsgc-21"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="szzsgc-22"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="szzsgc-23"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="数学运算">数学运算</h2><div class="tabs" id="sxys"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#sxys-1"><code>np.dot()</code></button></li><li class="tab"><button type="button" data-href="#sxys-2"><code>np.out()</code></button></li><li class="tab"><button type="button" data-href="#sxys-3"><code>np.inner()</code></button></li><li class="tab"><button type="button" data-href="#sxys-4"><code>np.multiply()</code></button></li><li class="tab"><button type="button" data-href="#sxys-5"><code>np.matmul()</code></button></li><li class="tab"><button type="button" data-href="#sxys-6"><code>np.log()</code></button></li><li class="tab"><button type="button" data-href="#sxys-7"><code>np.sqrt()</code></button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="sxys-1"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="sxys-2"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="sxys-3"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="sxys-4"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="sxys-5"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="sxys-6"><p>以e为底的对数计算，满足log(exp(x)) = x，还有np.log2()、np.log10()，对于其他底数对数的计算，采用换底公式转换为以10为底的对数（也就是ln）计算</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="sxys-7"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>（线性代数、傅里叶变换、随机数生成等）<br><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.cnblogs.com/gl1573/p/10531421.html">https://www.cnblogs.com/gl1573/p/10531421.html</a></p><p><a href="/shuoshuo/">哈哈哈</a></p><p>np.str、np.void等数据类型有什么用途？</p><p>ufunc是什么？</p><p>学习傅里叶变换！及其用途！<br><a target="_blank" rel="noopener external nofollow noreferrer" href="https://zhuanlan.zhihu.com/p/28626431">https://zhuanlan.zhihu.com/p/28626431</a></p><style>.tip{width:80%}@media only screen and (max-width:600px){.tip{width:100%}}</style><div class="tip fas fa-quote-left"><p>[1] Numpy<a target="_blank" rel="noopener external nofollow noreferrer" href="https://numpy.org/doc/stable/user/quickstart.html">官方英文文档</a>·用户手册<br>[2] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.numpy.org.cn/user/quickstart.html#基础知识">Numpy中文网</a>入门教程<br>[3] <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.runoob.com/numpy/numpy-tutorial.html">RUNOOB菜鸟教程</a>Numpy入门教程</p></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者:</span> <span class="post-copyright-info"><a href="mailto:undefined" rel="external nofollow noreferrer">Muggledy</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接:</span> <span class="post-copyright-info"><a href="https://muggledy.github.io/posts/10423/">https://muggledy.github.io/posts/10423/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明:</span> <span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://muggledy.github.io" target="_blank">Muggledy's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/celestezj/ImageHosting/compress/10.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>评论</span></div><div id="comment-switch"><span class="first-comment">Valine</span><span class="switch-btn"></span><span class="second-comment">Gitalk</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/celestezj/ImageHosting@v0.1/img/20210202152223.jpg" onerror='this.onerror=null,this.src="https://cdn.jsdelivr.net/gh/celestezj/ImageHosting/img/20210328224511.gif"' alt="avatar"><div class="author-info__name">Muggledy</div><div class="author-info__description">孤筏重洋</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">2</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">1</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/muggledy"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/muggledy" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://cdn.jsdelivr.net/gh/celestezj/ImageHosting/img/20210209044239.jpg" rel="external nofollow noreferrer" target="_blank" title="WeChat"><i class="fab fa-weixin"></i></a><a class="social-icon" href="mailto:zgjsycfndy2015@163.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="http://wpa.qq.com/msgrd?v=3&amp;uin=3101266674&amp;site=qq&amp;menu=yes" rel="external nofollow noreferrer" target="_blank" title="QQ"><i class="fab fa-qq"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><a href="/note/"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></a><div class="announcement_content">本人的更新是极慢的~</div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84"><span class="toc-number">1.</span> <span class="toc-text">创建数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BD%A2%E7%8A%B6%E9%87%8D%E5%A1%91"><span class="toc-number">2.</span> <span class="toc-text">形状重塑</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E5%88%87%E7%89%87%E5%92%8C%E7%B4%A2%E5%BC%95"><span class="toc-number">3.</span> <span class="toc-text">数组切片和索引</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B9%BF%E6%92%AD%E6%9C%BA%E5%88%B6"><span class="toc-number">4.</span> <span class="toc-text">广播机制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E6%8B%BC%E6%8E%A5%E4%B8%8E%E5%88%86%E5%89%B2"><span class="toc-number">5.</span> <span class="toc-text">数组拼接与分割</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5"><span class="toc-number">6.</span> <span class="toc-text">数组增删改查</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E5%AD%A6%E8%BF%90%E7%AE%97"><span class="toc-number">7.</span> <span class="toc-text">数学运算</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/65257/" title="Butterfly魔改部分记录"><img src="https://cdn.jsdelivr.net/gh/celestezj/ImageHosting/img/20210328214628.jpg" onerror='this.onerror=null,this.src="https://cdn.jsdelivr.net/gh/celestezj/ImageHosting/img/20210328224519.jpg"' alt="Butterfly魔改部分记录"></a><div class="content"><a class="title" href="/posts/65257/" title="Butterfly魔改部分记录">Butterfly魔改部分记录</a><time datetime="2021-03-24T16:00:00.000Z" title="发表于 2021-03-25 00:00:00">2021-03-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/17177/" title="Hexo博客简易配置"><img src="https://cdn.jsdelivr.net/gh/celestezj/ImageHosting/img/20210217121829.jpg" onerror='this.onerror=null,this.src="https://cdn.jsdelivr.net/gh/celestezj/ImageHosting/img/20210328224519.jpg"' alt="Hexo博客简易配置"></a><div class="content"><a class="title" href="/posts/17177/" title="Hexo博客简易配置">Hexo博客简易配置</a><time datetime="2021-02-05T16:00:00.000Z" title="发表于 2021-02-06 00:00:00">2021-02-06</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 By Muggledy</div><div class="footer_custom_text"><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io/zh-cn/"><img src="https://img.shields.io/badge/Frame-Hexo-blue"></a>&nbsp;&nbsp;<a target="_blank" rel="noopener external nofollow noreferrer" href="https://butterfly.js.org/"><img src="https://img.shields.io/badge/Theme-Butterfly-brightgreen"></a>&nbsp;&nbsp;<a target="_blank" rel="noopener external nofollow noreferrer" href="https://pages.github.com/"><img src="https://img.shields.io/badge/Hosted-Github-red"></a>&nbsp;&nbsp;<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.jsdelivr.com/"><img src="https://img.shields.io/badge/CDN-jsdelivr-blueviolet"></a></p></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div></div><hr><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="https://cdn.jsdelivr.net/gh/muggledy/muggledy.github.io@v1.2/js/utils.js"></script><script src="https://cdn.jsdelivr.net/gh/muggledy/muggledy.github.io@v2.0/js/main.js"></script><script src="https://cdn.jsdelivr.net/gh/muggledy/muggledy.github.io@v1.2/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/gh/muggledy/muggledy.github.io@v1.2/js/search/local-search.js"></script><div class="js-pjax"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.css"><script>document.querySelectorAll("#article-container span.katex-display").forEach(a=>{btf.wrap(a,"div","","katex-wrap")})</script><script>document.getElementsByClassName("mermaid").length&&(window.mermaidJsLoad?mermaid.init():getScript("https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js").then(()=>{window.mermaidJsLoad=!0,mermaid.initialize({theme:"default"}),mermaid.init()}))</script><script>function loadValine(){function e(){new Valine(Object.assign({el:"#vcomment",appId:"b7x9hYzkDTy4reR4khezoDcf-gzGzoHsz",appKey:"ReeSRhiVzefUKIsJwSvUD6qV",placeholder:"快来评论吧(请注意“最新评论”只关联了Gitalk评论系统哦)~",avatar:"monsterid",meta:"nick,mail,link".split(","),pageSize:"10",lang:"zh-CN",recordIP:!1,serverURLs:"",emojiCDN:"",emojiMaps:"",enableQQ:!0,path:window.location.pathname,requiredFields:["nick,mail"],visitor:!1,master:"5f452633ebd48518f8778c240d946335".split(","),friends:"a483c79213701a5644bec62de88f974d,34c64a0cb78287b2ae889cda5d9d2a91,574fbd33aa74a09d671f4608af20fd2b".split(",")},null))}"function"==typeof Valine?e():getScript("https://cdn.jsdelivr.net/gh/HCLonely/Valine@latest/dist/Valine.min.js").then(e)}{function loadOtherComment(){loadValine()}setTimeout(loadValine,0)}</script><script>function addGitalkSource(){const e=document.createElement("link");e.rel="stylesheet",e.href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css",document.getElementsByTagName("head")[0].appendChild(e)}function loadGitalk(){function e(){new Gitalk(Object.assign({clientID:"05956758b57064d95a57",clientSecret:"3c4ddd74e671e3d79aac8417e708f69ff93b3e28",repo:"muggledy.github.io",owner:"muggledy",admin:["muggledy"],id:"c051106ad023978442736a6734b247cd",language:"zh-CN",perPage:10,distractionFreeMode:!1,pagerDirection:"last",createIssueManually:!1,updateCountCallback:commentCount},null)).render("gitalk-container")}"function"==typeof Gitalk?e():(addGitalkSource(),getScript("https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js").then(e))}function commentCount(e){let t=document.querySelector("#post-meta .gitalk-comment-count");t&&(t.innerHTML=e)}{function loadOtherComment(){loadGitalk()}loadGitalk()}</script></div><script>window.addEventListener("load",()=>{const e=()=>{fetch("https://api.github.com/repos/muggledy/muggledy.github.io/issues/comments?sort=updated&direction=desc&per_page=6&page=1",{headers:{Accept:"application/vnd.github.v3.html+json"}}).then(e=>e.json()).then(e=>{(e=>{let a="";Promise.all(e.map(e=>fetch(e.url).then(e=>e.json()).then(e=>"utterances-bot"===e.user.login?(a=e.body.match(/https?\:\/\/[^\" ]+/gi).slice(-1),a[0]):(a=e.body.match(/https?\:\/\/[^\" ]+/i),a[0])))).then(a=>{e=e.map((e,t)=>({...e,url:a[t]})),saveToLocal.set("github-newest-comments",JSON.stringify(e),5/1440),t(e)})})(e.map(e=>{return{avatar:e.user.avatar_url,content:(t=e.body_html,""===t||(t=(t=(t=(t=t.replace(/<img.*?src="(.*?)"?[^\>]+>/gi,"[图片]")).replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi,"[链接]")).replace(/<pre><code>.*?<\/pre>/gi,"[代码]")).replace(/<[^>]+>/g,"")).length>150&&(t=t.substring(0,150)+"..."),t),nick:e.user.login,url:e.issue_url,date:e.updated_at,githubUrl:e.html_url};var t}))}).catch(e=>{document.querySelector("#card-newest-comments .aside-list").innerHTML="无法获取评论，请确认相关配置是否正确"})},t=e=>{let t="";if(e.length)for(let a=0;a<e.length;a++){t+="<div class='aside-list-item'>";{const n="src";t+=`<a href='${e[a].url}' class='thumbnail'><img ${n}='${e[a].avatar}' alt='${e[a].nick}'></a>`}t+=`<div class='content'>\n        <a class='comment' href='${e[a].url}'>${e[a].content}</a>\n        <div class='name'><span>${e[a].nick} / </span><time datetime="${e[a].date}">${btf.diffDate(e[a].date,!0)}</time></div>\n        </div></div>`}else t+="没有评论";let a=document.querySelector("#card-newest-comments .aside-list");a.innerHTML=t,window.lazyLoadInstance&&window.lazyLoadInstance.update(),window.pjax&&window.pjax.refresh(a)},a=()=>{if(document.querySelector("#card-newest-comments .aside-list")){const a=saveToLocal.get("github-newest-comments");a?t(JSON.parse(a)):e()}};a(),document.addEventListener("pjax:complete",a)})</script><script src="https://cdn.jsdelivr.net/gh/muggledy/muggledy.github.io@v1.2/js/t_chart.js"></script><script src="https://cdn.jsdelivr.net/gh/celestezj/ImageHosting/data/funny_title/funny-title-js.js"></script><script async src="https://cdn.jsdelivr.net/gh/celestezj/ImageHosting/data/font_animal/font_animal.js"></script><script data-pjax src="https://cdn.jsdelivr.net/gh/muggledy/muggledy.github.io@v1.2/js/cal_rs.js"></script><script src="https://cdn.jsdelivr.net/gh/celestezj/ImageHosting/data/visitors_map/vis_m.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!1,POWERMODE.mobile=!1,document.body.addEventListener("input",POWERMODE)</script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors=["title","#web_bg","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:complete",(function(){void 0!==window.ifExe_addHighlightTool&&(window.ifExe_addHighlightTool=!0),void 0!==window.ifExe_clickFnOfTagHide&&(window.ifExe_clickFnOfTagHide=!0),window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach(e=>{const t=document.createElement("script"),o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)}),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof chatBtnFn&&chatBtnFn(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll(),"object"==typeof preloader&&preloader.endLoading()})),document.addEventListener("pjax:send",(function(){if("object"==typeof preloader&&preloader.initLoading(),window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode")})),document.addEventListener("pjax:error",e=>{404===e.request.status&&pjax.loadUrl("/404.html")})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><div class="dyminimenu"><ul><li onclick="wll_menu(1)"><span>📝 添加mini便签</span></li><li onclick="wll_menu(2)"><span>🆑 清空当前页面</span></li></ul></div><script data-pjax>function history_calendar_injector_config(){var i=document.getElementsByClassName("sticky_layout")[0];console.log("已挂载history_calendar"),i.insertAdjacentHTML("afterbegin",'<div class="card-widget card-history"><div class="card-content"><div class="item-headline"><i class="fas fa-clock fa-spin"></i><span>那年今日</span></div><div id="history-baidu" style="height: 100px;overflow: hidden"><div class="history_swiper-container" id="history-container" style="width: 100%;height: 100%"><div class="swiper-wrapper" id="history_container_wrapper" style="height:20px"></div></div></div></div>')}document.getElementsByClassName("sticky_layout")[0]&&"/"===location.pathname&&history_calendar_injector_config()</script><script data-pjax src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script><script data-pjax src="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-card-history/baiduhistory/js/main.js"></script></body><script async data-pjax>IsPC()&&btf.isJqueryLoad(image_preview_wrapper),btf.isJqueryLoad(dybubblefn)</script></html>