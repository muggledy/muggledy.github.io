<!--é¦–é¡µä»¥åŠæ‰€æœ‰ä¸å«æœ‰é¡¶å›¾çš„é¡µé¢ä¸º'dy-show-cbg'ï¼Œå½’æ¡£é¡µé¢éœ€è¦é¢å¤–æ§åˆ¶ï¼Œå…¶ä¸å—page.top_imgç®¡ç†--><!--if is_archive()--><!--  - var temp_archive_top_img = theme.archive_img !== false ? theme.archive_img || theme.default_top_img : false--><!--  - dyshowcolorbg = temp_archive_top_img == false ? 'dy-show-cbg' : dyshowcolorbg--><!--é™¤posté¡µé¢å…¨éƒ¨è®¾ä¸º'dy-show-cbg'--><!DOCTYPE html><html class="hide-aside" lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>PythonåŸºç¡€ - ç±»å‹å’Œå¯¹è±¡ | Muggledy's Blog</title><meta name="keywords" content="Python"><meta name="author" content="Muggledy"><meta name="copyright" content="Muggledy"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Pythonç¨‹åºä¸­ä¿å­˜çš„æ‰€æœ‰æ•°æ®éƒ½æ˜¯å›´ç»•å¯¹è±¡è¿™ä¸€æ¦‚å¿µæ¥æ„å»ºçš„ï¼Œå¯¹è±¡åŒ…æ‹¬ä¸€äº›åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Œå¦‚æ•°å­—ã€å­—ç¬¦ä¸²ã€åˆ—è¡¨å’Œå­—å…¸ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç±»çš„å½¢å¼åˆ›å»ºç”¨æˆ·è‡ªå®šä¹‰çš„å¯¹è±¡...">
<meta property="og:type" content="article">
<meta property="og:title" content="PythonåŸºç¡€ - ç±»å‹å’Œå¯¹è±¡">
<meta property="og:url" content="https://muggledy.top/posts/5311/index.html">
<meta property="og:site_name" content="Muggledy&#39;s Blog">
<meta property="og:description" content="Pythonç¨‹åºä¸­ä¿å­˜çš„æ‰€æœ‰æ•°æ®éƒ½æ˜¯å›´ç»•å¯¹è±¡è¿™ä¸€æ¦‚å¿µæ¥æ„å»ºçš„ï¼Œå¯¹è±¡åŒ…æ‹¬ä¸€äº›åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Œå¦‚æ•°å­—ã€å­—ç¬¦ä¸²ã€åˆ—è¡¨å’Œå­—å…¸ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç±»çš„å½¢å¼åˆ›å»ºç”¨æˆ·è‡ªå®šä¹‰çš„å¯¹è±¡...">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.staticaly.com/gh/celestezj/Mirror1ImageHosting/master/compress/zjandxiong.webp">
<meta property="article:published_time" content="2021-04-24T12:55:45.000Z">
<meta property="article:modified_time" content="2021-05-01T11:32:11.000Z">
<meta property="article:author" content="Muggledy">
<meta property="article:tag" content="Python">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.staticaly.com/gh/celestezj/Mirror1ImageHosting/master/compress/zjandxiong.webp"><link rel="shortcut icon" href="https://cdn.staticaly.com/gh/celestezj/ImageHosting/master/img/20210207091812.png"><link rel="canonical" href="https://muggledy.top/posts/5311/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="https://cdn.staticaly.com/gh/muggledy/muggledy.github.io/v6.7/css/index.css"><link rel="stylesheet" href="https://unpkg.com/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç°¡"},
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"è¿™ç¯‡æ–‡ç« å·²ç»å‘è¡¨äº†","messageNext":"å¤©äº†ï¼Œå…¶ä¸­æŸäº›å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶ã€‚"},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: true,
    post: false
  },
  runtime: 'å¤©',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: {"limitCount":50,"languages":{"author":"ä½œè€…: Muggledy","link":"é“¾æ¥: ","source":"æ¥æº: Muggledy's Blog","info":"è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://unpkg.com/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://unpkg.com/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://unpkg.com/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://unpkg.com/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://unpkg.com/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isToc: true,
  postUpdate: '2021-05-01 19:32:11'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><link rel="stylesheet" href="https://cdn.staticaly.com/gh/muggledy/muggledy.github.io/v6.8/css/mystyle.css"><link rel="stylesheet" href="https://cdn.staticaly.com/gh/celestezj/ImageHosting/master/data/font_awesome/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.staticaly.com/gh/celestezj/ImageHosting/master/data/button/buttons.min.css" media="defer" onload="this.media='all'"><script src="https://cdn.staticaly.com/gh/celestezj/ImageHosting/v0.9/data/img_preview/article_img_preview.js"></script><script src="https://cdn.staticaly.com/gh/celestezj/ImageHosting/v1.0/data/bubble/bubble.js"></script><script src="https://cdn.staticfile.org/moment.js/2.24.0/moment.js"></script><script src="https://unpkg.com/echarts@5.1.2/dist/echarts.min.js"></script><script src="https://cdn.staticaly.com/gh/celestezj/ImageHosting/master/data/is_pc/is-pc-etc.js"></script><link rel="stylesheet" href="https://cdn.staticaly.com/gh/celestezj/ImageHosting/v3.1/data/hint/hint.min.css" media="defer" onload="this.media='all'"><script>if (IsPC()){
  loadJS("/live2d-widget/autoload.js",function(){})
}</script><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-card-history/baiduhistory/css/main.css"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Muggledy's Blog" type="application/atom+xml">
</head><!--.dyminibox--><body><div class="dy-show-cbg" id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="https://cdn.staticaly.com/gh/celestezj/Mirror1ImageHosting/master/compress/blogavatar.webp" onerror="onerror=null;src='https://cdn.staticaly.com/gh/celestezj/ImageHosting/master/img/20210328224511.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">6</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">3</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">6</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-book"></i><span> æ–‡ç« </span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child" style="left:-74.2px;"><li><a class="site-page child faa-parent animated-hover" href="/archives/" onclick=""><i class="fa-fw fas fa-archive faa-tada"></i><span> å½’æ¡£</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/" onclick=""><i class="fa-fw fas fa-tags faa-tada"></i><span> æ ‡ç­¾</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/" onclick=""><i class="fa-fw fas fa-folder-open faa-tada"></i><span> åˆ†ç±»</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/" onclick=""><i class="fa-fw fas fa-heart card-announcement-animation"></i><span> å…³äº</span></a></div><div class="menus_item"><a class="site-page" href="/note/" onclick=""><i class="fa-fw fas fa-bullhorn"></i><span> å…¬ç¤º</span></a></div><div class="menus_item"><a class="site-page" href="/link/" onclick=""><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-list"></i><span> æ›´å¤š</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child" style="left:-140px;"><li><a class="site-page child faa-parent animated-hover" href="/gallery/" onclick=""><i class="fa-fw fas fa-image faa-tada"></i><span> å›¾å†Œé›†</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/movies/" onclick=""><i class="fa-fw fas fa-video faa-tada"></i><span> ç”µå½±</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:void(0);" rel="external nofollow noreferrer" onclick="dogo()"><i class="fa-fw fas fa-layer-group faa-tada"></i><span> éšä¾¿çœ‹çœ‹</span></a></li><li><a class="site-page child faa-parent animated-hover" target="_blank" rel="noopener external nofollow noreferrer" href="https://leancapp.muggledy.top" onclick=""><i class="fa-fw fas fa-comments faa-tada"></i><span> è¯„è®º</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.staticaly.com/gh/celestezj/Mirror1ImageHosting/master/compress/20210323121638.webp')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Muggledy's Blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw faa-wrench animated"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-book"></i><span> æ–‡ç« </span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child" style="left:-74.2px;"><li><a class="site-page child faa-parent animated-hover" href="/archives/" onclick=""><i class="fa-fw fas fa-archive faa-tada"></i><span> å½’æ¡£</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/" onclick=""><i class="fa-fw fas fa-tags faa-tada"></i><span> æ ‡ç­¾</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/" onclick=""><i class="fa-fw fas fa-folder-open faa-tada"></i><span> åˆ†ç±»</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/" onclick=""><i class="fa-fw fas fa-heart card-announcement-animation"></i><span> å…³äº</span></a></div><div class="menus_item"><a class="site-page" href="/note/" onclick=""><i class="fa-fw fas fa-bullhorn"></i><span> å…¬ç¤º</span></a></div><div class="menus_item"><a class="site-page" href="/link/" onclick=""><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-list"></i><span> æ›´å¤š</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child" style="left:-140px;"><li><a class="site-page child faa-parent animated-hover" href="/gallery/" onclick=""><i class="fa-fw fas fa-image faa-tada"></i><span> å›¾å†Œé›†</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/movies/" onclick=""><i class="fa-fw fas fa-video faa-tada"></i><span> ç”µå½±</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:void(0);" rel="external nofollow noreferrer" onclick="dogo()"><i class="fa-fw fas fa-layer-group faa-tada"></i><span> éšä¾¿çœ‹çœ‹</span></a></li><li><a class="site-page child faa-parent animated-hover" target="_blank" rel="noopener external nofollow noreferrer" href="https://leancapp.muggledy.top" onclick=""><i class="fa-fw fas fa-comments faa-tada"></i><span> è¯„è®º</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">PythonåŸºç¡€ - ç±»å‹å’Œå¯¹è±¡</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2021-04-24T12:55:45.000Z" title="å‘è¡¨äº 2021-04-24 20:55:45">2021-04-24</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2021-05-01T11:32:11.000Z" title="æ›´æ–°äº 2021-05-01 19:32:11">2021-05-01</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/">è®¡ç®—æœºåŸºç¡€</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">ç¼–ç¨‹è¯­è¨€</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">27.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>109åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="PythonåŸºç¡€ - ç±»å‹å’Œå¯¹è±¡"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">è¯„è®ºæ•°:</span><a href="/posts/5311/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/posts/5311/" itemprop="commentCount"></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><div class="note green icon flat"><i class="note-icon fas fa-rocket"></i><p>ğŸ“š æ–‡æ¡£ç›®å½• <!--è¯´å®è¯åå‡ ç« èŠ‚æ™®éå†™å¾—ä¸å¤ªæ»¡æ„ï¼Œä¸»è¦æ˜¯ä¸ºé¢è¯•å…¬å¼€ï¼Œç¬¬ä¸‰ç¯‡å°šæœ‰å¾…å®Œå–„--><br>
ğŸƒ ç±»å‹å’Œå¯¹è±¡ - ğŸˆ <a href="/posts/176/"><span style="color:#3a96dd">ç¨‹åºç»“æ„ä¸å‡½æ•°ç¼–ç¨‹</span></a> - ğŸ <a href="/posts/22901/"><span style="color:#3a96dd">é¢å‘å¯¹è±¡ç¼–ç¨‹</span></a></p>
</div>
<div class="note warning simple"><p>ç”±äºé¡µé¢ä¸­çš„æŸäº›å†…å®¹åµŒå¥—åœ¨äº†å¤šé‡æ ‡ç­¾æ’ä»¶ä¸‹ï¼Œä½¿å¾—å®½åº¦å˜å¾—è¿‡äºç‹­çª„ï¼Œç‰¹åˆ«æ˜¯æ‰‹æœºç«¯ä½“éªŒä¼šå¾ˆå·®ï¼Œå»ºè®®åœ¨ç”µè„‘ç«¯é˜…è¯»<!--ï¼Œåé¢æˆ‘ä¼šæ³¨æ„é¿å…è¯¥é—®é¢˜--></p>
</div>
<div style="display:none;">
<div class="note danger simple"><p>è¯¥ç¬”è®°å†…å®¹å¯èƒ½å­˜åœ¨ä¸€äº›é”™è¯¯ï¼Œå¦‚æœæ‚¨èƒ½å¤Ÿå¸®åŠ©æŒ‡æ­£ï¼Œé„™äººå°†éå¸¸æ„Ÿè°¢</p>
</div>
</div>
<h2 id="å¯¹è±¡çš„èº«ä»½ä¸ç±»å‹">å¯¹è±¡çš„èº«ä»½ä¸ç±»å‹</h2>
<p>Pythonä¸­<span class="inline-tag red">ä¸€åˆ‡çš†å¯¹è±¡</span>ï¼ŒåŒ…æ‹¬ä¸€äº›å¸¸è§çš„åŸºç¡€æ•°æ®ç±»å‹ï¼Œå¦‚æ•°å­—ã€å­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å­—å…¸ç­‰ï¼Œè¿˜æœ‰ç”¨æˆ·æ‰€è‡ªå®šä¹‰çš„å¯¹è±¡ï¼ˆå¯¹è±¡ä¹Ÿç§°ä¸ºç±»å‹çš„â€œå®ä¾‹â€ï¼‰ã€‚å¯¹è±¡å…·æœ‰ä¸‰å¤§ç‰¹å¾ï¼š</p>
<ol>
<li>èº«ä»½ï¼ˆidï¼‰ï¼Œå¯ä»¥ç†è§£ä¸ºåœ¨å†…å­˜ä¸­çš„åœ°å€ï¼Œå…·æœ‰å”¯ä¸€æ€§ï¼Œå¯ä»¥é€šè¿‡<code>id(obj)</code>æŸ¥çœ‹</li>
<li>ç±»å‹ï¼ˆtypeï¼‰ï¼Œå¯¹è±¡éƒ½æ˜¯ç”±ç±»å®ä¾‹åŒ–äº§ç”Ÿçš„ï¼Œå¯¹è±¡æ‰€å±ç±»å‹å¯é€šè¿‡<code>type(obj)</code>æˆ–<code>obj.__class__</code>æŸ¥çœ‹</li>
<li>å€¼ï¼ˆvalueï¼‰ï¼Œä¸åŒå¯¹è±¡å…·æœ‰ä¸åŒå€¼ï¼ˆä½“ç°åœ¨â€œå±æ€§â€å’Œâ€œæ–¹æ³•â€çš„ä¸åŒä¸Šï¼‰ï¼Œè¿™ä¹Ÿæ˜¯å…¶å­˜åœ¨çš„ç°å®æ„ä¹‰</li>
</ol>
<div class="note simple"><p>å¯¹è±¡è¢«åˆ›å»ºåï¼Œå…¶èº«ä»½å’Œç±»å‹å°±ä¸å¯æ”¹å˜ï¼Œæ ¹æ®å…¶å€¼æ˜¯å¦å¯å˜ï¼Œå¯ä»¥åŒºåˆ†ä¸ºâ€œå¯å˜å¯¹è±¡â€ä¸â€œä¸å¯å˜å¯¹è±¡â€</p>
</div>
<p>ä»èº«ä»½ã€ç±»å‹å’Œå€¼ä¸‰ä¸ªä¸åŒçš„è§’åº¦åˆ†åˆ«æ¯”è¾ƒå¯¹è±¡ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">compare</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    <span class="keyword">if</span> a <span class="keyword">is</span> b:</span><br><span class="line">        <span class="keyword">pass</span> <span class="comment">#aå’Œbæ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œæˆ–è€…è¯´aå’ŒbæŒ‡å‘åŒä¸€å†…å­˜åœ°å€</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">type</span>(a) <span class="keyword">is</span> <span class="built_in">type</span>(b):</span><br><span class="line">        <span class="keyword">pass</span> <span class="comment">#aå’Œbå±äºåŒä¸€ç±»å‹</span></span><br><span class="line">    <span class="keyword">if</span> a == b:</span><br><span class="line">        <span class="keyword">pass</span> <span class="comment">#aå’Œbå…·æœ‰ç›¸åŒå€¼</span></span><br></pre></td></tr></table></figure>
<div class="note warning flat"><p>å½“ä½¿ç”¨<code>==</code>è¿ç®—ç¬¦æ—¶ï¼Œè¯·åŠ¡å¿…ç¡®ä¿<code>a==b</code>ä¸­çš„å·¦å€¼å¯¹è±¡<code>a</code>æ‰€å±ç±»å‹å·²é‡è½½äº†<code>__eq__</code>æ–¹æ³•ï¼ˆç‰¹åˆ«æé†’ç”¨æˆ·è‡ªå®šä¹‰å¯¹è±¡ï¼Œpythonä¸­å·²æœ‰çš„åŸºç¡€å¯¹è±¡ç±»å‹éƒ½å·²ç»é‡è½½äº†è¯¥æ–¹æ³•ï¼‰ï¼Œå¦åˆ™æ¯”è¾ƒæ˜¯æ— å®é™…æ„ä¹‰çš„ï¼Œé¡»çŸ¥<code>a==b</code>ç­‰åŒäºæ‰§è¡Œ<code>a.__eq__(b)</code>ï¼Œè€Œä¸€åˆ‡å¯¹è±¡ç»§æ‰¿è‡ª<code>object</code>ç±»å‹ï¼Œ<code>object</code>ç±»å‹çš„<code>__eq__</code>æ–¹æ³•å…¶å®æ¯”è¾ƒçš„æ˜¯èº«ä»½ï¼ˆ<code>return a is b</code>ï¼‰ã€‚ä¸€èˆ¬æ¥è¯´<code>is</code>ç”¨å¾—è¾ƒå°‘ï¼Œå› ä¸ºåœ¨å®é™…åœºæ™¯ä¸­ï¼Œè¦æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼Œå¹¶ä¸æ˜¯é€šè¿‡å†…å­˜åœ°å€æ¥åˆ¤æ–­çš„ï¼Œè€Œæ˜¯åº”è¯¥é€šè¿‡è¿™ä¸¤ä¸ªå¯¹è±¡çš„éƒ¨åˆ†å±æ€§å€¼ï¼Œæˆ–è€…å…¨éƒ¨å±æ€§å€¼æ¥å¯¹æ¯”åˆ¤æ–­çš„<br>
æ³¨ï¼šåœ¨æè¿°æ—¶ï¼Œ<code>obj</code>æ³›æŒ‡çš„æ˜¯ä»»æ„pythonå¯¹è±¡ï¼Œè€Œ<code>object</code>åˆ™ç‰¹æŒ‡ä¸‡ç‰©å§‹ç¥–ä¹‹åŸºç±»</p>
</div>
<div class="note info flat"><p>Pythonä¸­å…¨éƒ¨8ç§æ¯”è¾ƒè¿ç®—ï¼š<code>&gt;</code>ï¼ˆå¯¹åº”<code>__gt__()</code>ï¼‰, <code>&gt;=</code>ï¼ˆå¯¹åº”<code>__ge__()</code>ï¼‰, <code>&lt;</code>ï¼ˆå¯¹åº”<code>__lt__()</code>ï¼‰, <code>&lt;=</code>ï¼ˆå¯¹åº”<code>__le__()</code>ï¼‰, <code>==</code>, <code>!==</code>ï¼ˆå¯¹åº”<code>__ne__()</code>ï¼‰, <code>is</code>, <code>is not</code>ã€‚å…¶ä»–å°±ä¸è¯´äº†ï¼Œ<code>is</code>ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Ÿ<br>
æˆ–è®¸ä½ å·²çŸ¥é“<code>==None</code>æ˜¯ä¸æ¨èä½¿ç”¨çš„ï¼Œåº”æ›¿æ¢ä¸º<code>is None</code>ï¼Œè¿™åŸºäºä¸¤ç‚¹ç†ç”±ï¼š1ï¼‰<code>None</code>åœ¨pythonä¸­æ˜¯ä¸€ä¸ªå•ä¾‹å¯¹è±¡ï¼ˆ<code>None</code>ä½œä¸ºå¯¹è±¡ä¹Ÿå…·æœ‰è‡ªå·±çš„ç±»å‹ï¼Œä½†æ˜¯ä½ æ— æ³•ç”¨è¿™ä¸ªç±»å‹åˆ›é€ å‡ºå¦ä¸€ä¸ª<code>None</code>å¯¹è±¡ï¼‰ï¼Œå…¶å†…å­˜åœ°å€å”¯ä¸€ï¼Œè€Œèº«ä»½æ¯”è¾ƒçš„ä¸€ä¸ªå¥½å¤„å°±æ˜¯é€Ÿåº¦å¿«ï¼Œå› ä¸ºæ— éœ€å¯¹å°†è¦æ¯”è¾ƒçš„å¯¹è±¡æœ¬èº«è¿›è¡Œæ£€æŸ¥ï¼Œ<code>is</code>æ“ä½œç¬¦åªéœ€å¯¹å¯¹è±¡æ‰€åœ¨çš„å†…å­˜åœ°å€è¿›è¡Œæ¯”è¾ƒï¼Œå› æ­¤é‡‡ç”¨<code>is None</code>é€Ÿåº¦æ›´å¿«ï¼Œ2ï¼‰ç”±äº<code>==</code>æ˜¯å¯é‡è½½çš„ï¼Œå¯¼è‡´æŸäº›é<code>None</code>å¯¹è±¡ä¹Ÿå¯èƒ½â€œç­‰äºâ€<code>None</code>ï¼Œä»è€Œè‡´ä½¿ç¨‹åºå‡ºé”™ï¼Œè­¬å¦‚å½“é‡è½½å®šä¹‰ä¸º<code>def __eq__(self,other): return True</code>æ—¶</p>
</div>
<h2 id="ç±»å‹çš„ç±»å‹">ç±»å‹çš„ç±»å‹</h2>
<p>æ—¢ç„¶ä¸€åˆ‡çš†å¯¹è±¡ï¼Œç±»å‹æœ¬èº«ä½œä¸ºå¯¹è±¡åˆæ˜¯è°çš„å®ä¾‹å‘¢ï¼Ÿç­”ï¼š<code>type</code>ç±»ã€‚ä¸Šç»“è®ºï¼š</p>
<ul>
<li>ä¸€åˆ‡ç±»çš„ç±»éƒ½æ˜¯<code>type</code>ï¼Œå³ä¸€åˆ‡ç±»ï¼ˆåŒ…æ‹¬<code>type</code>è‡ªèº«ï¼‰éƒ½æ˜¯<code>type</code>ç±»çš„å®ä¾‹</li>
<li><code>object</code>æ˜¯æœ€é¡¶å±‚åŸºç±»ï¼Œä¸€åˆ‡ç±»ï¼ˆé™¤äº†<code>object</code>è‡ªèº«ï¼‰è¿½æœ¬æº¯æºéƒ½ç»§æ‰¿è‡ª<code>object</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="built_in">type</span>(<span class="built_in">object</span>)) <span class="comment">#&lt;class &#x27;type&#x27;&gt; #åŸºç±»objectä½œä¸ºå¯¹è±¡ï¼Œå®ƒçš„ç±»å‹æ˜¯type</span></span><br><span class="line">print(<span class="built_in">type</span>(<span class="built_in">type</span>)) <span class="comment">#&lt;class &#x27;type&#x27;&gt; #typeçš„ç±»å‹æ˜¯å…¶è‡ªèº«</span></span><br><span class="line">print(<span class="built_in">object</span>.__base__) <span class="comment">#None #objectæ— çˆ¶ç±»</span></span><br><span class="line">print(<span class="built_in">type</span>.__base__) <span class="comment">#&lt;class &#x27;object&#x27;&gt; #typeä½œä¸ºç±»ï¼Œç›´æ¥ç»§æ‰¿è‡ªobject</span></span><br><span class="line"></span><br><span class="line">print(<span class="built_in">list</span>.__base__) <span class="comment">#&lt;class &#x27;object&#x27;&gt; #listã€tupleã€dictç­‰ä»¥åŠè‡ªå®šä¹‰ç±»éƒ½ç»§æ‰¿è‡ªobjectï¼Œç±»å‹ä¸ºtype</span></span><br><span class="line">print(<span class="built_in">type</span>(<span class="built_in">list</span>)) <span class="comment">#&lt;class &#x27;type&#x27;&gt;</span></span><br></pre></td></tr></table></figure>
<div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.staticaly.com/gh/celestezj/ImageHosting/master/img/20210425185857.png" alt="å›¾1.&nbsp;objectç±»å’Œtypeç±»ï¼šå›¾ä¸­è™šçº¿æ˜¯å®ä¾‹å…³ç³»ã€å®çº¿æ˜¯ç»§æ‰¿å…³ç³»[3]"/></div></div>
<div class="hide-toggle" ><div class="hide-button toggle-title " style=""><i class="fas fa-caret-right fa-fw"></i><span><code>isinstance()</code>ç±»å‹åˆ¤æ–­</span></div>
    <div class="hide-content"><p>æ—©å…ˆåœ¨ä¹¦ä¸Šå¶ç„¶çœ‹åˆ°ä¸€è¡Œä»£ç <code>isinstance(A,object) #è¿”å›True</code>ï¼Œå…¶ä¸­<code>A</code>æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰ç±»ï¼Œçªç„¶å¾ˆä¸ç†è§£ï¼Œæ²¡å›è¿‡å‘³æ¥ï¼Œè¿˜åœ¨<a target="_blank" rel="noopener external nofollow noreferrer" href="https://segmentfault.com/q/1010000019754936">SegmentFault</a>ä¸Šæé—®ï¼Œå¥½è ¢/(ã„’oã„’)/~~</p>
<p>æ ¹æ®å¸®åŠ©æ–‡æ¡£ï¼ˆ<code>help(isinstance)</code>ï¼‰å¯çŸ¥ï¼š<code>isinstance(obj, class_or_tuple)</code>åˆ¤æ–­å¯¹è±¡<code>obj</code>æ˜¯å¦æ˜¯<code>class_or_tuple</code>ä¸­æŸä¸ªç±»çš„å®ä¾‹æˆ–è€…å…¶å­ç±»çš„å®ä¾‹ã€‚å‡è®¾<code>A</code>ç»§æ‰¿è‡ª<code>B</code>ï¼Œ<code>a=A()</code>ï¼Œé‚£ä¹ˆæ˜¾ç„¶<code>isinstance(a,A)</code>è¿”å›<code>True</code>ï¼Œç”±äº<code>B</code>æ˜¯<code>A</code>çš„çˆ¶ç±»ï¼Œæ‰€ä»¥<code>B</code>æ˜¯<code>a</code>æ‰€å±çš„æ›´å¤§çš„ç±»çš„èŒƒç•´ï¼Œæ‰€ä»¥<code>isinstance(a,B)</code>ä¹Ÿè¿”å›<code>True</code>ï¼Œå³<code>a</code>æ˜¯<code>B</code>çš„å®ä¾‹ã€‚æ ¹æ®ä¸Šé¢<code>object</code>ç±»å’Œ<code>type</code>ç±»ä¹‹é—´çš„å…³ç³»å¾ˆå®¹æ˜“æ¨çŸ¥ï¼šä¸€åˆ‡ç±»ï¼ˆåŒ…æ‹¬<code>object</code>å’Œ<code>type</code>ï¼‰éƒ½æ˜¯<code>object</code>çš„å®ä¾‹</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span> <span class="keyword">pass</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>(A(),<span class="built_in">object</span>)</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>(A,<span class="built_in">object</span>)</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>(<span class="built_in">object</span>,<span class="built_in">object</span>)</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>(<span class="built_in">type</span>,<span class="built_in">object</span>)</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>
<p>å®˜æ–¹å»ºè®®å½“æˆ‘ä»¬éœ€è¦åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡ç±»å‹çš„æ—¶å€™åº”å½“ä½¿ç”¨<code>isinstance()</code>ï¼Œè™½ç„¶å¯ä»¥ä½¿ç”¨<code>type()</code>åšâ€œç®€å•â€ç±»å‹åˆ¤æ–­ï¼Œâ€œç®€å•â€çš„åŸå› åœ¨äºï¼Œå®ƒæ— æ³•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å±äºå…¶åŸºç±»è¿™ä¸€æ›´å¤§çš„èŒƒç•´ï¼Œè­¬å¦‚æ— æ³•åˆ¤æ–­ä¸€åªé¹¦é¹‰ä¸ªä½“æ˜¯å¦å±äºé¸Ÿç±»ï¼ˆè°¬è®ºä¸€ï¼‰ï¼Œè€Œåªèƒ½åˆ¤æ–­å®ƒæ˜¯é¹¦é¹‰ç±»åˆ«</p>
<p>é¹¦é¹‰ä¸æ˜¯é¸Ÿï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Bird</span>:</span> <span class="keyword">pass</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Parrot</span>(<span class="params">Bird</span>):</span> <span class="keyword">pass</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=Parrot()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(a) <span class="keyword">is</span> Parrot</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(a) <span class="keyword">is</span> Bird</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>(a,Bird)</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>
<p>å¦å¤–åœ¨æ—§å¼ç±»ï¼ˆå®Œå…¨æ²¡å¿…è¦äº†è§£ï¼‰ä¸­<code>type()</code>è¿˜å…·æœ‰ä¸€ä¸ªç¼ºé™·ï¼Œè­¬å¦‚ä¸¤ä¸ªå®Œå…¨ä¸åŒçš„ç±»å®ä¾‹ç«Ÿç„¶èƒ½å¾—å‡ºâ€œç±»å‹ç›¸åŒâ€çš„ç»“æœï¼ˆè°¬è®ºäºŒï¼‰ï¼Œç‹—å’ŒçŒ«æ˜¯åŒç±»ï¼Ÿç¤ºä¾‹å¦‚ä¸‹ï¼ˆpython2ç¯å¢ƒï¼‰ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>:</span> <span class="keyword">pass</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>:</span> <span class="keyword">pass</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d=Dog()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c=Cat()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(d) <span class="keyword">is</span> <span class="built_in">type</span>(c)</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(d)</span><br><span class="line">&lt;<span class="built_in">type</span> <span class="string">&#x27;instance&#x27;</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>(d,Cat)</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Shiba</span>(<span class="params">Dog</span>):</span> <span class="keyword">pass</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(Shiba())</span><br><span class="line">&lt;<span class="built_in">type</span> <span class="string">&#x27;instance&#x27;</span>&gt;</span><br></pre></td></tr></table></figure>
<p>å¯¹äºæ–°å¼ç±»æ¥è¯´ï¼Œå®ä¾‹åŒ–åçš„å¯¹è±¡ç±»å‹å°±æ˜¯è¯¥ç±»ï¼Œè¿™ä¸å®¹ç½®ç–‘ï¼Œä½†æ˜¯æ—§å¼ç±»ä¸­æ²¡æœ‰åŸºç±»<code>object</code>ï¼Œå®ä¾‹åŒ–åçš„å¯¹è±¡ç±»å‹éƒ½æ˜¯<code>instance</code><br>
<a target="_blank" rel="noopener external nofollow noreferrer" href="https://segmentfault.com/q/1010000000127305">è¡¥å……</a>ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> collections <span class="keyword">import</span> Iterator</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span></span><br><span class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span>(<span class="params">self</span>):</span></span><br><span class="line"><span class="meta">... </span>        ...</span><br><span class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">__next__</span>(<span class="params">self</span>):</span></span><br><span class="line"><span class="meta">... </span>        ...</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>(A(), Iterator)</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>
<p>ç”±æ­¤å¯è§ï¼Œpythonæ˜¯æ ¹æ®â€œé¸­å­ç±»å‹â€çš„æ€æƒ³æ¥è¿›è¡Œç±»å‹åˆ¤æ–­çš„ï¼Œå³å½“çœ‹åˆ°ä¸€åªé¸Ÿèµ°èµ·æ¥åƒé¸­å­ã€æ¸¸æ³³èµ·æ¥åƒé¸­å­ã€å£°éŸ³å«èµ·æ¥ä¹Ÿåƒé¸­å­ï¼Œé‚£ä¹ˆè¿™åªé¸Ÿå°±å¯ä»¥è¢«è®¤ä¸ºæ˜¯é¸­å­ï¼Œä¸Šè¿°ç¤ºä¾‹å°½ç®¡<code>A</code>ç›´æ¥ç»§æ‰¿è‡ª<code>object</code>ï¼Œä½†ç”±äºå®ƒå®ç°äº†<code>__iter__()</code>å’Œ<code>__next__()</code>ï¼Œå› è€Œ<code>A()</code>è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡</p>
</div></div>
<h2 id="å¯¹è±¡çš„å¼•ç”¨ä¸å¤åˆ¶">å¯¹è±¡çš„å¼•ç”¨ä¸å¤åˆ¶</h2>
<p>åœ¨ç¨‹åºè¿›è¡Œåƒ<code>a=b</code>è¿™æ ·çš„èµ‹å€¼æ—¶ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªå¯¹<code>b</code>çš„æ–°å¼•ç”¨ï¼Œå¯¹äºåƒæ•°å­—å’Œå­—ç¬¦ä¸²è¿™æ ·çš„ä¸å¯å˜å¯¹è±¡ï¼Œè¿™ç§èµ‹å€¼å®é™…ä¸Šåˆ›å»ºäº†<code>b</code>çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œä¿®æ”¹<code>b</code>å¹¶ä¸å½±å“<code>a</code>ï¼Œç„¶è€Œï¼Œå¯¹äºå¯å˜å¯¹è±¡ï¼ˆå¦‚åˆ—è¡¨å’Œå­—å…¸ï¼‰ï¼Œè¡Œä¸ºåˆ™å®Œå…¨ä¸åŒï¼Œè­¬å¦‚ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = a <span class="comment">#bå’ŒaæŒ‡å‘å†…å­˜ä¸­åŒä¸€ä½ç½®çš„å¯¹è±¡</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b <span class="keyword">is</span> a <span class="comment">#id(a)==id(b)</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b[<span class="number">2</span>] = -<span class="number">100</span> <span class="comment">#ä¿®æ”¹å®¹å™¨bä¸­ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a <span class="comment">#æ­¤æ—¶aä»æŒ‡å‘bæ‰€æŒ‡å‘çš„å¯¹è±¡ï¼Œæ‰€ä»¥açš„å†…å®¹ä¹Ÿç›¸åº”æ”¹å˜</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, -<span class="number">100</span>, <span class="number">4</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c = d = <span class="number">12</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c = <span class="number">13</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå°±æ˜¯è¯´å½“ä¸¤ä¸ªå˜é‡å¼•ç”¨æŒ‡å‘åŒä¸€ä¸ªå¯å˜å¯¹è±¡æ—¶ï¼Œä¿®æ”¹å…¶ä¸­ä»»æ„ä¸€ä¸ªå˜é‡éƒ½ä¼šå½±å“åˆ°å¦ä¸€ä¸ªï¼Œä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œå¿…é¡»åˆ›å»ºå¯¹è±¡çš„å‰¯æœ¬è€Œä¸æ˜¯æ–°å¼•ç”¨ã€‚äº‹å®ä¸Šå¯¹äºåƒåˆ—è¡¨å’Œå­—å…¸è¿™æ ·çš„å®¹å™¨å¯¹è±¡ï¼Œå­˜åœ¨ä¸¤ç§å¤åˆ¶æ“ä½œï¼šæµ…å¤åˆ¶å’Œæ·±å¤åˆ¶ã€‚æµ…å¤åˆ¶è™½ç„¶åˆ›å»ºäº†ä¸€ä¸ªæ–°å¯¹è±¡ï¼ˆä½“ç°åœ¨idå˜åŒ–ï¼‰ï¼Œä½†å®ƒåŒ…å«çš„è¿˜æ˜¯å¯¹åŸå§‹å¯¹è±¡ä¸­æ‰€åŒ…å«çš„å…ƒç´ ï¼ˆå‡è®¾è¿™ä¸ªå…ƒç´ æ˜¯å¯å˜å¯¹è±¡çš„è¯ï¼‰çš„å¼•ç”¨ï¼Œè­¬å¦‚ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=[<span class="number">1</span>,<span class="number">2</span>,[<span class="number">3</span>,<span class="number">4</span>]] <span class="comment">#aä¸­ç¬¬ä¸‰ä¸ªå…ƒç´ æ˜¯å¯å˜å¯¹è±¡ï¼ˆæ‰€è°“å¯å˜å¯¹è±¡å°±æ˜¯å¯¹è±¡çš„å€¼å˜äº†ï¼Œä½†å…¶åœ¨å†…å­˜ä¸­çš„åœ°å€ä»ä¿æŒä¸å˜ï¼Œè€Œæ”¹å˜ä¸å¯å˜å¯¹è±¡çš„å€¼ï¼Œå°†ä¼šåœ¨å†…å­˜ä¸­æ–°å¼€è¾Ÿä¸€å—å†…å­˜å­˜æ”¾ä¿®æ”¹åçš„å¯¹è±¡ï¼‰</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b=<span class="built_in">list</span>(a) <span class="comment">#listå·¥å‚å‡½æ•°å±äºæµ…å¤åˆ¶ï¼Œè¿˜æœ‰åˆ‡ç‰‡æ“ä½œä¹Ÿæ˜¯æµ…å¤åˆ¶</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, [<span class="number">3</span>, <span class="number">4</span>]]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">0</span>]=<span class="number">8</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, [<span class="number">3</span>, <span class="number">4</span>]]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">2</span>][<span class="number">0</span>]=<span class="number">30</span> <span class="comment">#bä¸­ç¬¬ä¸‰ä¸ªå…ƒç´ å…¶å®æ˜¯å¯¹aä¸­ç¬¬ä¸‰ä¸ªå…ƒç´ çš„å¼•ç”¨ï¼Œå½“aä¸­ç¬¬ä¸‰ä¸ªå…ƒç´ çš„å€¼å‘ç”Ÿå˜åŒ–ï¼Œbä¸­ç¬¬ä¸‰ä¸ªå…ƒç´ ä¹Ÿå°†ç›¸åº”æ”¹å˜</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, [<span class="number">30</span>, <span class="number">4</span>]]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">2</span>].append(<span class="number">5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, [<span class="number">30</span>, <span class="number">4</span>, <span class="number">5</span>]]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">2</span>]=[<span class="number">11</span>,<span class="number">12</span>] <span class="comment">#è¯¥èµ‹å€¼ä½¿å¾—aä¸­ç¬¬ä¸‰ä¸ªå…ƒç´ æŒ‡å‘äº†å†…å­˜ä¸­å¦ä¸€ä¸ªåŒºåŸŸçš„ï¼ˆä¸€ä¸ªåˆ—è¡¨ï¼‰å¯¹è±¡ï¼Œä»è€Œå¯¹åˆ—è¡¨[30,4,5]çš„å¼•ç”¨è®¡æ•°å‡1ï¼Œè¿˜å‰©ä¸‹bä¸­ç¬¬ä¸‰ä¸ªå…ƒç´ å¯¹å®ƒçš„å”¯ä¸€å¼•ç”¨</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, [<span class="number">30</span>, <span class="number">4</span>, <span class="number">5</span>]]</span><br></pre></td></tr></table></figure>
<p>æ·±å¤åˆ¶ä¹Ÿå°†åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä¸”ä¼šé€’å½’åœ°éå†å®ƒæ‰€åŒ…å«çš„æ‰€æœ‰å¯¹è±¡å¹¶åˆ›å»ºå…¶å‰¯æœ¬ï¼Œéœ€å€ŸåŠ©æ ‡å‡†åº“ä¸­çš„<code>copy.deepcopy()</code>å‡½æ•°å®Œæˆæ­¤æ“ä½œ</p>
<h2 id="åŸºç¡€æ•°æ®ç±»å‹">åŸºç¡€æ•°æ®ç±»å‹</h2>
<div class="tabs" id="dytab1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#dytab1-1">None</button></li><li class="tab"><button type="button" data-href="#dytab1-2">æ•°å­—</button></li><li class="tab"><button type="button" data-href="#dytab1-3">åºåˆ—</button></li><li class="tab"><button type="button" data-href="#dytab1-4">æ˜ å°„</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="dytab1-1"><p><code>None</code>ç±»å‹è¡¨ç¤ºä¸€ä¸ªç©ºå¯¹è±¡ï¼Œå¦‚æœä¸€ä¸ªå‡½æ•°æ²¡æœ‰æ˜¾å¼åœ°è¿”å›å€¼ï¼Œåˆ™è¿”å›è¯¥å¯¹è±¡ã€‚<code>None</code>ç»å¸¸ç”¨ä½œå¯é€‰å‚æ•°çš„é»˜è®¤å€¼ï¼Œä»¥ä¾¿è®©å‡½æ•°æ£€æµ‹è°ƒç”¨è€…æ˜¯å¦ä¸ºè¯¥å‚æ•°å®é™…ä¼ é€’äº†å€¼ã€‚<code>None</code>æ²¡æœ‰ä»»ä½•å±æ€§ï¼Œåœ¨å¸ƒå°”è¡¨è¾¾å¼ä¸­æ±‚å€¼æ—¶ä¸º<code>False</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="dytab1-2"><p>Pythonå†…ç½®äº†5ç§æ•°å­—ç±»å‹ï¼ˆéƒ½æ˜¯ä¸å¯å˜å¯¹è±¡ï¼‰ï¼šå¸ƒå°”å‹ï¼ˆ<code>bool</code>ï¼‰ã€æ•´å‹ï¼ˆ<code>int</code>ï¼‰ã€é•¿æ•´å‹ï¼ˆ<code>long</code>ï¼Œç›®å‰å¥½åƒæ²¡æœ‰<code>long</code>è¿™ä¸€ç±»å‹äº†ï¼Œå¹¶å…¥<code>int</code>ï¼‰ã€æµ®ç‚¹å‹ï¼ˆ<code>float</code>ï¼‰ä»¥åŠå¤æ•°å‹ï¼ˆ<code>complex</code>ï¼‰ã€‚å¸ƒå°”å€¼åŒ…æ‹¬<code>True</code>å’Œ<code>False</code>ä¸¤ä¸ªå€¼ï¼ˆå‚ä¸æ•°å€¼è¿ç®—æ—¶åˆ†åˆ«æ˜ å°„ä¸ºæ•°å€¼1å’Œ0ï¼‰ã€‚æ•´æ•°è¡¨ç¤ºèŒƒå›´åœ¨-2147483648å’Œ2147483647ï¼ˆå¯¹åº”<span class="hide-inline"><button type="button" class="hide-button button--animated" style="">32ä½äºŒè¿›åˆ¶æ•°<br>
</button><span class="hide-content">0111,1111,1111,1111,1111,1111,1111,1111</span></span>ï¼Œå…¶æœ€é«˜ä½ä¸ºç¬¦å·ä½ï¼‰ä¹‹é—´çš„æ‰€æœ‰æ•´æ•°ã€‚æµ®ç‚¹å‹æ˜¯ç”¨æœºå™¨ä¸Šæµ®ç‚¹æ•°çš„æœ¬æœºåŒç²¾åº¦ï¼ˆ64bitï¼‰è¡¨ç¤ºçš„ï¼Œæä¾›å¤§çº¦17ä½æ•°çš„ç²¾åº¦å’ŒèŒƒå›´ä»-308åˆ°308çš„æŒ‡æ•°ã€‚å¤æ•°ä½¿ç”¨ä¸€å¯¹æµ®ç‚¹æ•°è¡¨ç¤ºï¼ˆ<code>complex(1,2)</code>ï¼‰ï¼Œå¤æ•°çš„å®éƒ¨å’Œè™šéƒ¨åˆ†åˆ«ä½¿ç”¨<code>.real</code>å’Œ<code>.imag</code>è®¿é—®ï¼Œ<code>.conjugate()</code>ç”¨äºè®¡ç®—å¤å…±è½­ï¼ˆa+bjçš„å…±è½­æ˜¯a-bjï¼‰</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d=&#123;&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d[<span class="literal">True</span>] = <span class="string">&quot;JavaScript&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d[<span class="number">1</span>] = <span class="string">&quot;Ruby&quot;</span> <span class="comment">#æ ¹æ®å­—å…¸çš„åŸç†ï¼Œé¦–å…ˆè®¡ç®—é”®1çš„å“ˆå¸Œï¼Œäºæ˜¯æ‰¾åˆ°äº†é”®Trueçš„å­˜å‚¨ä½ç½®ï¼Œåˆå‘ç°True==1ï¼Œäºæ˜¯è®¤ä¸ºè¿™ä¸¤ä¸ªé”®æ˜¯åŒä¸€å¯¹è±¡ï¼Œäºæ˜¯ç›´æ¥å°†æ–°å€¼&#x27;Ruby&#x27;æ›¿æ¢æ—§å€¼&#x27;JavaScript&#x27;å®Œäº‹å„¿ï¼Œäºæ˜¯ç°åœ¨å­—å…¸ä¸­çš„æ•°æ®å˜æˆäº†&#123;True:&#x27;Ruby&#x27;&#125;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d[<span class="number">1.0</span>] = <span class="string">&quot;Python&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.keys()</span><br><span class="line">dict_keys([<span class="literal">True</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d[<span class="literal">True</span>]</span><br><span class="line"><span class="string">&#x27;Python&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d[<span class="number">1.0</span>]</span><br><span class="line"><span class="string">&#x27;Python&#x27;</span></span><br></pre></td></tr></table></figure>
<div class="note info simple"><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/leisurelicht/wtfpython-cn#-whats-wrong-with-booleans%E5%B8%83%E5%B0%94%E4%BD%A0%E5%92%8B%E4%BA%86">å¸ƒå°”ç±»å‹</a>æ˜¯<code>int</code>ç±»å‹çš„å­ç±»ï¼ˆå¦‚<code>isinstance(True,int)</code>ä¸º<code>True</code>ï¼‰ï¼Œå…¶æ»¡è¶³<code>True == 1 == 1.0 and False == 0 == 0.0</code>ä¸º<code>True</code>çš„æ¡ä»¶ï¼Œæ¢å¥è¯è¯´ï¼Œ<code>True</code>ã€<code>1</code>ã€<code>1.0</code>è¿™ä¸‰ä¸ªå¯¹è±¡å…·æœ‰ç›¸åŒçš„å“ˆå¸Œï¼ˆåŒæ ·<code>False</code>ã€<code>0</code>ã€<code>0.0</code>ä¹Ÿæ˜¯å¦‚æ­¤ï¼‰ï¼Œåœ¨å°†å…¶ç”¨ä½œå­—å…¸çš„é”®æ—¶ï¼Œå°†æ˜ å°„åˆ°åŒä¸€ä¸ªå€¼</p>
</div>
<div class="hide-toggle" ><div class="hide-button toggle-title " style=""><i class="fas fa-caret-right fa-fw"></i><span>è¿›åˆ¶è½¬æ¢</span></div>
    <div class="hide-content"><p>å…ˆè¯´ä¸€ä¸‹<code>int(x, base)</code>æ–¹æ³•ï¼Œå…¶æ ¹æ®ç»™å®šçš„è¿›åˆ¶<code>base</code>ï¼ˆå–å€¼ä¸º0ã€2~36ï¼Œä¸ºä»€ä¹ˆæœ€é«˜æ˜¯36ï¼Ÿå› ä¸º26ä¸ªè‹±æ–‡å­—æ¯åŠ ä¸Š10ä¸ªæ•°å­—æ€»è®¡36ï¼Œè­¬å¦‚æœ‰ä¸€ä¸ª16è¿›åˆ¶æ•°ï¼š<code>e1</code>ï¼Œå…¶åè¿›åˆ¶ç»“æœä¸º225ï¼‰å°†æ•°å­—å­—ç¬¦ä¸²<code>x</code>è½¬æ¢ä¸ºåè¿›åˆ¶æ•´æ•°ï¼Œä¹Ÿå¯ç”¨äºå°†ä¸€ä¸ªæµ®ç‚¹æ•°è½¬æ¢ä¸ºæ•´å‹ï¼ˆéå­—ç¬¦ä¸²æ—¶ä¸èƒ½ä¼ é€’<code>base</code>å‚æ•°ï¼‰ã€‚ç‰¹åˆ«çš„ï¼Œ<code>base</code>å–å€¼ä¸º0æ—¶ï¼Œå°†æŒ‰ç…§å­—ç¬¦ä¸²çš„å­—é¢æ„æ€è¿›è¡Œè§£é‡Šï¼Œè­¬å¦‚ç»™å®šçš„å­—ç¬¦ä¸²ä¸º<code>0o16</code>ï¼Œæ­¤æ—¶ä¸å¿…æ˜ç¡®å‘ŠçŸ¥<code>base=8</code>ï¼Œå› ä¸º<code>0o</code>æ‰“å¤´çš„å°±è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå…«è¿›åˆ¶æ•°ã€‚é»˜è®¤çš„<code>base</code>å€¼ä¸º10ï¼Œå³é»˜è®¤å°†ä¸€ä¸ªåè¿›åˆ¶æ•°å­—å­—ç¬¦ä¸²è½¬æ¢ä¸ºåè¿›åˆ¶æ•´å‹ï¼ˆ<code>int('1314')=1314</code>ï¼‰</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#2ã€8ã€16è¿›åˆ¶è½¬ä¸º10è¿›åˆ¶</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">int</span>(<span class="string">&#x27;10010&#x27;</span>,<span class="number">2</span>) <span class="comment">#int(&#x27;0b10010&#x27;,0)</span></span><br><span class="line"><span class="number">18</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">int</span>(<span class="string">&#x27;32&#x27;</span>,<span class="number">8</span>) <span class="comment">#int(&#x27;0o32&#x27;,0)</span></span><br><span class="line"><span class="number">26</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">int</span>(<span class="string">&#x27;e1&#x27;</span>,<span class="number">16</span>) <span class="comment">#int(&#x27;0xe1&#x27;,0)</span></span><br><span class="line"><span class="number">225</span></span><br></pre></td></tr></table></figure>
<p>æ€»è€Œè¨€ä¹‹ï¼Œ<code>int()</code>åªèƒ½ç”¨äºå°†2~36è¿›åˆ¶çš„æ•°ï¼ˆä¸”ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼‰è½¬æ¢ä¸º10è¿›åˆ¶ï¼Œå¦‚æœä½ è¦å°†ä¸€ä¸ª10è¿›åˆ¶æ•°è½¬æ¢ä¸º2è¿›åˆ¶ã€8è¿›åˆ¶è½¬ä¸º2è¿›åˆ¶ã€2è¿›åˆ¶è½¬ä¸º8è¿›åˆ¶ç­‰ç­‰é‚£å®ƒå°±æ— èƒ½ä¸ºåŠ›äº†ï¼Œä¸‹é¢ä»‹ç»<code>bin()</code>ã€<code>oct()</code>ä»¥åŠ<code>hex()</code>ï¼Œåˆ†åˆ«ç”¨äºå°†ä¸€ä¸ªæ•´æ•°ï¼ˆè¿™ä¸ªæ•´æ•°å¯ä»¥æ˜¯10è¿›åˆ¶çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯2è¿›åˆ¶ã€8è¿›åˆ¶å’Œ16è¿›åˆ¶çš„ï¼‰è½¬æ¢ä¸º2è¿›åˆ¶ã€8è¿›åˆ¶ä»¥åŠ16è¿›åˆ¶ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#10è¿›åˆ¶è½¬2è¿›åˆ¶</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">bin</span>(<span class="number">18</span>)</span><br><span class="line"><span class="string">&#x27;0b10010&#x27;</span></span><br><span class="line"><span class="comment">#8è¿›åˆ¶è½¬2è¿›åˆ¶</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">bin</span>(<span class="number">0o22</span>)</span><br><span class="line"><span class="string">&#x27;0b10010&#x27;</span></span><br><span class="line"><span class="comment">#16è¿›åˆ¶è½¬2è¿›åˆ¶</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">bin</span>(<span class="number">0x12</span>)</span><br><span class="line"><span class="string">&#x27;0b10010&#x27;</span></span><br><span class="line"><span class="comment">#10è¿›åˆ¶è½¬8è¿›åˆ¶</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">oct</span>(<span class="number">26</span>)</span><br><span class="line"><span class="string">&#x27;0o32&#x27;</span></span><br><span class="line"><span class="comment">#2è¿›åˆ¶è½¬8è¿›åˆ¶</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">oct</span>(<span class="number">0b11010</span>)</span><br><span class="line"><span class="string">&#x27;0o32&#x27;</span></span><br><span class="line"><span class="comment">#16è¿›åˆ¶è½¬8è¿›åˆ¶</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">oct</span>(<span class="number">0x1a</span>)</span><br><span class="line"><span class="string">&#x27;0o32&#x27;</span></span><br><span class="line"><span class="comment">#10è¿›åˆ¶è½¬16è¿›åˆ¶</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">hex</span>(<span class="number">225</span>)</span><br><span class="line"><span class="string">&#x27;0xe1&#x27;</span></span><br><span class="line"><span class="comment">#2è¿›åˆ¶è½¬16è¿›åˆ¶</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">hex</span>(<span class="number">0b11100001</span>)</span><br><span class="line"><span class="string">&#x27;0xe1&#x27;</span></span><br><span class="line"><span class="comment">#8è¿›åˆ¶è½¬16è¿›åˆ¶</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">hex</span>(<span class="number">0o341</span>)</span><br><span class="line"><span class="string">&#x27;0xe1&#x27;</span></span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šæè¿°äº†2ã€8ã€10ã€16è¿›åˆ¶æ•°ä¹‹é—´çš„ç›¸äº’è½¬æ¢ï¼Œé‚£ä¹ˆä»»æ„è¿›åˆ¶ï¼ˆ2~36ï¼‰ä¹‹é—´å¦‚ä½•ç›¸äº’è½¬æ¢å‘¢ï¼Œå¯ä»¥å€ŸåŠ©10è¿›åˆ¶æ•°ä½œä¸ºä¸­é—´çŠ¶æ€ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> partial</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">transform</span>(<span class="params">x,base=<span class="literal">None</span>,to=<span class="literal">None</span></span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;å°†baseè¿›åˆ¶æ•´æ•°xè½¬æ¢ä¸ºtoè¿›åˆ¶æ•°yï¼Œå‡½æ•°è¿”å›y</span></span><br><span class="line"><span class="string">        åˆæ³•çš„è¿›åˆ¶èŒƒå›´ä¸º2~36ï¼Œ</span></span><br><span class="line"><span class="string">        xæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ˜¯ä¸ºäº†é€šç”¨æ€§è€ƒè™‘ï¼Œå› ä¸ºæ•´</span></span><br><span class="line"><span class="string">        æ•°ç±»å‹åªæ¶µç›–äº†2ã€8ã€10ã€16è¿›åˆ¶ï¼Œè­¬å¦‚16ï¼š</span></span><br><span class="line"><span class="string">        0b10000ã€0o20ã€16ã€0x10ï¼Œä½†æ˜¯å…¶36è¿›åˆ¶ä¸º</span></span><br><span class="line"><span class="string">        gï¼Œåªèƒ½ä»¥å­—ç¬¦ä¸²å½¢å¼è¡¨ç¤ºï¼Œç‰¹åˆ«çš„ï¼Œè¾“å…¥å…</span></span><br><span class="line"><span class="string">        è®¸ä»¥&#x27;0b&#x27;ã€&#x27;0o&#x27;ã€&#x27;0x&#x27;æ‰“å¤´(æ­¤æ—¶baseå¯ä»¥ä¸</span></span><br><span class="line"><span class="string">        ç»™æˆ–ä»»æ„)ï¼Œä¹Ÿå¯ä»¥ä¸æ˜¯ï¼Œä½†</span></span><br><span class="line"><span class="string">        æ˜¯ä½œä¸ºè¾“å‡ºçš„2ã€8ã€16è¿›åˆ¶æ•°å­—å­—ç¬¦ä¸²ä¸€å¾‹ä¸</span></span><br><span class="line"><span class="string">        ä¼šä»¥&#x27;0b&#x27;ã€&#x27;0o&#x27;ã€&#x27;0x&#x27;æ‰“å¤´ã€‚</span></span><br><span class="line"><span class="string">        è½¬æ¢åŸç†æ˜¯ï¼Œå°†baseè¿›åˆ¶å…ˆè½¬æ¢ä¸º10è¿›åˆ¶ï¼Œå†</span></span><br><span class="line"><span class="string">        å°†è¿™ä¸ª10è¿›åˆ¶è½¬æ¢ä¸ºtoè¿›åˆ¶</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    x=x.lower()</span><br><span class="line">    x_10=<span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> x[:<span class="number">2</span>] <span class="keyword">in</span> [<span class="string">&#x27;0b&#x27;</span>,<span class="string">&#x27;0o&#x27;</span>,<span class="string">&#x27;0x&#x27;</span>]:</span><br><span class="line">        x_10=<span class="built_in">int</span>(x,<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">for</span> i,e <span class="keyword">in</span> <span class="built_in">enumerate</span>(x[::-<span class="number">1</span>]):</span><br><span class="line">            x_10+=(<span class="built_in">pow</span>(base,i)*(<span class="built_in">ord</span>(e)-<span class="built_in">ord</span>(<span class="string">&#x27;a&#x27;</span>)+<span class="number">10</span> <span class="keyword">if</span> <span class="string">&#x27;a&#x27;</span>&lt;=e&lt;=<span class="string">&#x27;z&#x27;</span> <span class="keyword">else</span> <span class="built_in">int</span>(e)))</span><br><span class="line">    y=<span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">while</span> x_10&gt;<span class="number">0</span>:</span><br><span class="line">        t=x_10%to</span><br><span class="line">        y+=(<span class="built_in">chr</span>(<span class="built_in">ord</span>(<span class="string">&#x27;a&#x27;</span>)+t-<span class="number">10</span>) <span class="keyword">if</span> t&gt;<span class="number">9</span> <span class="keyword">else</span> <span class="built_in">str</span>(t))</span><br><span class="line">        x_10//=to</span><br><span class="line">    <span class="keyword">return</span> y[::-<span class="number">1</span>] <span class="keyword">if</span> y!=<span class="string">&#x27;&#x27;</span> <span class="keyword">else</span> <span class="string">&#x27;0&#x27;</span></span><br><span class="line">    </span><br><span class="line">transform(<span class="string">&#x27;16&#x27;</span>,base=<span class="number">10</span>,to=<span class="number">36</span>) <span class="comment">#g</span></span><br><span class="line">f2t16=partial(transform,base=<span class="number">2</span>,to=<span class="number">16</span>) <span class="comment">#from 2 to 16</span></span><br><span class="line">f2t16(<span class="string">&#x27;11100001&#x27;</span>) <span class="comment">#e1</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç ä¸­åè¿›åˆ¶è½¬ä»»æ„è¿›åˆ¶éƒ¨åˆ†ï¼Œæœ‰äººç»™å‡ºäº†<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.zhihu.com/answer/1878284306">é€’å½’</a>å†™æ³•ï¼ˆæˆ‘ç”¨çš„å¾ªç¯ï¼‰ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">transform_10_to_any</span>(<span class="params">n,base</span>):</span></span><br><span class="line">    string=<span class="string">&#x27;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ&#x27;</span> <span class="comment">#&#x27;&#x27;.join([*[str(i) for i in range(10)],*[chr(ord(&#x27;A&#x27;)+i) for i in range(26)]])</span></span><br><span class="line">    <span class="keyword">if</span> n&lt;base:</span><br><span class="line">        <span class="keyword">return</span> string[n]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> transform_10_to_any(n//base,base)+string[n%base]</span><br><span class="line">        </span><br><span class="line">print(transform_10_to_any(<span class="number">28</span>,<span class="number">16</span>)) <span class="comment">#1C</span></span><br><span class="line">print(transform_10_to_any(<span class="number">28</span>**<span class="number">690</span>,<span class="number">10</span>)) <span class="comment">#RecursionError: maximum recursion depth exceeded in comparison</span></span><br></pre></td></tr></table></figure>
<p>ç”±äºå­˜åœ¨é€’å½’æ·±åº¦é™åˆ¶ï¼Œæˆ‘å°†å…¶æ”¹é€ æˆäº†å°¾é€’å½’ç‰ˆæœ¬ï¼Œå¹¶ä½¿ç”¨<code>@tail_call_optimized</code>ï¼ˆè§åï¼Œåºåˆ—ä¸‰å¤§æ“ä½œå‡½æ•°ä¹‹<code>reduce()</code>æ¡ˆä¾‹3ï¼‰è¿›è¡Œä¿®é¥°ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@tail_call_optimized</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">transform_10_to_any</span>(<span class="params">n,base,temp=<span class="string">&#x27;&#x27;</span></span>):</span></span><br><span class="line">    string=<span class="string">&#x27;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> n&lt;base:</span><br><span class="line">        <span class="keyword">return</span> string[n]+temp</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> transform_10_to_any(n//base,base,string[n%base]+temp)</span><br><span class="line">        </span><br><span class="line">print(transform_10_to_any(<span class="number">28</span>**<span class="number">690</span>,<span class="number">10</span>))</span><br></pre></td></tr></table></figure>
<p>æ³¨ï¼Œä»»æ„è¿›åˆ¶è½¬10è¿›åˆ¶çš„åŠæ³•ï¼š<emp>æŒ‰æƒç›¸åŠ </emp>ï¼Œä¾‹å¦‚ï¼Œå°†8è¿›åˆ¶æ•°å­— 53627 è½¬æ¢æˆ10è¿›åˆ¶ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mi>o</mi><mn>53627</mn><mo>=</mo><mn>5</mn><mo>Ã—</mo><msup><mn>8</mn><mn>4</mn></msup><mo>+</mo><mn>3</mn><mo>Ã—</mo><msup><mn>8</mn><mn>3</mn></msup><mo>+</mo><mn>6</mn><mo>Ã—</mo><msup><mn>8</mn><mn>2</mn></msup><mo>+</mo><mn>2</mn><mo>Ã—</mo><msup><mn>8</mn><mn>1</mn></msup><mo>+</mo><mn>7</mn><mo>Ã—</mo><msup><mn>8</mn><mn>0</mn></msup><mo>=</mo><mn>22423</mn></mrow><annotation encoding="application/x-tex">0o53627 = 5Ã—8^4 + 3Ã—8^3 + 6Ã—8^2 + 2Ã—8^1 + 7Ã—8^0 = 22423</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord mathnormal">o</span><span class="mord">5</span><span class="mord">3</span><span class="mord">6</span><span class="mord">2</span><span class="mord">7</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">8</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">8</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">8</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">8</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">8</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">2</span><span class="mord">4</span><span class="mord">2</span><span class="mord">3</span></span></span></span> (åè¿›åˆ¶)ã€‚æ‰€è°“â€œæƒâ€ï¼ˆå³ä½æƒï¼‰ï¼Œå¯¹äºä¸€ä¸ª8è¿›åˆ¶æ•°ï¼Œä»å·¦å¾€å³çœ‹ï¼Œç¬¬1ä½çš„ä½æƒä¸º 8<sup>0</sup>=1ï¼Œç¬¬2ä½çš„ä½æƒä¸º 8<sup>1</sup>=8ï¼Œç¬¬3ä½çš„ä½æƒä¸º 8<sup>2</sup>=64ï¼Œç¬¬4ä½çš„ä½æƒä¸º 8<sup>3</sup>=512ï¼Œç¬¬5ä½çš„ä½æƒä¸º 8<sup>4</sup>=4096 â€¦â€¦ ç¬¬nä½çš„ä½æƒå°±ä¸º 8<sup>n-1</sup>ï¼Œå°†å„ä¸ªä½çš„æ•°å­—ä¹˜ä»¥ä½æƒï¼Œç„¶åå†ç›¸åŠ ï¼Œå°±å¾—åˆ°äº†åè¿›åˆ¶æ•°å€¼</p>
<p>å°†åè¿›åˆ¶è½¬ä¸ºä»»æ„Nè¿›åˆ¶çš„åŠæ³•ï¼Œ<emp>é™¤Nå–ä½™ï¼Œé€†åºæ’åˆ—</emp>ï¼Œä¾‹å¦‚å°†ä¸€ä¸ª10è¿›åˆ¶æ•°è½¬æ¢ä¸º8è¿›åˆ¶ï¼ˆ36926 â†’ 110076ï¼‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">36926&#x2F;8 &#x3D; 4615(é™¤æ•°) Â·Â·Â· 6(ä½™æ•°)</span><br><span class="line">4615  &#x2F;8 &#x3D; 576              Â·Â·Â· 7</span><br><span class="line">576    &#x2F;8 &#x3D; 72                Â·Â·Â· 0</span><br><span class="line">72      &#x2F;8 &#x3D; 9                  Â·Â·Â· 0</span><br><span class="line">9        &#x2F;8 &#x3D; 1                  Â·Â·Â· 1</span><br><span class="line">1        &#x2F;8 &#x3D; 0                  Â·Â·Â· 1(é™¤æ•°ä¸º0æ—¶åœæ­¢)</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šè¯´çš„éƒ½æ˜¯æ•´æ•°ï¼Œé‚£ä¹ˆå¦‚ä½•å¯¹å°æ•°éƒ¨åˆ†è¿›è¡Œè¿›åˆ¶è½¬æ¢å‘¢ï¼Ÿä¾‹å¦‚å°†ä¸€ä¸ªæµ®ç‚¹æ•°ä»8è¿›åˆ¶è½¬æ¢ä¸º10è¿›åˆ¶ï¼ˆè¿˜æ˜¯<emp>æŒ‰æƒç›¸åŠ </emp>ï¼‰ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>423.5176</mn></mrow><annotation encoding="application/x-tex">423.5176</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span><span class="mord">2</span><span class="mord">3</span><span class="mord">.</span><span class="mord">5</span><span class="mord">1</span><span class="mord">7</span><span class="mord">6</span></span></span></span> (å…«è¿›åˆ¶) <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><mn>4</mn><mo>Ã—</mo><msup><mn>8</mn><mn>2</mn></msup><mo>+</mo><mn>2</mn><mo>Ã—</mo><msup><mn>8</mn><mn>1</mn></msup><mo>+</mo><mn>3</mn><mo>Ã—</mo><msup><mn>8</mn><mn>0</mn></msup><mo>+</mo><mn>5</mn><mo>Ã—</mo><msup><mn>8</mn><mrow><mo>âˆ’</mo><mn>1</mn></mrow></msup><mo>+</mo><mn>1</mn><mo>Ã—</mo><msup><mn>8</mn><mrow><mo>âˆ’</mo><mn>2</mn></mrow></msup><mo>+</mo><mn>7</mn><mo>Ã—</mo><msup><mn>8</mn><mrow><mo>âˆ’</mo><mn>3</mn></mrow></msup><mo>+</mo><mn>6</mn><mo>Ã—</mo><msup><mn>8</mn><mrow><mo>âˆ’</mo><mn>4</mn></mrow></msup><mo>=</mo><mn>275.65576171875</mn></mrow><annotation encoding="application/x-tex">= 4Ã—8^2 + 2Ã—8^1 + 3Ã—8^0 + 5Ã—8^{-1} + 1Ã—8^{-2} + 7Ã—8^{-3} + 6Ã—8^{-4} = 275.65576171875</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">8</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">8</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">8</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">8</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">8</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">8</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">3</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">8</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">4</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">7</span><span class="mord">5</span><span class="mord">.</span><span class="mord">6</span><span class="mord">5</span><span class="mord">5</span><span class="mord">7</span><span class="mord">6</span><span class="mord">1</span><span class="mord">7</span><span class="mord">1</span><span class="mord">8</span><span class="mord">7</span><span class="mord">5</span></span></span></span> (åè¿›åˆ¶)ã€‚å³å°æ•°éƒ¨åˆ†å’Œæ•´æ•°éƒ¨åˆ†æƒ…å†µç›¸åï¼Œè¦ä»å·¦å¾€å³çœ‹ï¼Œç¬¬1ï¼ˆå°æ•°ï¼‰ä½çš„ä½æƒä¸º 8<sup>-1</sup>=1/8ï¼Œç¬¬2ä½çš„ä½æƒä¸º 8<sup>-2</sup>=1/64ï¼Œç¬¬3ä½çš„ä½æƒä¸º 8<sup>-3</sup>=1/512ï¼Œç¬¬4ä½çš„ä½æƒä¸º 8<sup>-4</sup>=1/4096 â€¦â€¦ ç¬¬mä½çš„ä½æƒå°±ä¸º 8<sup>-m</sup></p>
<p>å¦å¤–å¦‚ä½•å°†ä¸€ä¸ªæµ®ç‚¹æ•°ä»10è¿›åˆ¶è½¬æ¢ä¸º8è¿›åˆ¶å‘¢ï¼Ÿè§„åˆ™ä¸ºï¼š<emp>ä¹˜Nå–æ•´ï¼Œé¡ºåºæ’åˆ—</emp>ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼ˆ0.930908203125 â†’ 7345ï¼‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">0.930908203125Ã—8 &#x3D; 7.447265625 â†’ 7(å–æ•´)</span><br><span class="line">0.447265625      Ã—8 &#x3D; 3.578125       â†’ 3</span><br><span class="line">0.578125            Ã—8 &#x3D; 4.625             â†’ 4</span><br><span class="line">0.625                  Ã—8 &#x3D; 5.0                 â†’ 5(ä¹˜æ•°ç»“æœå°æ•°éƒ¨åˆ†ä¸º0æ—¶åœæ­¢)</span><br></pre></td></tr></table></figure>
<div class="note warning flat"><p>ç”±äºæµ®ç‚¹è®¡ç®—çš„ä¸ç²¾ç¡®æ€§ï¼Œæ— æ³•åœ¨ç¨‹åºä¸­åˆ¤æ–­å°æ•°ç‚¹åæ˜¯å¦ä¸º0ï¼Œå°æ•°è¿›åˆ¶è½¬æ¢ä»£ç å°±ä¸å†™äº†ï¼Œå¯èƒ½éœ€è¦å€ŸåŠ©<a target="_blank" rel="noopener external nofollow noreferrer" href="https://docs.sympy.org/latest/index.html">Sympy</a>ç¬¦å·è¿ç®—åº“ï¼Ÿ</p>
</div></div></div>
<div class="note info flat"><p>æ—¥å¸¸ç”Ÿæ´»ä¸­é€—å·å¸¸è§äºå¤§æ•´æ•°çš„è¡¨ç¤ºä¸­ï¼Œå¦‚<code>10,000,000</code>ï¼Œä»python3.6å¼€å§‹æ”¯æŒæ•´æ•°ä¸­ä½¿ç”¨<code>_</code>æ ‡è®°ï¼Œä½œç”¨åŒé€—å·ï¼š<code>a=10_000_000</code>ï¼Œä¹Ÿé€‚ç”¨äºåå…­è¿›åˆ¶æˆ–äºŒè¿›åˆ¶ç­‰ï¼š<code>b=0b1_010_101</code></p>
</div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="dytab1-3"><p>Pythonå†…ç½®åºåˆ—å¯¹è±¡åŒ…æ‹¬å­—ç¬¦ä¸²ã€åˆ—è¡¨å’Œå…ƒç»„ï¼Œå­—ç¬¦ä¸²æ˜¯å­—ç¬¦çš„åºåˆ—ï¼Œè€Œåˆ—è¡¨å’Œå…ƒç»„æ˜¯ä»»æ„å¯¹è±¡çš„åºåˆ—ã€‚å­—ç¬¦ä¸²å’Œå…ƒç»„å‡å±äºä¸å¯å˜å¯¹è±¡ï¼Œè€Œåˆ—è¡¨æ”¯æŒæ’å…¥ã€åˆ é™¤ã€æ›¿æ¢å…ƒç´ æ“ä½œã€‚æ‰€æœ‰åºåˆ—éƒ½æ”¯æŒè¿­ä»£ï¼ˆè§å¯è¿­ä»£å¯¹è±¡ï¼‰</p>
<div class="tabs" id="dytab1-1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#dytab1-1-1">å­—ç¬¦ä¸²</button></li><li class="tab"><button type="button" data-href="#dytab1-1-2">åˆ—è¡¨</button></li><li class="tab"><button type="button" data-href="#dytab1-1-3">å…ƒç»„</button></li><li class="tab"><button type="button" data-href="#dytab1-1-4">â­å¯è¿­ä»£å¯¹è±¡</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="dytab1-1-1"><p>å­—ç¬¦ä¸²çš„æ–¹æ³•å¤ªå¤šï¼Œè¯·å‚é˜…æ–‡çŒ®[1]-p34</p>
<div class="hide-toggle" ><div class="hide-button toggle-title " style=""><i class="fas fa-caret-right fa-fw"></i><span>æ ¼å¼åŒ–å­—ç¬¦ä¸²</span></div>
    <div class="hide-content"><p>æœ‰ä¸¤ç§æ ¼å¼åŒ–æ–¹å¼ï¼šå ä½ç¬¦(<code>%</code>)å’Œ<code>format()</code>æ–¹æ³•</p>
<ol>
<li>å ä½ç¬¦(<code>%</code>)<br>
<div class="tabs" id="dy_test_str1"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#dy_test_str1-1">è¯´æ˜</button></li><li class="tab"><button type="button" data-href="#dy_test_str1-2">ç¤ºä¾‹</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="dy_test_str1-1"><p>å–æ¨¡è¿ç®—ç¬¦ï¼ˆ<code>s % d</code>ï¼‰ä¹Ÿè¢«ç”¨äºç”Ÿæˆæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­<code>s</code>æ˜¯ä¸€ä¸ªæ ¼å¼å­—ç¬¦ä¸²ï¼Œè€Œ<code>d</code>æ˜¯ä¸€ä¸ªå…ƒç»„æˆ–æ˜ å°„å¯¹è±¡ï¼ˆå­—å…¸ï¼‰ï¼Œæ ¼å¼å­—ç¬¦ä¸²åŒ…å«ä¸¤ç§ç±»å‹ï¼šæ™®é€šå­—ç¬¦å’Œè½¬æ¢å­—ç¬¦ï¼ˆæ€»æ˜¯ä»¥<code>%</code>æ‰“å¤´ï¼‰ï¼Œæ ¼å¼åŒ–ç¨‹åºä¼šæ ¹æ®è½¬æ¢å­—ç¬¦å°†ç›¸å…³å…ƒç»„æˆ–æ˜ å°„ä¸­çš„å…ƒç´ è½¬æ¢ä¸ºå¯¹åº”çš„è¾“å‡ºæ ¼å¼å¹¶æ›¿æ¢åŸå§‹çš„è½¬æ¢å­—ç¬¦ã€‚å¦‚æœ<code>d</code>æ˜¯ä¸€ä¸ªå…ƒç»„ï¼Œè½¬æ¢å­—ç¬¦çš„ä¸ªæ•°å¿…é¡»ä¸<code>d</code>ä¸­å¯¹è±¡çš„ä¸ªæ•°ä¿æŒä¸€è‡´ï¼Œå¦‚æœ<code>d</code>æ˜¯ä¸€ä¸ªæ˜ å°„ï¼Œæ¯ä¸ªè½¬æ¢å­—ç¬¦éƒ½å¿…é¡»ä¸æ˜ å°„ä¸­çš„ä¸€ä¸ªæœ‰æ•ˆé”®åç›¸å…³è”</p>
<div class="hide-toggle" ><div class="hide-button toggle-title " style=""><i class="fas fa-caret-right fa-fw"></i><span>è½¬æ¢å­—ç¬¦</span></div>
    <div class="hide-content"><div class="dytable">
<table>
<thead>
<tr>
<th style="text-align:center">è½¬æ¢å­—ç¬¦</th>
<th style="text-align:center">è¾“å‡ºæ ¼å¼</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">%c</td>
<td style="text-align:center">å•ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td style="text-align:center">%s</td>
<td style="text-align:center">å­—ç¬¦ä¸²,æ ¼å¼åŒ–å¯¹è±¡æ—¶ç”¨str()ç”Ÿæˆå­—ç¬¦ä¸²</td>
</tr>
<tr>
<td style="text-align:center">%r</td>
<td style="text-align:center">å­—ç¬¦ä¸²,æ ¼å¼åŒ–å¯¹è±¡æ—¶ç”¨repr()ç”Ÿæˆå­—ç¬¦ä¸²</td>
</tr>
<tr>
<td style="text-align:center">%d,%i</td>
<td style="text-align:center">(é•¿)æ•´æ•°(åè¿›åˆ¶)</td>
</tr>
<tr>
<td style="text-align:center">%u</td>
<td style="text-align:center">æ— ç¬¦å·(é•¿)æ•´æ•°(åè¿›åˆ¶)</td>
</tr>
<tr>
<td style="text-align:center">%o</td>
<td style="text-align:center">(é•¿)æ•´æ•°(å…«è¿›åˆ¶)</td>
</tr>
<tr>
<td style="text-align:center">%x</td>
<td style="text-align:center">(é•¿)æ•´æ•°(åå…­è¿›åˆ¶)</td>
</tr>
<tr>
<td style="text-align:center">%X</td>
<td style="text-align:center">(é•¿)æ•´æ•°(åå…­è¿›åˆ¶,å¤§å†™å­—æ¯)</td>
</tr>
<tr>
<td style="text-align:center">%e</td>
<td style="text-align:center">æµ®ç‚¹æ•°(ç§‘å­¦è®¡æ•°æ³•,å¦‚[-]m.ddddddeÂ±xx)</td>
</tr>
<tr>
<td style="text-align:center">%E</td>
<td style="text-align:center">æµ®ç‚¹æ•°(ç§‘å­¦è®¡æ•°æ³•,å¦‚[-]m.ddddddEÂ±xx)</td>
</tr>
<tr>
<td style="text-align:center">%f</td>
<td style="text-align:center">æµ®ç‚¹æ•°(å¦‚[-]m.dddddd)</td>
</tr>
<tr>
<td style="text-align:center">%g,%G</td>
<td style="text-align:center">æŒ‡æ•°å°äº-4æˆ–æ›´é«˜ç²¾åº¦æ—¶ä½¿ç”¨%eæˆ–%E,å¦åˆ™ä½¿ç”¨%f</td>
</tr>
<tr>
<td style="text-align:center">%p</td>
<td style="text-align:center">æŒ‡é’ˆ(ç”¨åå…­è¿›åˆ¶è¡¨ç¤ºå¯¹è±¡çš„å†…å­˜åœ°å€)</td>
</tr>
<tr>
<td style="text-align:center">%%</td>
<td style="text-align:center">å­—é¢é‡ç™¾åˆ†å·</td>
</tr>
</tbody>
</table>
</div></div></div>
<p>åœ¨<code>%</code>å’Œè½¬æ¢å­—ç¬¦ä¹‹é—´å¯ä»¥å‡ºç°ä»¥ä¸‹ä¿®é¥°ç¬¦ï¼Œå¹¶ä¸”åªèƒ½æŒ‰ç…§ä¸‹è¿°é¡ºåºå‡ºç°ï¼š</p>
<ol>
<li>ä½äºæ‹¬å·ä¸­çš„ä¸€ä¸ªé”®åï¼Œç”¨äºä»æ˜ å°„å¯¹è±¡ä¸­é€‰å‡ºä¸€ä¸ªå…·ä½“é¡¹ï¼Œå¦‚æœä¸å­˜åœ¨æ­¤é”®ï¼Œåˆ™å¼•å‘<code>KeyError</code>å¼‚å¸¸</li>
<li>ä¸‹é¢æ‰€åˆ—çš„ä¸€ä¸ªæˆ–å¤šä¸ª
<ul>
<li><code>-</code>ï¼Œå·¦å¯¹é½æ ‡å¿—ï¼Œé»˜è®¤ä¸ºå³å¯¹é½</li>
<li><code>+</code>ï¼Œè¡¨ç¤ºåº”è¯¥åŒ…å«æ•°å­—ç¬¦å·ï¼ˆå³ä½¿ä¸ºæ­£å€¼ä¹Ÿæ˜¯å¦‚æ­¤ï¼‰</li>
<li><code>0</code>ï¼Œè¡¨ç¤ºé›¶å¡«å……ï¼ˆä»…ç”¨äºæ•°å­—ç±»å‹ï¼Œå¦‚<code>%d</code>ã€<code>%f</code>ï¼‰</li>
</ul>
</li>
<li>ä¸€ä¸ªæŒ‡å®šæœ€å°å®½åº¦çš„æ•°å­—ï¼Œè½¬æ¢åçš„å€¼å°†è¢«æ‰“å°åœ¨è‡³å°‘ä¸ºè¿™ä¸ªå®½åº¦çš„å­—æ®µä¸­ï¼Œå¹¶ä¸”åœ¨å·¦è¾¹å¡«å……è‡³æ»¡å­—æ®µå®½ï¼ˆå¦‚æœæŒ‡å®šäº†<code>-</code>æ ‡å¿—ï¼Œåˆ™å¡«å……åœ¨å³è¾¹ï¼‰</li>
<li>ä¸€ä¸ªå°æ•°ç‚¹ï¼Œç”¨äºæŒ‰ç…§ç²¾åº¦åˆ†å‰²å­—æ®µå®½åº¦</li>
<li>ä¸€ä¸ªæ•°å­—ï¼ŒæŒ‡å®šè¦æ‰“å°å­—ç¬¦ä¸²ä¸­çš„æœ€å¤§å­—ç¬¦ä¸ªæ•°ï¼Œæˆ–è€…æµ®ç‚¹æ•°ä¸­å°æ•°ç‚¹ä¹‹åçš„ä½æ•°ï¼Œæˆ–è€…æ•´æ•°çš„æœ€å°ä½æ•°</li>
</ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="dy_test_str1-2"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;my name is %s%c%c, my age is %d&#x27;</span> % (<span class="string">&#x27;muggle&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="number">121</span>,<span class="number">23</span>) <span class="comment">#%cè¿˜å¯ä»¥æ¥å—æ•´æ•°ï¼ˆå…·ä½“å‚è§ASCIIç è¡¨ï¼Œæˆ–é€šè¿‡ord()ã€chr()è½¬æ¢ï¼‰å¹¶è½¬æ¢ä¸ºå¯¹åº”å­—ç¬¦</span></span><br><span class="line"><span class="string">&#x27;my name is muggledy, my age is 23&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d=&#123;<span class="string">&#x27;x&#x27;</span>:<span class="number">13</span>, <span class="string">&#x27;y&#x27;</span>:<span class="number">1.54321</span>, <span class="string">&#x27;z&#x27;</span>:<span class="string">&#x27;hello world&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;%.5s&#x27;</span> % d[<span class="string">&#x27;z&#x27;</span>]</span><br><span class="line"><span class="string">&#x27;hello&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;%(x)05d, %(y).2f&#x27;</span> % d</span><br><span class="line"><span class="string">&#x27;00013, 1.54&#x27;</span></span><br></pre></td></tr></table></figure>
<div class="hide-toggle" ><div class="hide-button toggle-title " style=""><i class="fas fa-caret-right fa-fw"></i><span><code>ord()</code>å’Œ<code>chr()</code></span></div>
    <div class="hide-content"><p>æœ‰äº›è®ºå›ä¸å…è®¸æ–°äººå¸–åŒ…å«urlé“¾æ¥ï¼Œæœ€ç®€å•çš„åŠæ³•ä¹‹ä¸€æ˜¯å°†é“¾æ¥çš„æ¯ä¸ªå­—ç¬¦è½¬æ¢æˆASCIIç ï¼Œå…¶ä»–äººå†å°†ASCIIè½¬ä¸ºå­—ç¬¦ã€‚å…·ä½“ä½¿ç”¨<code>ord()</code>å‡½æ•°è¿”å›å•ä¸ªå­—ç¬¦çš„ASCIIï¼ˆ0-255ï¼‰ä»¥åŠ<code>chr()</code>å‡½æ•°è¿”å›ä¸€ä¸ªæ•´æ•°ï¼ˆ0-255ï¼‰å¯¹åº”çš„å­—ç¬¦</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s=<span class="string">&#x27;http://www.paperpass.com/&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="built_in">ord</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> s] <span class="comment">#ç¼–ç </span></span><br><span class="line">[<span class="number">104</span>, <span class="number">116</span>, <span class="number">116</span>, <span class="number">112</span>, <span class="number">58</span>, <span class="number">47</span>, <span class="number">47</span>, <span class="number">119</span>, <span class="number">119</span>, <span class="number">119</span>, <span class="number">46</span>, <span class="number">112</span>, <span class="number">97</span>, <span class="number">112</span>, <span class="number">101</span>, <span class="number">114</span>, <span class="number">112</span>, <span class="number">97</span>, <span class="number">115</span>, <span class="number">115</span>, <span class="number">46</span>, <span class="number">99</span>, <span class="number">111</span>, <span class="number">109</span>, <span class="number">47</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#x27;</span>.join([<span class="built_in">chr</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">eval</span>(<span class="string">&#x27;[104,116,116,112,58,47,47,119,119,119,46,112,97,112,101,114,112,97,115,115,46,99,111,109,47]&#x27;</span>)]) <span class="comment">#è§£ç </span></span><br><span class="line"><span class="string">&#x27;http://www.paperpass.com/&#x27;</span></span><br></pre></td></tr></table></figure></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
</li>
<li><code>format()</code>æ–¹æ³•<br>
<p>é«˜çº§å­—ç¬¦ä¸²æ ¼å¼åŒ–ï¼Œè°ƒç”¨å­—ç¬¦ä¸²<code>s</code>çš„<code>format()</code>æ–¹æ³•ï¼š<code>s.format(*args,**kwargs)</code>ï¼Œå…¶æ¥å—ä½ç½®å‚æ•°å’Œå…³é”®å­—å‚æ•°çš„ä»»æ„ç»„åˆï¼Œå¹¶ä½¿ç”¨å®ƒä»¬çš„å€¼æ¥æ›¿æ¢<code>s</code>ä¸­åµŒå…¥çš„å ä½ç¬¦ï¼Œå½¢å¼ä¸º<code>&#123;n&#125;</code>çš„å ä½ç¬¦ï¼ˆ<code>n</code>ä¸ºæ•°å­—ï¼ŒæŸäº›æƒ…å†µä¸‹å¯ä»¥çœç•¥ï¼‰å°†è¢«<code>format()</code>æ–¹æ³•çš„ç¬¬<code>n</code>ä¸ªä½ç½®å‚æ•°æ›¿æ¢ï¼Œè€Œå½¢å¼ä¸º<code>&#123;name&#125;</code>çš„å ä½ç¬¦å°†è¢«åä¸º<code>name</code>çš„å…³é”®å­—å‚æ•°å€¼æ›¿æ¢ï¼Œå¦‚æœè¦è¾“å‡ºä¸€ä¸ª<code>&#123;</code>æˆ–<code>&#125;</code>ï¼Œå¿…é¡»ä½¿ç”¨<code>&#123;&#123;</code>æˆ–<code>&#125;&#125;</code>çš„å½¢å¼</p>
<p>ä½¿ç”¨å ä½ç¬¦è¿˜å¯ä»¥å¯¹ä½ç½®å‚æ•°æˆ–å…³é”®å­—å‚æ•°è¿›è¡Œæ•°å€¼æˆ–é”®ç´¢å¼•ï¼Œå¦‚<code>&#123;name[n]&#125;</code>ï¼ˆ<code>n</code>ä¸ºç´¢å¼•æ•°å­—ï¼Œå¯¹åº”<code>name</code>æ˜¯åˆ—è¡¨ï¼‰ã€<code>&#123;name[key]&#125;</code>ï¼ˆ<code>key</code>ä¸ºéæ•°å­—å­—ç¬¦ä¸²ï¼Œå¯¹åº”<code>name</code>æ˜¯å­—å…¸ï¼‰ï¼Œè­¬å¦‚ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;my name is &#123;1&#125;, &#123;0[0]&#125;+&#123;0[1]&#125;=&#123;0[2]&#125;, &#123;2[x]&#125;&#123;2[y]&#125;&#123;2[z]&#125;, &#123;d&#125;, &#123;e[0]&#125;, &#123;e[1]&#125;&#x27;</span>.<span class="built_in">format</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],<span class="string">&#x27;dy&#x27;</span>,&#123;<span class="string">&#x27;x&#x27;</span>:<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;y&#x27;</span>:<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;z&#x27;</span>:<span class="string">&#x27;c&#x27;</span>&#125;,d=<span class="number">4</span>,e=[<span class="number">5</span>,<span class="string">&#x27;msy&#x27;</span>])</span><br><span class="line"><span class="string">&#x27;my name is dy, 1+2=3, abc, 4, 5, msy&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#123;d&#125;, &#123;&#125;,&#123;&#125;, &#123;e&#125;, &#123;&#125;&#x27;</span>.<span class="built_in">format</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],<span class="string">&#x27;dy&#x27;</span>,&#123;<span class="string">&#x27;x&#x27;</span>:<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;y&#x27;</span>:<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;z&#x27;</span>:<span class="string">&#x27;c&#x27;</span>&#125;,d=<span class="number">4</span>,e=[<span class="number">5</span>,<span class="string">&#x27;msy&#x27;</span>]) <span class="comment">#ä½¿ç”¨ç¼ºçœçš„&#123;&#125;å ä½ç¬¦ï¼Œå°†å’Œä½ç½®å‚æ•°ä»å·¦è‡³å³ä¸€ä¸€å¯¹åº”</span></span><br><span class="line"><span class="string">&quot;4, [1, 2, 3],dy, [5, &#x27;msy&#x27;], &#123;&#x27;x&#x27;: &#x27;a&#x27;, &#x27;y&#x27;: &#x27;b&#x27;, &#x27;z&#x27;: &#x27;c&#x27;&#125;&quot;</span></span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨å ä½ç¬¦è¿˜å¯ä»¥å¯¹ä½ç½®å‚æ•°æˆ–å…³é”®å­—å‚æ•°è¿›è¡Œå±æ€§æŸ¥æ‰¾ï¼Œå¦‚<code>&#123;name.attr&#125;</code>ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#123;0.real&#125; &#123;0.imag&#125;&#x27;</span>.<span class="built_in">format</span>(x)</span><br><span class="line"><span class="string">&#x27;1.0 2.0&#x27;</span></span><br></pre></td></tr></table></figure>
<p>å¦å¤–ï¼Œè¿˜å¯ä»¥æŒ‡å®šæ ¼å¼è¯´æ˜ç¬¦ï¼Œå¯¹è¾“å‡ºè¿›è¡Œæ›´åŠ ç²¾ç¡®çš„æ§åˆ¶ï¼Œå…·ä½“æ˜¯ç”¨ä¸€ä¸ªå†’å·ï¼ˆ<code>:</code>ï¼‰ç»™æ¯ä¸ªå ä½ç¬¦æ·»åŠ å¯é€‰çš„æ ¼å¼è¯´æ˜ç¬¦ï¼Œå½¢å¦‚<code>&#123;place:format_spec&#125;</code>ï¼Œä½¿ç”¨è¿™ç§è¯´æ˜ç¬¦å¯ä»¥æŒ‡å®šåˆ—å®½ã€å°æ•°ä½å’Œå¯¹é½æ–¹å¼ï¼Œä¸€èˆ¬æ ¼å¼æ˜¯<code>[[fill]align][sign][0][width][.precision][type]</code>ï¼ˆ<code>[]</code>ä¸­çš„æ¯ä¸ªéƒ¨åˆ†éƒ½æ˜¯å¯é€‰çš„ï¼Œç‰¹åˆ«åœ°ï¼Œå½“ç»™å®š<code>fill</code>æ—¶ï¼Œä¹Ÿå¿…é¡»åŒæ—¶ç»™å®š<code>align</code>ï¼‰ï¼Œ<code>width</code>è¯´æ˜ç¬¦æŒ‡å®šè¦ä½¿ç”¨çš„æœ€å°å­—æ®µå®½åº¦ï¼Œ<code>align</code>è¯´æ˜ç¬¦çš„å¯å–å€¼ä¸º<code>&lt;</code>ã€<code>&gt;</code>æˆ–<code>^</code>ï¼ˆåˆ†åˆ«ä»£è¡¨å·¦å¯¹é½ã€å³å¯¹é½å’Œå±…ä¸­å¯¹é½ï¼‰ï¼Œ<code>fill</code>æ˜¯ä¸€ä¸ªå¯é€‰çš„å¡«å……å­—ç¬¦ï¼Œé»˜è®¤ç”¨ç©ºæ ¼å¡«å……ï¼Œ<code>type</code>è¯´æ˜ç¬¦è¡¨ç¤ºæ•°æ®çš„ç±»å‹ï¼Œå¯ä»¥ä¸æä¾›ï¼Œé»˜è®¤å€¼åˆ†åˆ«æ˜¯<code>s</code>ï¼ˆå­—ç¬¦ä¸²ï¼‰ã€<code>d</code>ï¼ˆæ•´æ•°ï¼‰ã€<code>e</code>ï¼ˆæµ®ç‚¹æ•°ï¼Œç§‘å­¦è®¡æ•°ï¼‰ï¼Œ<code>sign</code>è¯´æ˜ç¬¦å¯å–å€¼ä¸º<code>+</code>ã€<code>-</code>æˆ–ç©ºæ ¼ï¼Œç”¨äºåœ¨æ•°å€¼ç±»å‹å‰åŠ ä¸Šç¬¦å·ï¼Œ<code>precision</code>è¯´æ˜ç¬¦æŒ‡å®šåè¿›åˆ¶æ•°çš„ç²¾åº¦ä½æ•°ï¼Œå¦å¤–å¦‚æœåœ¨<code>width</code>å‰é¢åŠ ä¸Šä¸€ä¸ª<code>0</code>ï¼Œå°±ä¼šä½¿ç”¨<code>0</code>æ¥å¡«å……æ•°å­—å‰é¢çš„ç©ºç™½ï¼Œçœ‹ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;|&#123;:#^10&#125;|&#123;age:^+10.2f&#125;|&#x27;</span>.<span class="built_in">format</span>(<span class="string">&#x27;dy&#x27;</span>,age=<span class="number">25.54321</span>,)</span><br><span class="line"><span class="string">&#x27;|####dy####|  +25.54  |&#x27;</span></span><br></pre></td></tr></table></figure>
<div class="hide-toggle" ><div class="hide-button toggle-title " style=""><i class="fas fa-caret-right fa-fw"></i><span>Formatted string literals(f-string)</span></div>
    <div class="hide-content"><div class="note info simple"><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://realpython.com/python-f-strings/">F-string</a>æ˜¯python3.6å¼•å…¥çš„<a target="_blank" rel="noopener external nofollow noreferrer" href="https://docs.python.org/3/reference/lexical_analysis.html#formatted-string-literals">æ–°ç‰¹æ€§</a>ï¼Œä½¿ç”¨æ–¹å¼å½¢å¦‚ï¼š<code>fâ€™å­—ç¬¦ä¸²â€™</code>æˆ–<code>Fâ€™å­—ç¬¦ä¸²â€™</code>ï¼Œå­—ç¬¦ä¸²ä¸­ä½¿ç”¨å¤§æ‹¬å·ä½œä¸ºå ä½ç¬¦æ ‡è¯†è¦æ›¿æ¢çš„å­—æ®µï¼Œæœ¬è´¨ä¸Šf-stringå¹¶éå¸¸é‡å­—ç¬¦ä¸²ï¼Œå®ƒå°†åœ¨è¿è¡Œæ—¶å¯¹å…¶ä¸­çš„å­—æ®µæ±‚å€¼ï¼Œf-stringåœ¨è®¾è®¡ä¸Šç”¨äºæ›¿ä»£<code>%</code>å’Œ<code>format()</code>è¿™ä¸¤ç§ä¼ ç»Ÿæ ¼å¼åŒ–æ–¹æ³•ï¼Œæ€§èƒ½ä¼˜äºäºŒè€…ä¸”å½¢å¼æ›´åŠ ç®€ä¾¿</p>
</div>
<ul>
<li>ç®€å•ä½¿ç”¨ï¼š<br>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>name = <span class="string">&quot;Eric&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>age = <span class="number">74</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">f&quot;Hello, <span class="subst">&#123;name&#125;</span>. You are <span class="subst">&#123;age&#125;</span>.&quot;</span></span><br><span class="line"><span class="string">&#x27;Hello, Eric. You are 74.&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li>è¡¨è¾¾å¼æ±‚å€¼å’Œå‡½æ•°è°ƒç”¨ï¼š<br>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">f&quot;<span class="subst">&#123;<span class="number">2</span> * <span class="number">37</span>&#125;</span>&quot;</span> <span class="comment">#è¡¨è¾¾å¼æ±‚å€¼</span></span><br><span class="line"><span class="string">&#x27;74&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">to_lowercase</span>(<span class="params"><span class="built_in">input</span></span>):</span></span><br><span class="line">. . .         <span class="keyword">return</span> <span class="built_in">input</span>.lower()</span><br><span class="line">. . .</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>name = <span class="string">&quot;Eric Idle&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">f&quot;<span class="subst">&#123;to_lowercase(name)&#125;</span> is funny.&quot;</span> <span class="comment">#å‡½æ•°è°ƒç”¨</span></span><br><span class="line"><span class="string">&#x27;eric idle is funny.&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">f&quot;<span class="subst">&#123;name.lower()&#125;</span> is funny.&quot;</span> <span class="comment">#è°ƒç”¨å¯¹è±¡æ–¹æ³•</span></span><br><span class="line"><span class="string">&#x27;eric idle is funny.&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> math</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">f&#x27;The answer is <span class="subst">&#123;math.log(math.pi)&#125;</span>&#x27;</span></span><br><span class="line"><span class="string">&#x27;The answer is 1.1447298858494002&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>comedian = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Eric Idle&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">74</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">f&quot;The comedian is <span class="subst">&#123;comedian[<span class="string">&#x27;name&#x27;</span>]&#125;</span>, aged <span class="subst">&#123;comedian[<span class="string">&#x27;age&#x27;</span>]&#125;</span>.&quot;</span></span><br><span class="line">The comedian <span class="keyword">is</span> Eric Idle, aged <span class="number">74.</span></span><br></pre></td></tr></table></figure>
<p>æ³¨ï¼šå¦‚æœå ä½ç¬¦<code>&#123;...&#125;</code>ä¸­çš„å¯¹è±¡éå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå°†è°ƒç”¨å¯¹è±¡çš„<code>__str__()</code>æ–¹æ³•ï¼ˆå’Œ<code>__repr__()</code>æ–¹æ³•ç›¸æ¯”ï¼Œå‰è€…é¢å‘äººç±»ï¼Œåè€…é¢å‘è®¡ç®—æœºï¼Œä¸€èˆ¬æ¥è¯´ï¼Œä½ ç”šè‡³å¯ä»¥é€šè¿‡æ‰§è¡Œï¼ˆè°ƒç”¨<code>eval()</code>å‡½æ•°ï¼‰<code>repr()</code>è¿”å›çš„å­—ç¬¦ä¸²é‡æ–°ç”Ÿæˆå¯¹è±¡ï¼Œå¦‚æœåªå®ç°<code>__repr__()</code>ï¼Œé‚£ä¹ˆ<code>str()</code>è¿˜æ˜¯ä¼šè°ƒç”¨å¯¹è±¡çš„<code>__repr__()</code>æ–¹æ³•ï¼‰ï¼Œå¹¶ä»¥è¿”å›çš„å­—ç¬¦ä¸²æ›¿æ¢å ä½ç¬¦ï¼ˆå¦‚æœåŒæ—¶ä¹Ÿå®šä¹‰äº†<code>__repr__()</code>æ–¹æ³•ï¼Œä¸”å¸Œæœ›æ ¼å¼åŒ–æ—¶ä½¿ç”¨è¯¥æ–¹æ³•è¿”å›çš„å­—ç¬¦ä¸²ï¼Œåˆ™å†™æˆ<code>&#123;...!r&#125;</code>ï¼‰ï¼Œçœ‹ä¸ªä¾‹å­ï¼š
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Comedian</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, first_name, last_name, age</span>):</span></span><br><span class="line">        self.first_name = first_name</span><br><span class="line">        self.last_name = last_name</span><br><span class="line">        self.age = age</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&quot;<span class="subst">&#123;self.first_name&#125;</span> <span class="subst">&#123;self.last_name&#125;</span> is <span class="subst">&#123;self.age&#125;</span>.&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&quot;<span class="subst">&#123;self.first_name&#125;</span> <span class="subst">&#123;self.last_name&#125;</span> is <span class="subst">&#123;self.age&#125;</span>. Surprise!&quot;</span></span><br><span class="line"></span><br><span class="line">new_comedian = Comedian(<span class="string">&quot;Eric&quot;</span>, <span class="string">&quot;Idle&quot;</span>, <span class="string">&quot;74&quot;</span>)</span><br><span class="line">print(<span class="string">f&#x27;<span class="subst">&#123;new_comedian&#125;</span>&#x27;</span>) <span class="comment">#Eric Idle is 74.</span></span><br><span class="line">print(<span class="string">f&#x27;<span class="subst">&#123;Comedian(<span class="string">&quot;Yang&quot;</span>,<span class="string">&quot;Dai&quot;</span>,<span class="number">25</span>)&#125;</span>&#x27;</span>) <span class="comment">#Yang Dai is 25.</span></span><br><span class="line">print(&gt;&gt;&gt; <span class="string">f&quot;<span class="subst">&#123;new_comedian!r&#125;</span>&quot;</span>) <span class="comment">#&#x27;Eric Idle is 74. Surprise!&#x27;</span></span><br></pre></td></tr></table></figure>
æ³¨1ï¼šå­—ç¬¦ä¸²å†…çš„å¼•å·ä¸èƒ½å’Œå­—ç¬¦ä¸²å¤–çš„å¼•å·å®šç•Œç¬¦å†²çªï¼Œå¯æ ¹æ®æƒ…å†µçµæ´»åˆ‡æ¢<code>'</code>å’Œ<code>"</code>ï¼ˆå•å¼•å·å’ŒåŒå¼•å·ï¼‰ï¼Œå¿…è¦çš„æ—¶å€™ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä¸‰å¼•å·<code>'''</code>æˆ–è€…<code>"""</code>ï¼Œå†ä¸è¡Œï¼Œè¿˜å¯ä»¥ä½¿ç”¨æ–œæ <code>\</code>å¯¹ç‰¹æ®Šå­—ç¬¦è¿›è¡Œè½¬ä¹‰ï¼Œè­¬å¦‚<code>'i\'m dy.'</code>ï¼Œä½†æ˜¯f-stringå¤§æ‹¬å·å†…éƒ¨ä¸èƒ½ä½¿ç”¨æ–œæ <code>\</code>è½¬ä¹‰ç”šè‡³è¯´æ ¹æœ¬å°±ä¸èƒ½å‡ºç°ä»»ä½•æ–œæ 
</p>
<p>æ³¨2ï¼Œæ”¯æŒå¤šé‡å¤§æ‹¬å·å†™æ³•ï¼Œè­¬å¦‚åŒé‡å¤§æ‹¬å·ï¼Œ<code>f'&#123;&#123;5&#125;&#125;'</code>å°†æ‰“å°å‡ºå­—ç¬¦ä¸²<code>'&#123;5&#125;'</code>ï¼Œæ­¤æ—¶åŒé‡å¤§æ‹¬å·ä¸­çš„å†…å®¹æ˜¯è¢«å½“ä½œæ™®é€šå­—ç¬¦ä¸²ï¼Œå†è­¬å¦‚ï¼š
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">f&#x27;<span class="subst">&#123;temp_a&#125;</span>&#x27;</span> <span class="comment">#temp_aä»æœªå®šä¹‰ï¼Œæ²¡æœ‰è¿™ä¸ªå˜é‡</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">NameError: name <span class="string">&#x27;temp_a&#x27;</span> <span class="keyword">is</span> <span class="keyword">not</span> defined</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">f&#x27;&#123;&#123;temp_a&#125;&#125;&#x27;</span></span><br><span class="line"><span class="string">&#x27;&#123;temp_a&#125;&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">f&#x27;&#123;&#123;70 + 4&#125;&#125;&#x27;</span></span><br><span class="line"><span class="string">&#x27;&#123;70 + 4&#125;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>è¦å½“ä½œå˜é‡æˆ–è¡¨è¾¾å¼æˆ–å‡½æ•°è°ƒç”¨ï¼Œåˆ™å†åŠ ä¸€å±‚å¤§æ‹¬å·ï¼Œå³ä¸‰é‡å¤§æ‹¬å·ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">f&#x27;&#123;&#123;<span class="subst">&#123;<span class="number">70</span> + <span class="number">4</span>&#125;</span>&#125;&#125;&#x27;</span></span><br><span class="line"><span class="string">&#x27;&#123;74&#125;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å¦‚æœæ˜¯å››é‡å¤§æ‹¬å·ï¼ˆè§„å¾‹ä¹Ÿå¾ˆæ˜æ˜¾äº†ï¼‰ï¼š</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">f&#x27;&#123;&#123;&#123;&#123;70 + 4&#125;&#125;&#125;&#125;&#x27;</span></span><br><span class="line"><span class="string">&#x27;&#123;&#123;70 + 4&#125;&#125;&#x27;</span></span><br></pre></td></tr></table></figure>
</p>
</li>
<li>å¤šè¡Œf-stringsï¼š<br>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&quot;Eric&quot;</span></span><br><span class="line">profession = <span class="string">&quot;comedian&quot;</span></span><br><span class="line">affiliation = <span class="string">&quot;Monty Python&quot;</span></span><br><span class="line">message = (</span><br><span class="line">    <span class="string">f&quot;Hi <span class="subst">&#123;name&#125;</span>. &quot;</span></span><br><span class="line">    <span class="string">f&quot;You are a <span class="subst">&#123;profession&#125;</span>. &quot;</span></span><br><span class="line">    <span class="string">f&quot;You were in <span class="subst">&#123;affiliation&#125;</span>.&quot;</span></span><br><span class="line">)</span><br><span class="line">print(message) <span class="comment">#Hi Eric. You are a comedian. You were in Monty Python.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¸Šè¿°å†™æ³•éœ€è¦åœ¨æ¯ä¸€è¡Œé¦–éƒ¨æ·»åŠ æ ‡è¯†fæˆ–Fï¼Œå¦‚æœä¸åƒè¿™æ ·å¯ä»¥ä½¿ç”¨ä¸‰å¼•å·å®ç°å¤šè¡Œå­—ç¬¦ä¸²ï¼ˆä½†æ³¨æ„ä¸‹é¢ä¼šè¾“å‡ºä¸‰è¡Œï¼‰ï¼š</span></span><br><span class="line">message = <span class="string">f&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Hi <span class="subst">&#123;name&#125;</span>. </span></span><br><span class="line"><span class="string">    You are a <span class="subst">&#123;profession&#125;</span>. </span></span><br><span class="line"><span class="string">    You were in <span class="subst">&#123;affiliation&#125;</span>.</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>
<p>æ³¨ï¼Œå¤šä¸ªï¼ˆä½äºåŒä¸€è¡Œçš„ï¼‰ç‹¬ç«‹å­—ç¬¦ä¸²ä¹‹é—´ä¸éœ€è¦ä½¿ç”¨ä»»ä½•è¿æ¥ç¬¦ï¼ˆå¦‚æœä¸åœ¨åŒä¸€è¡Œï¼Œéœ€è¦åœ¨è¡Œæœ«åŠ ä¸Šæ–œæ è¡¨ç¤ºæ¢è¡Œï¼ˆä»»æ„è¯­å¥å¦‚æœå¤ªé•¿ï¼Œä½ éƒ½å¯ä»¥åœ¨ä¸€è¡Œç»“å°¾å¤„ä½¿ç”¨æ–œæ ï¼Œç„¶åå°±å¯ä»¥åœ¨ä¸‹ä¸€è¡Œç»§ç»­ä¹¦å†™ä¸Šä¸€æ¡è¯­å¥å‰©ä½™çš„å†…å®¹ï¼Œä¸”ä¸å—pythonæ­£å¸¸çš„ç¼©è¿›è§„åˆ™é™åˆ¶ï¼‰ï¼Œå¦‚æœä¸æƒ³å†™æ–œæ ï¼Œä¹Ÿå¯ä»¥åœ¨æ‰€æœ‰ç‹¬ç«‹å­—ç¬¦ä¸²çš„å·¦å³ä¸¤ç«¯è£¹ä¸Šå°æ‹¬å·ï¼‰ï¼Œå®ƒä»¬åŒæ ·ä¼šè¢«è‡ªåŠ¨æ‹¼æ¥ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">s=<span class="string">&quot;Hello&quot;</span> <span class="string">&quot; world!&quot;</span></span><br><span class="line">print(s) <span class="comment">#Hello world!</span></span><br><span class="line"></span><br><span class="line">s=<span class="string">&quot;dy &quot;</span> <span class="string">&quot;is &quot;</span> \</span><br><span class="line"><span class="string">&#x27;a&#x27;</span>   <span class="string">&#x27; &#x27;</span> \</span><br><span class="line"><span class="string">&#x27;muggle&#x27;</span></span><br><span class="line">print(s) <span class="comment">#dy is a muggle</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç­‰åŒäºï¼š</span></span><br><span class="line">s=(<span class="string">&quot;dy &quot;</span> <span class="string">&quot;is &quot;</span></span><br><span class="line"><span class="string">&#x27;a&#x27;</span>   <span class="string">&#x27; &#x27;</span></span><br><span class="line"><span class="string">&#x27;muggle&#x27;</span>)</span><br><span class="line">print(s) <span class="comment">#dy is a muggle</span></span><br></pre></td></tr></table></figure>
<p>ä¸”å¤šä¸ªç‹¬ç«‹å­—ç¬¦ä¸²ä½œä¸ºå‡½æ•°å‚æ•°æ—¶ï¼Œä¸è®ºæ˜¯å¦åœ¨åŒä¸€è¡Œï¼Œéƒ½æ— éœ€æ–œæ ä½œä¸ºæ¢è¡Œç¬¦ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">a,b</span>):</span></span><br><span class="line">    print(a)</span><br><span class="line">    print(b)</span><br><span class="line"></span><br><span class="line">f(<span class="string">&quot;muggle&quot;</span></span><br><span class="line"><span class="string">&quot;dy&quot;</span>,<span class="string">&quot;dai&quot;</span> \</span><br><span class="line"><span class="string">&quot;xiao&quot;</span><span class="string">&quot;dong&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;OUTPUT</span></span><br><span class="line"><span class="string">muggledy</span></span><br><span class="line"><span class="string">daixiaodong</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li>æ ¼å¼ç²¾ç¡®æ§åˆ¶ï¼ˆå¯¹é½ã€å®½åº¦ã€ç¬¦å·ã€è¡¥é›¶ã€ç²¾åº¦ã€è¿›åˆ¶ç­‰ï¼‰ï¼š<br>
ç±»ä¼¼<code>format()</code>ï¼Œf-stringä½¿ç”¨å½¢å¦‚<code>&#123;content:format_spec&#125;</code>è¿›è¡Œæ ¼å¼çš„ç²¾ç¡®æ§åˆ¶ï¼Œå…¶ä¸­<code>content</code>å¯ä»¥æ˜¯å˜é‡ã€è¡¨è¾¾å¼æˆ–å‡½æ•°ç­‰ï¼Œ<code>format_spec</code>æ˜¯æ ¼å¼æè¿°ç¬¦ï¼Œé‡‡ç”¨é»˜è®¤æ ¼å¼æ—¶ï¼Œåˆ™çœç•¥<code>:format_spec</code>ï¼Œæ ¼å¼æè¿°çš„ä½¿ç”¨é¡ºåºè¦æ³¨æ„ï¼Œå…·ä½“è¯·å‚é˜…æ–‡ç« [2]ç›¸å…³éƒ¨åˆ†
</li>
</ul>
<div class="hide-toggle" ><div class="hide-button toggle-title " style=""><i class="fas fa-caret-right fa-fw"></i><span><code>print()</code>å‡½æ•°</span></div>
    <div class="hide-content"><p>å½“ä½¿ç”¨<code>print()</code>æ‰“å°å¯¹è±¡çš„æ—¶å€™ï¼Œå®é™…ä¸Šæ˜¯è°ƒç”¨äº†æ ‡å‡†è¾“å‡ºå¹¶å‘å…¶ä¸­å†™å…¥å­—ç¬¦ä¸²ï¼š<code>sys.stdout.write(str(obj)+'\n')</code>ï¼Œ<code>sys.stdout</code>å°±æ˜¯æ ‡å‡†è¾“å‡ºå¯¹è±¡ï¼Œé»˜è®¤æ˜¯å†™å…¥åˆ°æ§åˆ¶å°è®¾å¤‡å¹¶è¿½åŠ ä¸€ä¸ªæ¢è¡Œç¬¦ï¼ˆå¯ä»¥é€šè¿‡æŒ‡å®š<code>print()</code>å‡½æ•°çš„<code>end</code>å‚æ•°ä¿®æ”¹æ‰€è¿½åŠ çš„å­—ç¬¦æˆ–å­—ç¬¦ä¸²ï¼‰ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ä¿®æ”¹<code>sys.stdout</code>çš„å€¼ï¼Œä»¥å®ç°è¾“å‡ºé‡å®šå‘ï¼Œè­¬å¦‚å°†è¾“å‡ºé‡å®šå‘è‡³æŸä¸ªæ–‡ä»¶ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>__console__ = sys.stdout <span class="comment">#å°†æ§åˆ¶å°å¯¹è±¡å¼•ç”¨ä¿å­˜ä¸‹æ¥ä»¥ä¾¿äºæ¢å¤</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>file = <span class="built_in">open</span>(<span class="string">&#x27;redir_print.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sys.stdout = file</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">&#x27;Hello,World!&#x27;</span>) <span class="comment">#æ­¤æ—¶ç­‰åŒäºï¼šfile.write(...)</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>file.flush() <span class="comment">#æ‰“å°çš„å†…å®¹é¦–å…ˆå­˜åœ¨äºç¼“å†²åŒºflushä¸­ï¼Œç›´åˆ°ä¸‹ä¸€æ¬¡æ‰“å°æ—¶ä¸Šæ¬¡çš„æ‰“å°ï¼ˆå†…å®¹ï¼‰æ‰è¢«å†™åˆ°æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨flush()å¼ºåˆ¶åˆ·æ–°ç¼“å†²åŒºå°†å…¶å†™è¿›æ–‡ä»¶</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sys.stdout = __console__</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>file.close()</span><br></pre></td></tr></table></figure>
<p>åœ¨python3ä¸­ä¸éœ€è¦åƒä¸Šé¢è¿™æ ·ç¹çï¼ŒæŒ‡å®š<code>print()</code>å‡½æ•°çš„<code>file</code>å‚æ•°å’Œ<code>flush</code>å‚æ•°å³å¯ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">&#x27;Hello,World!&#x27;</span>, file = file, flush = <span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<p>å®é™…ä¸Šä½ å¯ä»¥å¾€<code>print()</code>ä¸­ä¼ é€’ä»»æ„æ•°é‡çš„ä»»æ„å¯¹è±¡ä¸”æ˜¯ä»¥ä½ç½®å‚æ•°çš„å½¢å¼ï¼Œå› ä¸º<code>__str__()</code>å…·æœ‰é»˜è®¤å®ç°ï¼Œå…¶è¿”å›ä¸€ä¸ªå°–æ‹¬å·åŒ…è£¹çš„å­—ç¬¦ä¸²ï¼ŒåŒ…å«ç±»åå’Œå†…å­˜åœ°å€ä¿¡æ¯ï¼Œä¸åŒå¯¹è±¡çš„è¾“å‡ºå­—ç¬¦ä¸²ä¼šè‡ªåŠ¨è¿æ¥ä¸”ä»¥å•ä¸ªç©ºæ ¼ä½œä¸ºé—´éš”ç¬¦ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span> <span class="keyword">pass</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">&#x27;muggledy&#x27;</span>,<span class="string">&#x27;+&#x27;</span>,...,<span class="string">&#x27;zj&#x27;</span>,A())</span><br><span class="line">muggledy + <span class="literal">Ellipsis</span> zj &lt;__main__.A <span class="built_in">object</span> at <span class="number">0x000001B0358AB7B8</span>&gt;</span><br></pre></td></tr></table></figure></div></div></div></div>
</li>
</ol></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="dytab1-1-2"><ol><li> å¢åŠ <br>
   <ul><li> <code>s.append(x)</code></li>
   <li><code>s.extend(t)</code><br>
     æ³¨ï¼šä¸åŒäº<code>append</code>è¿½åŠ å…ƒç´ ï¼Œ<code>extend</code>å°†ä¸€ä¸ªæ–°çš„åºåˆ—æ‰©å±•åˆ°åŸå§‹åºåˆ—ä¸­ï¼Œç­‰åŒäº<code>[*s,*t]</code>ï¼ˆè§£åŒ…ï¼‰
     <div class="hide-toggle" ><div class="hide-button toggle-title " style=""><i class="fas fa-caret-right fa-fw"></i><span>è§£åŒ…ä¸è£…åŒ…</span></div>
    <div class="hide-content"><p>ä¸»è¦æœ‰ä¸‰ç§ç”¨é€”ï¼šå˜é‡èµ‹å€¼ï¼Œå‡½æ•°ä¼ å‚å’Œç®€åŒ–å®¹å™¨æ·»åŠ </p>
<ol><li>å˜é‡èµ‹å€¼<br>
<ul>
<li>å°†å¤šä¸ªå€¼æˆ–è€…è¯´å¯¹è±¡ï¼ˆå…¶ä»¥é€—å·é—´éš”ï¼‰èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡æ—¶ï¼Œpythonä¼šè‡ªåŠ¨å°†è¿™äº›å€¼å°è£…æˆå…ƒç»„ï¼Œè¿™ç§ç‰¹æ€§å³ç§°ä¸ºâ€œè£…åŒ…â€ï¼š<br>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
</li>
<li>ç‰¹åˆ«åœ°ï¼Œå½“å‡½æ•°è¿”å›å¤šä¸ªæ•°å€¼æ—¶ï¼Œä¹Ÿä¼šè¿›è¡Œè£…åŒ…ï¼š<br>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">a,b,c</span>):</span></span><br><span class="line">    <span class="keyword">return</span> a*<span class="number">1</span>,b*<span class="number">2</span>,c*<span class="number">3</span></span><br><span class="line">    </span><br><span class="line">ret=f(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">print(ret,<span class="built_in">type</span>(ret)) <span class="comment">#(1, 4, 9) &lt;class &#x27;tuple&#x27;&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li>å°†ä¸€ä¸ªï¼ˆå¯è¿­ä»£ï¼‰å¯¹è±¡æ‹†åˆ†æˆå¤šä¸ªå¯¹è±¡å¹¶ä¾æ¬¡èµ‹å€¼ç»™å¤šä¸ªå˜é‡ï¼Œè¿™ç§ç‰¹æ€§å³ç§°ä¸ºâ€œè§£åŒ…â€ï¼Œå¦å¤–è¿˜å¯ä»¥ç”¨æ˜Ÿå·<code>*</code>ä¿®é¥°å˜é‡ï¼Œä½¿å…¶æ¥æ”¶å¤šä¸ªæ‹†è§£å¯¹è±¡çš„ç»„åˆï¼ˆè£…åŒ…ä¸ºåˆ—è¡¨ç±»å‹ï¼‰ï¼š<br>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x,y,z=a</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y</span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x,*y,z=<span class="built_in">range</span>(<span class="number">10</span>) <span class="comment">#é*ä¿®é¥°å˜é‡ï¼ˆx,zï¼‰åªèƒ½æ¥æ”¶ä¸€ä¸ªæ‹†è§£å¯¹è±¡</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x</span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>z</span><br><span class="line"><span class="number">9</span></span><br></pre></td></tr></table></figure>
</li>
<li>å¯ä»¥è§£åŒ…çš„å¯¹è±¡ç±»å‹åŒ…æ‹¬å…ƒç»„ã€åˆ—è¡¨ã€å­—å…¸ã€ç”Ÿæˆå™¨ä»¥åŠå…¶å®ƒå¯è¿­ä»£å¯¹è±¡ï¼š<br>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d=&#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>,<span class="string">&#x27;b&#x27;</span>:<span class="number">2</span>,<span class="string">&#x27;c&#x27;</span>:<span class="number">3</span>&#125; <span class="comment">#å­—å…¸ä¹Ÿæ˜¯å¯è¿­ä»£å¯¹è±¡ï¼Œç­‰åŒäºè¿­ä»£å…¶é”®åºåˆ—ï¼Œä½†æ˜¯è¦æ³¨æ„é”®åºåˆ—å…¶å®æ˜¯â€œæ— åºâ€çš„</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x,y,z=d</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x,y,z</span><br><span class="line">(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x,y,z=d.items() <span class="comment">#å¦‚æœè¦åŒæ—¶å¾—åˆ°å­—å…¸çš„é”®å€¼çš„è¯</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x,y,z</span><br><span class="line">((<span class="string">&#x27;a&#x27;</span>, <span class="number">1</span>), (<span class="string">&#x27;b&#x27;</span>, <span class="number">2</span>), (<span class="string">&#x27;c&#x27;</span>, <span class="number">3</span>))</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=(i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>)) <span class="comment">#ç”Ÿæˆå™¨ä¹Ÿæ˜¯å¯è¿­ä»£å¯¹è±¡</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x,y,z=a</span><br></pre></td></tr></table></figure>
<p>è£…åŒ…å’Œè§£åŒ…å¸¸ç”¨äºâ€œå¯¹ç§°æ€§èµ‹å€¼â€æ“ä½œå’Œ<code>for</code>å¾ªç¯ä¸­çš„å˜é‡æ‹†è§£ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">x,y=<span class="number">6</span>,<span class="number">8</span></span><br><span class="line">x,y=y,x</span><br><span class="line">print(x,y) <span class="comment">#å°†å˜é‡xå’Œyçš„å€¼å¯¹è°ƒï¼Œä¸éœ€è¦åƒCè¯­è¨€é‚£æ ·å€ŸåŠ©ä¸´æ—¶å˜é‡å®ç°ã€‚ç­‰å·å³è¾¹ä¼šå…ˆè¿›è¡Œå°è£…ï¼Œå˜æˆå…ƒç»„(y,x)ï¼Œç„¶åå…ƒç»„è¢«è§£åŒ…å¹¶ä¾æ¬¡èµ‹å€¼ç»™xå’Œy</span></span><br><span class="line"></span><br><span class="line">d=&#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>,<span class="string">&#x27;b&#x27;</span>:<span class="number">2</span>,<span class="string">&#x27;c&#x27;</span>:<span class="number">3</span>&#125;</span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> d.items():</span><br><span class="line">   print(<span class="string">&#x27;é”®:&#123;&#125;, å€¼:&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(k,v))</span><br><span class="line">    </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;OUTPUT</span></span><br><span class="line"><span class="string">é”®:a, å€¼:1</span></span><br><span class="line"><span class="string">é”®:b, å€¼:2</span></span><br><span class="line"><span class="string">é”®:c, å€¼:3</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li>å¯ä»¥åœ¨å˜é‡èµ‹å€¼æ“ä½œä¸­å¯¹ç­‰å·å³è¾¹çš„å¯è¿­ä»£å¯¹è±¡ç›´æ¥ä½¿ç”¨æ˜Ÿå·<code>*</code>è¿›è¡Œæ‹†è§£æˆ–è€…è¯´è§£åŒ…ï¼š<br>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=[<span class="string">&#x27;dy&#x27;</span>,<span class="number">88</span>,<span class="literal">True</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>v=<span class="number">1</span>,<span class="number">2</span>,*a,<span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>v</span><br><span class="line">(<span class="number">1</span>, <span class="number">2</span>, <span class="string">&#x27;dy&#x27;</span>, <span class="number">88</span>, <span class="literal">True</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä¸æƒ³å¯¹å³è¾¹çš„å¯¹è±¡è¿›è¡Œæ˜¾å¼æ‹†è§£ï¼Œè¿˜å¯ä»¥åœ¨å·¦è¾¹å¯¹å°†è¦æ¥æ”¶çš„å˜é‡è£¹ä¸Šä¸€å±‚æˆ–å¤šå±‚<code>()</code>æˆ–<code>[]</code>ï¼Œä»¥å®ç°â€œå¤šçº§åµŒå¥—è§£åŒ…â€ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=[<span class="string">&#x27;dy&#x27;</span>,<span class="number">88</span>,<span class="literal">True</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>*_,(x,y,z),_=<span class="number">1</span>,<span class="number">2</span>,a,<span class="number">3</span> <span class="comment">#å†™æˆ*_,(x,y,z),*_=1,2,a,3æ˜¯é”™è¯¯çš„ï¼Œåœ¨åŒä¸€çº§ä¸èƒ½å‡ºç°ä¸¤ä¸ªåŠä»¥ä¸Šçš„æ˜Ÿå·ï¼Œä»€ä¹ˆæ„æ€ï¼Ÿè­¬å¦‚å†™æˆ*_,(x,*y),_=1,2,a,3åˆ™æ˜¯æ­£ç¡®çš„ï¼Œè¿™ä¸¤ä¸ª*ä¸åœ¨åŒä¸€çº§</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x,y,z</span><br><span class="line">(<span class="string">&#x27;dy&#x27;</span>, <span class="number">88</span>, <span class="literal">True</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>_,(a,(b,c),d),_=<span class="number">1</span>,[<span class="number">2</span>,[<span class="number">3</span>,<span class="number">4</span>],<span class="number">5</span>],<span class="number">6</span> <span class="comment">#æ€»ä¹‹ä¸¤è¾¹ç»“æ„ä¿æŒä¸€è‡´å³å¯</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b,c</span><br><span class="line">(<span class="number">3</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure>
<p>ç®€å•æ¥è¯´ï¼Œæ˜Ÿå·å‡ºç°åœ¨èµ‹å€¼å·å·¦è¾¹è¡¨ç¤ºè£…åŒ…ï¼Œå‡ºç°åœ¨èµ‹å€¼å·å³è¾¹è¡¨ç¤ºè§£åŒ…ï¼Œä¸ç®¡æ˜¯å“ªç§ï¼Œæ˜Ÿå·ä¿®é¥°ç¬¦éƒ½å¿…é¡»ä½äºä¸€ä¸ªåºåˆ—ä¸­ï¼Œå¯èƒ½ä¸å¤ªå¥½ç†è§£ï¼Œçœ‹ä¸ªä¾‹å­å³å¯ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>*x=a <span class="comment">#æŠ¥é”™</span></span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span></span><br><span class="line">SyntaxError: starred assignment target must be <span class="keyword">in</span> a <span class="built_in">list</span> <span class="keyword">or</span> <span class="built_in">tuple</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>*x,=a</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>(*x,)=a</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[*x]=a <span class="comment">#è¿™ä¸‰ç§æ”¹æ³•éƒ½æ˜¯æ­£ç¡®çš„</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x=*a <span class="comment">#æŠ¥é”™</span></span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span></span><br><span class="line">SyntaxError: can<span class="string">&#x27;t use starred expression here</span></span><br><span class="line"><span class="string">&gt;&gt;&gt; x=*a,</span></span><br><span class="line"><span class="string">&gt;&gt;&gt; x=(*a,)</span></span><br><span class="line"><span class="string">&gt;&gt;&gt; x=[*a] #è¿™ä¸‰ç§æ”¹æ³•éƒ½æ˜¯æ­£ç¡®çš„</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>å‡½æ•°ä¼ å‚<br>
<ul>
<li>è£…åŒ…ä¼ é€’ï¼ˆåˆ†ä¸¤ç§ï¼Œä¸€æ˜¯ä½ç½®å‚æ•°å°†è¢«è£…åŒ…ä¸ºä¸€ä¸ªå…ƒç»„ï¼ŒäºŒæ˜¯å…³é”®å­—å‚æ•°å°†è¢«è£…åŒ…ä¸ºä¸€ä¸ªå­—å…¸ï¼‰ï¼š<br>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span>(<span class="params">*t</span>):</span></span><br><span class="line">    print(t)</span><br><span class="line"></span><br><span class="line">f1(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>) <span class="comment">#(1, 2, 3, 4, 5)</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f2</span>(<span class="params">**d</span>):</span></span><br><span class="line">    print(d)</span><br><span class="line">    </span><br><span class="line">f2(X=<span class="string">&#x27;a&#x27;</span>,Y=<span class="string">&#x27;b&#x27;</span>,Z=<span class="string">&#x27;c&#x27;</span>) <span class="comment">#&#123;&#x27;X&#x27;: &#x27;a&#x27;, &#x27;Y&#x27;: &#x27;b&#x27;, &#x27;Z&#x27;: &#x27;c&#x27;&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li>è§£åŒ…ä¼ é€’ï¼ˆä¹Ÿåˆ†ä¸ºä¸¤ç§æƒ…å†µï¼Œä¸€æ˜¯å…ƒç»„è§£åŒ…ä¼ é€’ç»™ä½ç½®å‚æ•°ï¼ŒäºŒæ˜¯å­—å…¸è§£åŒ…ä¼ é€’ç»™å…³é”®å­—å‚æ•°ï¼‰ï¼š<br>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f3</span>(<span class="params">x,y,z</span>):</span></span><br><span class="line">    print(x,y,z)</span><br><span class="line"></span><br><span class="line">t=(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">f3(*t) <span class="comment">#ç­‰åŒäºæ‰§è¡Œï¼šf3(1,2,3)</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f4</span>(<span class="params">a,b=<span class="number">22</span>,c=<span class="number">33</span></span>):</span></span><br><span class="line">    print(a,b,c)</span><br><span class="line"></span><br><span class="line">d=&#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>,<span class="string">&#x27;c&#x27;</span>:<span class="number">3</span>&#125;</span><br><span class="line">f4(**d) <span class="comment">#ç­‰åŒäºæ‰§è¡Œï¼šf4(a=1,c=3)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç‰¹åˆ«åœ°ï¼Œå¦‚æœè°ƒç”¨f1(*t)æˆ–è€…f2(**d)ï¼Œå°†åŒæ—¶å®Œæˆè§£åŒ…å’Œè£…åŒ…ä¼ é€’</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>ç®€åŒ–å®¹å™¨æ·»åŠ <br>
<ul>
<li>å½“å®¹å™¨ä¸º<code>list</code>ã€<code>tuple</code>ï¼ˆè™½ç„¶å…ƒç»„æ˜¯ä¸å¯å˜ç±»å‹ï¼Œä½†æ˜¯æ²¡å…³ç³»ï¼Œèƒ½è§£åŒ…å°±è¡Œï¼Œè¿™ä¹Ÿå¹¶ä¸æ¶‰åŠå…ƒç»„å€¼çš„æ”¹å˜ï¼‰ã€<code>set</code>ç±»å‹æ—¶ï¼ŒåŒå˜é‡èµ‹å€¼æ“ä½œä¸­ç­‰å·å³è¾¹å¯è¿­ä»£å¯¹è±¡çš„æ‹†è§£ï¼Œä½¿ç”¨å•æ˜Ÿå·è¿›è¡Œè§£åŒ…ï¼š<br>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>(*a,<span class="number">4</span>,<span class="number">5</span>) <span class="comment">#åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„å…ƒç»„</span></span><br><span class="line">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>&#123;*a,<span class="number">4</span>,<span class="number">5</span>&#125; <span class="comment">#é›†åˆ</span></span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>å½“å®¹å™¨å¯¹å­—å…¸æ—¶ï¼Œä½¿ç”¨çš„æ˜¯åŒæ˜Ÿå·<code>**</code>è¿›è¡Œè§£åŒ…ï¼š<br>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d=&#123;<span class="string">&#x27;1&#x27;</span>:<span class="number">1</span>,<span class="string">&#x27;2&#x27;</span>:<span class="number">2</span>,<span class="string">&#x27;3&#x27;</span>:<span class="number">3</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>&#123;**d,<span class="string">&#x27;4&#x27;</span>:<span class="number">4</span>,<span class="string">&#x27;5&#x27;</span>:<span class="number">5</span>&#125;</span><br><span class="line">&#123;<span class="string">&#x27;1&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;2&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;3&#x27;</span>: <span class="number">3</span>, <span class="string">&#x27;4&#x27;</span>: <span class="number">4</span>, <span class="string">&#x27;5&#x27;</span>: <span class="number">5</span>&#125;</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™è™½ç„¶æ¯”é€šè¿‡<code>dict.update()</code>æ‰©å……å­—å…¸çš„å½¢å¼è¦ç®€å•ä¸€ç‚¹ï¼Œä½†é¡»çŸ¥ï¼Œ<code>dict.update(another_dict)</code>å¯ä»¥æ˜ç¡®æ›´æ–°é¡¹ç›®ï¼Œè€Œ<code>**</code>å­—å…¸è§£åŒ…åˆ™æ— æ³•ç¡®ä¿ï¼Œè­¬å¦‚ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d=&#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>,<span class="string">&#x27;b&#x27;</span>:<span class="number">2</span>,<span class="string">&#x27;c&#x27;</span>:<span class="number">3</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>&#123;**d,<span class="string">&#x27;c&#x27;</span>:<span class="number">33</span>&#125;</span><br><span class="line">&#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;c&#x27;</span>: <span class="number">33</span>&#125; <span class="comment">#&#x27;c&#x27;é”®å€¼æ›´æ–°äº†</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>&#123;<span class="string">&#x27;c&#x27;</span>:<span class="number">33</span>,**d&#125;</span><br><span class="line">&#123;<span class="string">&#x27;c&#x27;</span>: <span class="number">3</span>, <span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">2</span>&#125; <span class="comment">#&#x27;c&#x27;é”®å€¼æ²¡æœ‰æ›´æ–°</span></span><br></pre></td></tr></table></figure>
<p>å¦å¤–å°±æ˜¯æ•ˆç‡é—®é¢˜ï¼Œç”¨<code>*</code>å’Œ<code>**</code>ç®€åŒ–å®¹å™¨çš„æ·»åŠ æ“ä½œï¼Œå…¶æ€§èƒ½å’Œå®¹å™¨å¯¹è±¡çš„<code>update()</code>,<code>append()</code>æˆ–<code>add()</code>æ–¹æ³•ç›¸æ¯”ï¼Œè°æ›´ä¼˜ï¼Ÿæ ¹æ®ä¸‹é¢çš„æµ‹è¯•ï¼Œè§£åŒ…æ¯”<code>append()</code>æ–¹æ³•æ…¢äº†3å€ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> timeit</span><br><span class="line">t1=timeit.Timer(<span class="string">&#x27;a.append(100)&#x27;</span>,<span class="string">&#x27;a=list(range(100))&#x27;</span>)</span><br><span class="line">print(t1.repeat()) <span class="comment">#[0.0850489117379404, 0.09039714449200119, 0.08290944329400407]</span></span><br><span class="line"></span><br><span class="line">t2=timeit.Timer(<span class="string">&#x27;b=[*a,100]&#x27;</span>,<span class="string">&#x27;a=list(range(100))&#x27;</span>)</span><br><span class="line">print(t2.repeat()) <span class="comment">#[0.2924700997522413, 0.2945020249114667, 0.2961987540175306]</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol></div></div>
   </li>
   <li><code>s.insert(i,x)</code><br></li>
   </ul>
  </li>
<li> åˆ é™¤<br>
   <ul><li> <code>s.pop([i])</code><br>
     æ³¨ï¼šå‡½æ•°å®šä¹‰æˆ–ç­¾åä¸­çš„<code>[]</code>è¡¨ç¤ºå¯é€‰å‚æ•°
   </li>
   <li> <code>s.remove(x)</code></li>
   <li> <code>del s[i]</code>ã€<code>del s[i:j]</code>ã€<code>del s[i:j:stride]</code><br>
     æ³¨ï¼šè¿™æ˜¯å¯å˜åºåˆ—çš„é€šç”¨æ“ä½œ
   </li></ul>
  </li>
<li> æŸ¥æ‰¾<br>
   <ul><li> <code>s.index(x,[,start[,stop]])</code><br>
     æ³¨ï¼šè¿”å›æ»¡è¶³<code>s[start:stop][i]==x</code>çš„æœ€å°<code>i</code>å€¼ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸</li>
   <li> <code>s[i]</code>ã€<code>s[i:j]</code>ã€<code>s[i:j:stride]</code><br>
     æ³¨ï¼šè¿™æ˜¯åºåˆ—çš„é€šç”¨æ“ä½œã€‚<code>i:j</code>å…¶å®æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„åˆ‡ç‰‡å¯¹è±¡<code>slice(i,j,None)</code>ï¼Œä¸”<code>i</code>ã€<code>j</code>ã€<code>stride</code>éƒ½æ˜¯ä»»æ„å¯çœçš„ï¼Œå¦‚<code>s[::]</code>
   </li></ul>
</li>
<li> ä¿®æ”¹<br>
   <ul>
   <li><code>s.reverse()</code><br>
     æ³¨ï¼šè¿™æ˜¯åŸå€æ“ä½œï¼Œå¯ä»¥é€šè¿‡åˆ‡ç‰‡å®ç°<code>s[::-1]</code>ï¼ˆè¿”å›ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä¸Šé¢è¯´è¿‡ï¼Œå±äºæµ…å¤åˆ¶ï¼‰
   </li>
   <li><code>s.sort([key[,reverse]])</code><br>
     <div class="hide-toggle" ><div class="hide-button toggle-title " style=""><i class="fas fa-caret-right fa-fw"></i><span><code>sort()</code>æ–¹æ³•</span></div>
    <div class="hide-content"><div class="note blue icon disabled"><i class="note-icon fas fa-lightbulb"></i><p>
åŸºæœ¬å½¢å¼ï¼š<code>sorted(iterable[,cmp[,key[,reverse]]])</code>ï¼ˆå‰¯æœ¬æ’åºï¼‰ã€<code>
              iterable.sort(cmp[,key[,reverse]])</code>ï¼ˆåŸå€æ’åºï¼‰
<p>å‚æ•°ï¼š<code>iterable</code>ä¸ºå¯è¿­ä»£å¯¹è±¡ï¼Œ<code>cmp</code>æŒ‡å®šæ’åºæ—¶è¿›è¡Œæ¯”è¾ƒçš„å‡½æ•°ï¼Œ<code>key</code>ä¹Ÿæ˜¯å‡½æ•°ï¼ŒæŒ‡å®šå¾…æ’åºå…ƒç´ å°†è¦å‚ä¸æ’åºçš„ç‰¹å¾ï¼Œ<code>reverse</code>å®ç°é™åºï¼Œé»˜è®¤<code>False</code>ä¸ºå‡åº<br>
æ³¨ï¼špython3å»æ‰äº†<code>cmp</code>å‚æ•°</p>
</p></div>
<p>ç®€å•ç¤ºä¾‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#1.åŸå€æ’åºï¼ˆå¯¹åŸå§‹çš„åºåˆ—å¯¹è±¡è¿›è¡Œå†…éƒ¨æ’åºè€Œä¸æ˜¯è¿”å›ä¸€ä¸ªæ–°çš„å·²æ’çš„åºåˆ—å¯¹è±¡ï¼‰</span></span><br><span class="line">n=[<span class="number">7</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">8</span>,<span class="number">9</span>]</span><br><span class="line">n.sort()</span><br><span class="line">print(n) <span class="comment">#[1, 2, 3, 4, 7, 8, 9]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#2.å‰¯æœ¬æ’åº</span></span><br><span class="line"><span class="comment">#ä¸¤ç§ï¼šåˆ›å»ºåŸå§‹å¯¹è±¡çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œç„¶åå¯¹å‰¯æœ¬åšåŸå€æ’åºï¼Œæˆ–è€…ä½¿ç”¨sortedæ–¹æ³•ï¼Œå…¶å°†è¿”å›ä¸€ä¸ªç±»å‹ä¸ºåˆ—è¡¨çš„å‰¯æœ¬</span></span><br><span class="line">x=[<span class="number">4</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">1</span>]</span><br><span class="line">y=x[:] <span class="comment">#å¯¹äºåˆ—è¡¨å¯¹è±¡æ¥è¯´ï¼Œåˆ›å»ºå‰¯æœ¬çš„æ–¹å¼æœ‰å¾ˆå¤šï¼šåˆ‡ç‰‡ã€å·¥å‚å‡½æ•°ã€copy.copyï¼ˆå‰ä¸‰ç§æ˜¯æµ…æ‹·è´ï¼‰ã€copy.deepcopy</span></span><br><span class="line">y.sort()</span><br><span class="line">print(x,y) <span class="comment">#xæœªæ’åºï¼Œyå·²æ’åº</span></span><br><span class="line"></span><br><span class="line">m=[<span class="number">3</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">7</span>,<span class="number">5</span>,<span class="number">0</span>,<span class="number">2</span>]</span><br><span class="line">print(<span class="built_in">sorted</span>(m))</span><br><span class="line">print(m) <span class="comment">#sorted()ä¸æ”¹å˜åŸå§‹å¯¹è±¡</span></span><br></pre></td></tr></table></figure>
<p>é«˜çº§ç”¨æ³•ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#1.è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°cmp(x,y)</span></span><br><span class="line"><span class="comment">#æ—¢ç„¶python3ä¸æ”¯æŒï¼Œå°±ä¸è¯´äº†</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#2.è‡ªå®šä¹‰å¾…æ’åºå…ƒç´ ç‰¹å¾keysï¼ˆæ¥å—ä¸€ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºå¾…æ’åºçš„å…ƒç´ å¯¹è±¡ï¼‰</span></span><br><span class="line"><span class="comment">#ä¹‹æ‰€ä»¥åœ¨keyåé¢åŠ ä¸Šsï¼Œæ˜¯å› ä¸ºç‰¹å¾å¯ä»¥æœ‰å¤šä¸ªï¼Œé¦–å…ˆæŒ‰ç…§ç¬¬ä¸€ä¸ªç‰¹å¾å¯¹å…ƒç´ æ’åºï¼Œç„¶ååœ¨æ­¤åŸºç¡€ä¹‹ä¸Šï¼Œå†ç”¨ç¬¬äºŒä¸ªç‰¹å¾æ’åºï¼Œç¬¬ä¸€ä¸ªç‰¹å¾ä¼˜å…ˆçº§æœ€é«˜ã€‚æ­¤å³ä¸ºå¤šçº§æ’åº</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">keys</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">len</span>(x)</span><br><span class="line"></span><br><span class="line">array=[<span class="string">&#x27;daiyang&#x27;</span>,<span class="string">&#x27;sb&#x27;</span>,<span class="string">&#x27;miaosiyu&#x27;</span>,<span class="string">&#x27;jianglicheng&#x27;</span>,<span class="string">&#x27;liuhan&#x27;</span>] <span class="comment">#æŒ‰ç…§å­—ç¬¦ä¸²çš„é•¿åº¦è¿›è¡Œæ’åºï¼ˆé™ï¼‰</span></span><br><span class="line">print(<span class="built_in">sorted</span>(array,key=keys,reverse=<span class="literal">True</span>)) <span class="comment">#ç”±äºå–æ¶ˆäº†cmpæ¯”è¾ƒå‡½æ•°ï¼Œå› æ­¤åªèƒ½é€šè¿‡reverseè®¾å®šå‡é™é¡ºåº</span></span><br><span class="line">array.sort(key=<span class="keyword">lambda</span> x:<span class="built_in">len</span>(x),reverse=<span class="literal">True</span>)</span><br><span class="line">print(array) <span class="comment">#[&#x27;jianglicheng&#x27;, &#x27;miaosiyu&#x27;, &#x27;daiyang&#x27;, &#x27;liuhan&#x27;, &#x27;sb&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#3.å¤šçº§æ’åº</span></span><br><span class="line">arrays_1=[(<span class="number">2</span>,<span class="number">3</span>,<span class="number">10</span>),(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>),(<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>),(<span class="number">2</span>,<span class="number">5</span>,<span class="number">10</span>),(<span class="number">2</span>,<span class="number">4</span>,<span class="number">10</span>)]</span><br><span class="line">arrays_2=[(<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;10&#x27;</span>),(<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>),(<span class="string">&#x27;5&#x27;</span>,<span class="string">&#x27;6&#x27;</span>,<span class="string">&#x27;7&#x27;</span>),(<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;5&#x27;</span>,<span class="string">&#x27;10&#x27;</span>),(<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;4&#x27;</span>,<span class="string">&#x27;10&#x27;</span>)]</span><br><span class="line">arrays_1.sort(key=<span class="keyword">lambda</span> x:(x[<span class="number">2</span>],x[<span class="number">1</span>])) <span class="comment">#ä¾‹1 #[(1, 2, 3), (5, 6, 7), (2, 3, 10), (2, 4, 10), (2, 5, 10)]</span></span><br><span class="line">print(arrays_1)</span><br><span class="line">print(<span class="built_in">sorted</span>(arrays_2,key=<span class="keyword">lambda</span> x:<span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">int</span>,(x[<span class="number">2</span>],x[<span class="number">1</span>]))))) <span class="comment">#ä¾‹2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å°†operator.itemgetterå‡½æ•°ç”¨åœ¨å¤šçº§æ’åºä¸­</span></span><br><span class="line"><span class="keyword">from</span> operator <span class="keyword">import</span> itemgetter</span><br><span class="line"><span class="comment">#itemgetterå‡½æ•°ç”¨äºé€‰æ‹©å¯¹è±¡çš„æŒ‡å®šç»´æ•°çš„æ•°æ®ï¼Œæ³¨æ„itemgetterè¿”å›çš„æ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡</span></span><br><span class="line">a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">gets=itemgetter(<span class="number">1</span>,<span class="number">2</span>) <span class="comment">#è·å–â€œå¯¹è±¡[1]â€å’Œâ€œå¯¹è±¡[2]â€ï¼Œè¿™ä¸ªå¯¹è±¡æ˜¯å¹¿ä¹‰åŒ–çš„ï¼Œç”±ä½ ä»»æ„æŒ‡å®šï¼Œå¦‚ä¸‹ï¼š</span></span><br><span class="line">ret=gets(a) <span class="comment">#è¿”å›ä¸€ä¸ªå…ƒç»„ï¼š(a[1],a[2])</span></span><br><span class="line">print(ret)</span><br><span class="line"></span><br><span class="line"><span class="comment">#ç»“æœåŒä¾‹2:</span></span><br><span class="line">print(<span class="built_in">sorted</span>(arrays_2,key=<span class="keyword">lambda</span> x:<span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">int</span>,itemgetter(<span class="number">2</span>,<span class="number">1</span>)(x)))))</span><br><span class="line"><span class="comment">#ç»“æœåŒä¾‹1:</span></span><br><span class="line">print(<span class="built_in">sorted</span>(arrays_1,key=itemgetter(<span class="number">2</span>,<span class="number">1</span>)))</span><br></pre></td></tr></table></figure>
<p>æ³¨ï¼Œè·å–æ’åºåçš„ç´¢å¼•åºåˆ—ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">argsort</span>(<span class="params">arr</span>):</span></span><br><span class="line">    <span class="keyword">return</span> [i <span class="keyword">for</span> i,v <span class="keyword">in</span> <span class="built_in">sorted</span>(<span class="built_in">enumerate</span>(arr),key=<span class="keyword">lambda</span> x:x[<span class="number">1</span>])]</span><br><span class="line">    </span><br><span class="line">a=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">9</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">0</span>]</span><br><span class="line">inds=argsort(a)</span><br><span class="line">print(<span class="string">f&#x27;sorted-index:<span class="subst">&#123;inds&#125;</span>&#x27;</span>) <span class="comment">#sorted-index:[6, 0, 2, 5, 1, 4, 3]</span></span><br><span class="line">print(<span class="string">f&#x27;sorted-value:<span class="subst">&#123;[a[ind] <span class="keyword">for</span> ind <span class="keyword">in</span> inds]&#125;</span>&#x27;</span>) <span class="comment">#sorted-value:[0, 1, 2, 2, 3, 4, 9]</span></span><br></pre></td></tr></table></figure>
</div></div>
   </li>
   </ul>
</li>
</ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="dytab1-1-3"><p>ç±»ä¼¼äºåˆ—è¡¨ï¼Œåªä¸è¿‡å…ƒç»„ä¸€æ—¦åˆ›å»ºä¸èƒ½ä¿®æ”¹ï¼Œæ¯”åˆ—è¡¨è¦çœå†…å­˜</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="dytab1-1-4"><p>é¦–å…ˆæ–°å»ºä¸€ä¸ªé“¾è¡¨ç±»ï¼ˆç›®å‰å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å®¹å™¨ï¼Œå¯ä»¥å­˜å‚¨æ•°æ®ï¼Œä½†æ˜¯å°šæœªå®ç°<code>__iter__</code>æ–¹æ³•ï¼Œå› æ­¤è¿˜ä¸æ˜¯å¯è¿­ä»£å¯¹è±¡ï¼‰ï¼Œå®ç°äº†é“¾è¡¨çš„åŸºæœ¬æ“ä½œï¼Œç´¢å¼•ã€è¿½åŠ ã€æ’å…¥ã€åˆ é™¤ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line">__all__=[<span class="string">&#x27;Link&#x27;</span>,]</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,val</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;èŠ‚ç‚¹å¯¹è±¡ï¼Œæœ‰æ•°æ®åŸŸå’ŒæŒ‡é’ˆåŸŸï¼ˆæŒ‡å‘ä¸‹ä¸€å…ƒç´ ï¼‰&#x27;&#x27;&#x27;</span></span><br><span class="line">        self.data=val</span><br><span class="line">        self.<span class="built_in">next</span>=<span class="literal">None</span></span><br><span class="line">        </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Link</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;åˆå§‹åŒ–é“¾è¡¨ï¼Œåˆå§‹åŒ–ä¸€ä¸ªå¤´èŠ‚ç‚¹ï¼Œå…¶æ•°æ®åŸŸé»˜è®¤ä¸ºç©ºï¼Œå¯ä»¥æ·»åŠ é“¾è¡¨é•¿åº¦ç­‰ä¿¡æ¯&#x27;&#x27;&#x27;</span></span><br><span class="line">        head=Node(<span class="number">0</span>)</span><br><span class="line">        self.pointer=head <span class="comment">#è¯­ä¹‰ï¼šé“¾è¡¨æŒ‡é’ˆï¼ŒæŒ‡å‘å¤´èŠ‚ç‚¹</span></span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">append</span>(<span class="params">self,val</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;åœ¨é“¾è¡¨å°¾éƒ¨è¿½åŠ æ–°å…ƒç´ &#x27;&#x27;&#x27;</span></span><br><span class="line">        node=Node(val)</span><br><span class="line">        p=self.pointer    <span class="comment">#è¯­ä¹‰ï¼šå·¥ä½œæŒ‡é’ˆ</span></span><br><span class="line">        <span class="keyword">while</span> p.<span class="built_in">next</span>:     <span class="comment">#è·å–æŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆ</span></span><br><span class="line">            p=p.<span class="built_in">next</span></span><br><span class="line">        p.<span class="built_in">next</span>=node       <span class="comment">#çœ‹èµ·æ¥nextâ€œæŒ‡é’ˆåŸŸâ€æŒ‡å‘äº†nodeï¼Œå› ä¸ºnextä¸­ä¿å­˜çš„æ˜¯å¯¹nodeçš„å¼•ç”¨ï¼Œè€Œä¸æ˜¯nodeçš„æ‹·è´ï¼Œè¿™å’ŒCä¸­çš„æŒ‡é’ˆæ•ˆæœæ˜¯ä¸€æ ·çš„</span></span><br><span class="line">        self.pointer.data+=<span class="number">1</span></span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">printf</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;æ‰“å°é“¾è¡¨ä¸­å…ƒç´ &#x27;&#x27;&#x27;</span></span><br><span class="line">        print(<span class="string">&#x27;[é“¾è¡¨] &#x27;</span>,end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        p=self.pointer</span><br><span class="line">        <span class="keyword">while</span> p.<span class="built_in">next</span>:</span><br><span class="line">            print(p.<span class="built_in">next</span>.data,end=<span class="string">&#x27;, &#x27;</span>)</span><br><span class="line">            p=p.<span class="built_in">next</span></span><br><span class="line">        print()</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">delete</span>(<span class="params">self,index,get=<span class="literal">False</span></span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;åˆ é™¤é“¾è¡¨ä¸­ç¬¬indexä¸ªå…ƒç´ ï¼Œgetå‚æ•°ç”¨äºget()å‡½æ•°ä»£ç å¤ç”¨ï¼Œè¿™ä¸ªå‚æ•°åº”è¯¥éšè—ï¼ˆè­¬å¦‚ä½œä¸ºç±»å±æ€§ï¼‰è€Œä¸è¯¥æ”¾åœ¨å‡½æ•°å®šä¹‰ä¸­&#x27;&#x27;&#x27;</span></span><br><span class="line">        <span class="keyword">if</span> index&lt;<span class="number">1</span> <span class="keyword">or</span> index&gt;self.<span class="built_in">len</span>:</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">&#x27;ä¸‹æ ‡æº¢å‡º&#x27;</span>)</span><br><span class="line">        p=self.pointer</span><br><span class="line">        i=<span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> p.<span class="built_in">next</span>:</span><br><span class="line">            <span class="keyword">if</span> i==index:</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> get:</span><br><span class="line">                    p.<span class="built_in">next</span>=p.<span class="built_in">next</span>.<span class="built_in">next</span> <span class="comment">#æ–­å¼€çš„èŠ‚ç‚¹æ— éœ€æ‰‹åŠ¨freeï¼Œå› ä¸ºpythonæœ‰åƒåœ¾å›æ”¶æœºåˆ¶</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">return</span> p.<span class="built_in">next</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            p=p.<span class="built_in">next</span></span><br><span class="line">            i+=<span class="number">1</span></span><br><span class="line">        self.pointer.data-=<span class="number">1</span></span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">deleteall</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;åˆ é™¤å…¨éƒ¨å…ƒç´ ï¼Œå³å¤´èŠ‚ç‚¹æŒ‡é’ˆåŸŸæŒ‡ç©º&#x27;&#x27;&#x27;</span></span><br><span class="line">        p=self.pointer</span><br><span class="line">        p.<span class="built_in">next</span>=<span class="literal">None</span></span><br><span class="line">        self.pointer.data=<span class="number">0</span></span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span>(<span class="params">self,index</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;è·å–ç¬¬indexä¸ªèŠ‚ç‚¹å…ƒç´ ï¼Œindexå–å€¼1~len(Link)&#x27;&#x27;&#x27;</span></span><br><span class="line">        <span class="keyword">return</span> self.delete(index,<span class="literal">True</span>).data</span><br><span class="line">        </span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">len</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;é“¾è¡¨é•¿åº¦ï¼Œä¹‹å‰æˆ‘ä»¬è¯´å¤´èŠ‚ç‚¹æœ‰ç©ºé—²çš„æ•°æ®åŸŸï¼Œæˆ‘ä»¬å¯ä»¥å­˜å‚¨é“¾è¡¨é•¿åº¦ä¿¡æ¯ï¼Œé€šè¿‡å®æ—¶æ›´æ–°å…¶å€¼ï¼Œå¯ä»¥é¿å…ç¡¬è®¡ç®—&#x27;&#x27;&#x27;</span></span><br><span class="line">        p=self.pointer</span><br><span class="line">        i=<span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> p.<span class="built_in">next</span>:</span><br><span class="line">            p=p.<span class="built_in">next</span></span><br><span class="line">            i+=<span class="number">1</span> <span class="comment"># ç¡¬è®¡ç®—</span></span><br><span class="line">        <span class="keyword">if</span> self.pointer.data!=i: <span class="comment">#ä¸ºäº†é¿å…é”™è¯¯ï¼Œæš‚æ—¶æˆ‘ä»ä½¿ç”¨ç¡¬è®¡ç®—ï¼Œå¹¶å¯¹å¤´èŠ‚ç‚¹çš„æ•°æ®åŸŸä¸­çš„é•¿åº¦å€¼è¿›è¡Œæ£€æµ‹</span></span><br><span class="line">            print(<span class="string">&#x27;å¤´èŠ‚ç‚¹é”™è¯¯&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> i</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">insert</span>(<span class="params">self,index,val</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;æ’å…¥å…ƒç´ ï¼Œindexåˆæ³•å–å€¼1åˆ°len(Link)+1ï¼Œç‰¹åˆ«åœ°ï¼Œå½“indexå–å€¼len(Link)+1æ—¶ï¼Œä¸ºåœ¨å°¾éƒ¨è¿½åŠ ï¼ˆç‰¹æ®Šæ’å…¥ï¼‰&#x27;&#x27;&#x27;</span></span><br><span class="line">        node=Node(val)</span><br><span class="line">        <span class="keyword">if</span> index&lt;<span class="number">1</span> <span class="keyword">or</span> index&gt;self.<span class="built_in">len</span>+<span class="number">1</span>:</span><br><span class="line">            print(<span class="string">&#x27;ä¸‹æ ‡æº¢å‡º&#x27;</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">if</span> index==self.<span class="built_in">len</span>+<span class="number">1</span>:</span><br><span class="line">            self.append(node)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        p=self.pointer</span><br><span class="line">        i=<span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> p.<span class="built_in">next</span>:</span><br><span class="line">            <span class="keyword">if</span> i==index:</span><br><span class="line">                t=p.<span class="built_in">next</span></span><br><span class="line">                p.<span class="built_in">next</span>=node</span><br><span class="line">                node.<span class="built_in">next</span>=t</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            p=p.<span class="built_in">next</span></span><br><span class="line">            i+=<span class="number">1</span></span><br><span class="line">        self.pointer.data+=<span class="number">1</span></span><br><span class="line">        </span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    L=Link() <span class="comment">#ç©ºé“¾è¡¨</span></span><br><span class="line">    L.append(<span class="number">1</span>)</span><br><span class="line">    L.append(<span class="number">2</span>)</span><br><span class="line">    L.append(<span class="number">3</span>)</span><br><span class="line">    L.insert(<span class="number">1</span>,<span class="number">0</span>)</span><br><span class="line">    L.printf()</span><br><span class="line">    L.delete(<span class="number">1</span>)</span><br><span class="line">    L.printf()</span><br><span class="line">    L.deleteall()</span><br><span class="line">    L.append(<span class="string">&#x27;muggle&#x27;</span>)</span><br><span class="line">    L.append(<span class="string">&#x27;daiyang&#x27;</span>)</span><br><span class="line">    L.printf()</span><br><span class="line">    print(L.get(<span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<p>å‡¡æ˜¯å¯è¿­ä»£å¯¹è±¡éƒ½å¯ä»¥ç”¨<code>for</code>è¯­å¥é€ä¸€éå†å…¨éƒ¨å…ƒç´ ï¼Œè¿™æ˜¯æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å¯è¿­ä»£çš„æ ‡å‡†ï¼Œè¦åˆ›å»ºä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œå¿…é¡»å®ç°<code>__iter__()</code>æ–¹æ³•ï¼Œå…¶è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œè¿­ä»£å™¨å†…éƒ¨æŒæœ‰ä¸€ä¸ªçŠ¶æ€ï¼Œç”¨äºè®°å½•å½“å‰è¿­ä»£æ‰€åœ¨çš„ä½ç½®ï¼Œè¿­ä»£å™¨å¿…é¡»å®ç°<code>__next__()</code>ç”¨äºè¿­ä»£è·å–ä¸‹ä¸€ä¸ªå…ƒç´ å¹¶æ›´æ–°è¿­ä»£çŠ¶æ€ï¼Œè€Œè¿­ä»£å™¨ä¹Ÿå±äºå¯è¿­ä»£å¯¹è±¡çš„èŒƒç•´ï¼Œå› æ­¤ä¹Ÿå¿…é¡»å®ç°<code>__iter__()</code>æ–¹æ³•ï¼Œå…·ä½“å®ç°æ—¶è¿”å›è‡ªèº«å³å¯</p>
<p>ä¸‹é¢æˆ‘ä»¬è¯•ç€å°†ä¸Šè¿°ä¸å¯è¿­ä»£çš„é“¾è¡¨å¯¹è±¡ï¼ˆLinkï¼‰è½¬å˜ä¸ºå¯è¿­ä»£çš„åˆ—è¡¨å¯¹è±¡ï¼ˆListï¼‰ï¼Œå¹¶åœ¨é“¾è¡¨çš„åŸºç¡€ä¸Šæ„å»ºä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">List</span>(<span class="params">Link</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span>(<span class="params">self</span>):</span> <span class="comment">#å®ç°äº†__iter__æ–¹æ³•ä¹‹åï¼Œé“¾è¡¨å˜æˆå¯è¿­ä»£å¯¹è±¡</span></span><br><span class="line">        <span class="keyword">return</span> ListIteration(self)</span><br><span class="line">        </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ListIteration</span>:</span> <span class="comment">#ç®€å•æ¥è¯´ï¼Œè¿­ä»£å™¨å°±ç›¸å½“äºâ€œæ™®é€šå®¹å™¨+è¿­ä»£çŠ¶æ€â€</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,container</span>):</span></span><br><span class="line">        self.data=container <span class="comment">#è¿­ä»£å™¨ç”±å®¹å™¨æ•°æ®å’ŒçŠ¶æ€æ„æˆ</span></span><br><span class="line">        self.iterstate=<span class="number">1</span> <span class="comment">#è¿­ä»£å™¨å½“å‰çš„è¿­ä»£çŠ¶æ€</span></span><br><span class="line">        self.stopstate=self.data.<span class="built_in">len</span> <span class="comment">#ç»ˆæ­¢</span></span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span>(<span class="params">self</span>):</span> <span class="comment">#å¯¹ä¸€ä¸ªè¿­ä»£å™¨è·å–å…¶è¿­ä»£å™¨ï¼Œå°±æ˜¯å…¶æœ¬èº«</span></span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__next__</span>(<span class="params">self</span>):</span> <span class="comment">#æ ¹æ®å½“å‰è¿­ä»£çŠ¶æ€è¿­ä»£ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶æ›´æ–°çŠ¶æ€</span></span><br><span class="line">        <span class="keyword">while</span> self.iterstate&lt;=self.stopstate:</span><br><span class="line">            self.iterstate+=<span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> self.data.get(self.iterstate-<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">raise</span> StopIteration <span class="comment">#å¯¹è¶…å‡ºèŒƒå›´çš„å…ƒç´ è¿­ä»£éœ€è¦è¿”å›StopIterationï¼Œåœ¨forè¯­å¥ä¸­è¯¥å¼‚å¸¸å°†è¢«æ•æ‰</span></span><br><span class="line">        </span><br><span class="line">a=List() <span class="comment">#åˆ›å»ºä¸€ä¸ªåˆ—è¡¨ï¼ˆå¯è¿­ä»£å¯¹è±¡ï¼‰</span></span><br><span class="line">a.append(<span class="number">10</span>)</span><br><span class="line">a.append(<span class="number">12</span>)</span><br><span class="line">a.append(<span class="number">14</span>)</span><br><span class="line">a.append(<span class="number">16</span>)</span><br><span class="line">b=<span class="built_in">iter</span>(a) <span class="comment">#å°†è‡ªåŠ¨è°ƒç”¨a.__iter__()</span></span><br><span class="line">print(b.__next__()) <span class="comment">#10 #æˆ–è€…å†™next(b)</span></span><br><span class="line">c=<span class="built_in">iter</span>(b) <span class="comment">#å¯¹è¿­ä»£å™¨è°ƒç”¨iter()ï¼Œè¿”å›è‡ªèº«ï¼Œå› æ­¤ä¸‹é¢çš„céƒ½å¯ä»¥æ›¿æ¢ä¸ºb</span></span><br><span class="line">print(c.__next__()) <span class="comment">#12</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> c:</span><br><span class="line">    print(i) <span class="comment">#14 16</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> a:</span><br><span class="line">    print(i) <span class="comment">#10 12 14 16</span></span><br></pre></td></tr></table></figure>
<div class="hide-toggle" ><div class="hide-button toggle-title " style=""><i class="fas fa-caret-right fa-fw"></i><span><code>for</code>å¾ªç¯åŸç†</span></div>
    <div class="hide-content"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]:</span><br><span class="line">    print(x)</span><br></pre></td></tr></table></figure>
<p>ç­‰ä»·äºï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#1.é¦–å…ˆé€šè¿‡iter()è·å–è¿­ä»£å™¨å¯¹è±¡</span></span><br><span class="line">iterator=<span class="built_in">iter</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line"><span class="comment">#2.åœ¨å¾ªç¯ä¸­ä¸æ–­è°ƒç”¨nextæ–¹æ³•è·å–è¿­ä»£å™¨å¯¹è±¡çš„ä¸‹ä¸€ä¸ªå€¼ç›´è‡³æ•æ‰åˆ°StopIterationå¼‚å¸¸é€€å‡ºå¾ªç¯</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        x=<span class="built_in">next</span>(iterator)</span><br><span class="line">        print(x)</span><br><span class="line">    <span class="keyword">except</span> StopIteration:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure></div></div>
<p><code>itertools</code>æ¨¡å—æä¾›äº†è¯¸å¤šå…·æœ‰ç‰¹æ®Šç”¨é€”çš„è¿­ä»£å™¨ï¼Œè­¬å¦‚<code>count()</code>è¿”å›ä¸€ä¸ªæ— é™å¾ªç¯çš„è¿­ä»£å™¨ï¼ˆæ—¢ç„¶æ— é™å¾ªç¯ä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨<code>while</code>ï¼Ÿå› ä¸º<code>count()</code>å¯ä»¥å¾ˆæ–¹ä¾¿åœ°è®°å½•å½“å‰è¿­ä»£æ¬¡åºï¼‰ï¼Œå†å¦‚<code>cycle()</code>ä»æœ‰é™åºåˆ—ç”Ÿæˆæ— é™åºåˆ—ï¼Œç”¨äºå¾ªç¯éå†åºåˆ—ï¼Œç­‰ç­‰ï¼Œä¸‹é¢æ˜¯<code>cycle</code>çš„å®ç°ï¼ˆæˆ‘éšä¾¿å†™çš„ï¼Œéå®˜æ–¹å®ç°ï¼‰ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">cycle</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,container,start=<span class="number">0</span></span>):</span> <span class="comment">#startæŒ‡å®šä»åºåˆ—çš„å“ªä¸€ä¸ªå…ƒç´ å¼€å§‹å¾ªç¯è¿­ä»£</span></span><br><span class="line">        self.data=container</span><br><span class="line">        self.iterstate=start</span><br><span class="line">        self.<span class="built_in">len</span>=<span class="built_in">len</span>(container)</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__next__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.iterstate+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> self.data[(self.iterstate-<span class="number">1</span>)%self.<span class="built_in">len</span>]</span><br><span class="line">        </span><br><span class="line">a=cycle([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],) <span class="comment">#ä¸åŒäºä¸Šé¢è‡ªå®šä¹‰çš„åˆ—è¡¨æ˜¯ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼ˆä½†éè¿­ä»£å™¨å¯¹è±¡ï¼‰ï¼Œæ­¤å¤„cycle(...)ç›´æ¥å°±æ˜¯è¿­ä»£å™¨å¯¹è±¡ï¼Œå½“ç„¶ä¹Ÿå°±æ˜¯å¯è¿­ä»£å¯¹è±¡ã€‚å†å¦‚pythonå‡ ç§å†…ç½®ç±»å‹listã€tupleã€dictã€setã€strç­‰ï¼Œä¹Ÿéƒ½æ˜¯å¯è¿­ä»£å¯¹è±¡ï¼Œä½†éè¿­ä»£å™¨å¯¹è±¡ï¼ˆä¸ºä½•è¿™æ ·è®¾è®¡ï¼Ÿé“ç†å¾ˆç®€å•ï¼Œè¿­ä»£å™¨å¯¹è±¡éƒ½æ˜¯ç”¨å®Œå³æ‰”çš„ï¼Œè¿™å®åœ¨æ˜¯å¤ªæµªè´¹èµ„æºäº†ï¼Œäºæ˜¯ä½ éœ€è¦ä¸åœåœ¨å†…å­˜ä¸­åˆ›å»ºå’Œå›æ”¶å¯¹è±¡ï¼Œä½†é‡å¤å°†å¯è¿­ä»£å¯¹è±¡è½¬æ¢ä¸ºè¿­ä»£å™¨å°±å¾ˆä¾¿å®œäº†ï¼‰ï¼Œè­¬å¦‚a=[1,2,3];next(a)å°†æŠ¥é”™ï¼šTypeError: &#x27;list&#x27; object is not an iterator</span></span><br><span class="line">print(<span class="built_in">next</span>(a),<span class="built_in">next</span>(a),<span class="built_in">next</span>(a),<span class="built_in">next</span>(a),<span class="built_in">next</span>(a),<span class="built_in">next</span>(a),<span class="built_in">next</span>(a)) <span class="comment">#1 2 3 1 2 3 1</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> a:</span><br><span class="line">    print(i) <span class="comment">#æ— é™å¾ªç¯ï¼Œå› ä¸ºforå¾ªç¯åªä¼šåœ¨next(è¿­ä»£å™¨)æŠ›å‡ºStopIterationï¼ˆåœæ­¢è¿­ä»£å¼‚å¸¸ï¼‰çš„æ—¶å€™ç»ˆæ­¢</span></span><br></pre></td></tr></table></figure>
<p>åˆ¤æ–­æ˜¯å¦å¯è¿­ä»£ä»¥åŠæ˜¯å¦æ˜¯è¿­ä»£å™¨ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> collections</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>([],collections.Iterable) <span class="comment">#listæ˜¯å¯è¿­ä»£å¯¹è±¡å—ï¼Ÿ</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">isinstance</span>([],collections.Iterator) <span class="comment">#listæ˜¯è¿­ä»£å™¨å¯¹è±¡å—ï¼Ÿ</span></span><br><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure>
<img src="https://cdn.staticaly.com/gh/celestezj/ImageHosting/master/img/20210429214739.png" alt="å›¾2. å¯è¿­ä»£å¯¹è±¡ã€è¿­ä»£å™¨ã€ç”Ÿæˆå™¨å…³ç³»[4]" style="width:540px">
<p>å†è¯´è¯´ç”Ÿæˆå™¨ï¼Œå®é™…ä¸Šç”Ÿæˆå™¨æœ¬è´¨å°±æ˜¯è¿­ä»£å™¨ï¼ˆå› æ­¤ç”Ÿæˆå™¨ä¹Ÿæ˜¯ç”¨å®Œå³å¼ƒï¼‰ï¼Œåªè¦è¿­ä»£çš„ä¸‹ä¸€ä¸ªå…ƒç´ æ˜¯å³æ—¶è®¡ç®—ï¼ˆæƒ°æ€§è®¡ç®—ï¼‰çš„ï¼Œé‚£å°±æ˜¯ç”Ÿæˆå™¨ï¼Œæ™®é€šè¿­ä»£å™¨è¿­ä»£ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œæ˜¯ä»æŸä¸ªå®¹å™¨ä¸­å–å‡ºæ¥ï¼Œæ‰€æœ‰å…ƒç´ äº‹å…ˆå·²ç»è®¡ç®—å¾—å‡ºï¼Œå…¶å§‹ç»ˆå ç”¨ç€ä¸€ç‰‡å†…å­˜åŒºåŸŸï¼ˆå› æ­¤åªæœ‰ç”Ÿæˆå™¨æ‰èƒ½å®ç°â€œæ— é™åºåˆ—â€ï¼‰ã€‚åœ¨python2ä¸­<code>range()</code>å°±æ˜¯ä¸€ä¸ªæ™®é€šè¿­ä»£å™¨ï¼ˆè­¬å¦‚<code>range(10000)</code>å†…å­˜ä¸­çœŸçš„å°±å­˜åœ¨10000ä¸ªæ•°å­—ï¼‰ï¼Œ<code>xrange()</code>åˆ™æ˜¯ç”Ÿæˆå™¨ï¼ˆæ­¤æ—¶å†…å­˜ä¸­å°±æ²¡æœ‰10000ä¸ªæ•°æ®å ç”¨ï¼‰ï¼Œä¸‹é¢æˆ‘ä»¬è‡ªè¡Œè®¾è®¡ä¸€ä¸ªç”Ÿæˆå™¨ç‰ˆæœ¬çš„<code>range</code>ï¼ˆRangeï¼‰ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Range</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,*args</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(args)==<span class="number">1</span>:</span><br><span class="line">            self.start,self.stop,self.step=<span class="number">0</span>,args[<span class="number">0</span>],<span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> <span class="built_in">len</span>(args)==<span class="number">2</span>:</span><br><span class="line">            self.start,self.stop,self.step=*args,<span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> <span class="built_in">len</span>(args)==<span class="number">3</span>:</span><br><span class="line">            self.start,self.stop,self.step=args</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">&#x27;[å‚æ•°é”™è¯¯] Range(start[,stop[,step]])&#x27;</span>)</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__next__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">while</span> self.start&lt;self.stop:</span><br><span class="line">            self.start+=self.step</span><br><span class="line">            <span class="keyword">return</span> self.start-self.step</span><br><span class="line">        <span class="keyword">raise</span> StopIteration</span><br><span class="line">        </span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> Range(<span class="number">3</span>,<span class="number">9</span>,<span class="number">2</span>):</span><br><span class="line">    print(i) <span class="comment">#3, 5, 7</span></span><br><span class="line">print(<span class="built_in">list</span>(Range(<span class="number">5</span>))) <span class="comment">#[0, 1, 2, 3, 4]ï¼Œå·¥å‚å‡½æ•°listè‡ªåŠ¨è®¡ç®—ç”Ÿæˆå™¨å„ä¸ªå…ƒç´ çš„å€¼å¹¶ä»¥åˆ—è¡¨è¿”å›</span></span><br></pre></td></tr></table></figure>
<p>é€šå¸¸é‡‡ç”¨<code>yield</code>å…³é”®å­—æ„é€ ç”Ÿæˆå™¨ï¼Œåœ¨å‡½æ•°ä¸­ä½¿ç”¨<code>yield</code>å…³é”®å­—ä»£æ›¿<code>return</code>å…³é”®å­—ï¼ˆç§°ä¸ºç”Ÿæˆå™¨å‡½æ•°ï¼‰ï¼Œå‡½æ•°è°ƒç”¨å°†è¿”å›ä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡ï¼Œæ­¤æ—¶å‡½æ•°å†…éƒ¨ä»£ç ä¸ä¼šç«‹å³æ‰§è¡Œï¼Œé™¤éå¯¹å…¶è°ƒç”¨<code>next()</code>æ–¹æ³•ï¼Œå‡½æ•°æ‰§è¡Œæµå°†åœ¨<code>yield</code>ä½ç½®ä¸­æ­¢ï¼Œå¹¶è¿”å›<code>yield</code>è¯­å¥ä¸­çš„è¡¨è¾¾å¼å€¼ï¼Œç»§ç»­è°ƒç”¨<code>next()</code>æ–¹æ³•ï¼Œå‡½æ•°æ‰§è¡Œæµå°†ä»<code>yield</code>ä¸­æ­¢å¤„ç»§èµ·å¹¶åœ¨ä¸‹ä¸€æ¬¡é‡åˆ°<code>yield</code>æ—¶ä¸­æ­¢â€¦ï¼Œ<code>yield</code>ä½¿å¾—ç”Ÿæˆå™¨çš„è¯­æ³•å˜å¾—ç›¸å½“ä¼˜é›…ï¼ˆæˆ‘ä»¬å‡ ä¹ä»ä¸ä½¿ç”¨ä¸Šé¢Rangeç¤ºä¾‹çš„æ–¹å¼ç¼–å†™ç”Ÿæˆå™¨ï¼Œpythonæœ¬èº«ä¹Ÿä¸è®¤ä¸ºé‚£æ˜¯ä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡ï¼Œå¦‚<code>isinstance(Range(5),types.GeneratorType)</code>ä¼šè¿”å›<code>False</code>ï¼‰ï¼Œç®€å•æ¥è¯´ç”Ÿæˆå™¨å‡½æ•°å°±æ˜¯åœ¨ä¸€ä¸ªå¾ªç¯ä¸­ä¸æ–­è®¡ç®—å¹¶äº§ç”Ÿæ–°å€¼çš„è¿‡ç¨‹ä¸”åªåœ¨éœ€è¦æ—¶è®¡ç®—ï¼ˆâ€œæƒ°æ€§è®¡ç®—â€ï¼Œä¸è°ƒç”¨<code>next()</code>æ–¹æ³•åˆ™ä¸è®¡ç®—ï¼‰ï¼Œå®ƒå®šä¹‰äº†æ•°æ®ç”Ÿäº§çš„æµç¨‹ï¼Œå½“æˆ‘ä»¬éœ€è¦å°†ç”Ÿäº§å’Œæ¶ˆè€—åˆ†ç¦»çš„æ—¶å€™ï¼Œä½¿ç”¨ç”Ÿæˆå™¨å¯ä»¥æ–¹ä¾¿åœ°è§£è€¦ï¼Œä»»æ„å‡½æ•°ç¨ä½œä¿®æ”¹ä¾¿å¯è½¬æ¢ä¸ºç”Ÿæˆå™¨å‡½æ•°ï¼Œåªéœ€è¦å°†<code>return</code>å…³é”®å­—æ”¹æˆ<code>yield</code>å…³é”®å­—ï¼Œç°åœ¨æˆ‘ä»¬ç”¨<code>yield</code>æ–¹å¼é‡å†™Rangeï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Range</span>(<span class="params">*args</span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(args)==<span class="number">1</span>:</span><br><span class="line">        start,stop,step=<span class="number">0</span>,args[<span class="number">0</span>],<span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> <span class="built_in">len</span>(args)==<span class="number">2</span>:</span><br><span class="line">        start,stop,step=*args,<span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> <span class="built_in">len</span>(args)==<span class="number">3</span>:</span><br><span class="line">        start,stop,step=args</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">raise</span> ValueError(<span class="string">&#x27;[å‚æ•°é”™è¯¯] Range(start[,stop[,step]])&#x27;</span>)</span><br><span class="line">    <span class="keyword">while</span> start&lt;stop:</span><br><span class="line">        start+=step</span><br><span class="line">        <span class="keyword">yield</span> start-step</span><br><span class="line">    <span class="keyword">raise</span> StopIteration <span class="comment">#ç”Ÿæˆå™¨å…¶å®æ²¡å¿…è¦åœ¨ç»“æŸä½ç½®å¤„æ˜¾å¼æŠ›å‡ºè¯¥å¼‚å¸¸ï¼Œå› ä¸ºä¼šè‡ªåŠ¨æŠ›ï¼Œä½†æ˜¯ï¼ˆéç”Ÿæˆå™¨çš„ï¼‰è¿­ä»£å™¨å¿…é¡»æ‰‹åŠ¨æŠ›å‡º</span></span><br><span class="line">            </span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> Range(<span class="number">3</span>,<span class="number">9</span>,<span class="number">2</span>):</span><br><span class="line">    print(i)</span><br><span class="line">    </span><br><span class="line">print(<span class="built_in">list</span>(Range(<span class="number">5</span>))) <span class="comment">#[0, 1, 2, 3, 4]</span></span><br></pre></td></tr></table></figure>
<div class="hide-toggle" ><div class="hide-button toggle-title " style=""><i class="fas fa-caret-right fa-fw"></i><span>æƒ°æ€§è®¡ç®—</span></div>
    <div class="hide-content"><p>ä¸ºäº†æ·±å…¥äº†è§£â€œæƒ°æ€§è®¡ç®—â€ï¼Œçœ‹ä¸ª<a target="_blank" rel="noopener external nofollow noreferrer" href="https://segmentfault.com/q/1010000016013187">ç¤ºä¾‹</a>ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">g=(i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>))</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">10</span>]:</span><br><span class="line">    g=(i+j <span class="keyword">for</span> j <span class="keyword">in</span> g)</span><br><span class="line">print(<span class="built_in">list</span>(g))</span><br></pre></td></tr></table></figure>
<p>ä¸å°‘äººï¼ˆåŒ…æ‹¬æˆ‘ï¼‰è®¤ä¸ºç»“æœä¼šæ˜¯<code>[11,12,13,14]</code>ï¼Œä½†æ˜¯è§£é‡Šå™¨è¿è¡Œç»“æœå´æ˜¯<code>[20, 21, 22, 23]</code>ï¼Œwhyï¼Ÿ</p>
<p>å¯¹äºä¸€ä¸ªç”Ÿæˆå™¨è¡¨è¾¾å¼<code>(expression1 for variables in expression2)</code>ï¼Œ<code>expression1</code>åªæœ‰åœ¨è°ƒç”¨ç”Ÿæˆå™¨å¯¹è±¡çš„<code>__next__()</code>æ–¹æ³•æ—¶æ‰ä¼šæ‰§è¡Œï¼Œè€Œ<code>for</code>å­å¥åˆ™æ˜¯å³æ—¶è®¡ç®—çš„ï¼Œå³<code>expression2</code>æ˜¯å³æ—¶è®¡ç®—çš„ï¼ˆæ ¹æ®<code>for</code>åŸç†<code>expression2</code>åº”è¿”å›ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼‰ï¼Œå¦æ³¨æ„ï¼Œ<code>for</code>å­å¥å¯èƒ½æ˜¯å¤šå±‚<code>for</code>å¾ªç¯åµŒå¥—çš„ï¼Œåªæœ‰æœ€å·¦è¾¹çš„<code>for</code>å­å¥æ‰ä¼šå³æ—¶è®¡ç®—ï¼Œè­¬å¦‚ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">n=<span class="number">2</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bar</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">range</span>(n)</span><br><span class="line"></span><br><span class="line">g1=(i <span class="keyword">for</span> i <span class="keyword">in</span> bar()) <span class="comment">#forå­å¥è¡¨è¾¾å¼æ˜¯å³æ—¶è®¡ç®—çš„ï¼Œæ­¤å¤„ç­‰åŒäºï¼šg1=(i for i in range(2))</span></span><br><span class="line">n=<span class="number">3</span></span><br><span class="line">g2=((i,j) <span class="keyword">for</span> i <span class="keyword">in</span> bar() <span class="keyword">for</span> j <span class="keyword">in</span> bar()) <span class="comment">#åªæœ‰æœ€å·¦ä¾§çš„forå­å¥è¡¨è¾¾å¼æ‰å³æ—¶è®¡ç®—ï¼Œæ­¤å¤„ç­‰åŒäºï¼šg2=((i,j) for i in range(3) for j in bar())</span></span><br><span class="line">n=<span class="number">4</span></span><br><span class="line">print(<span class="built_in">list</span>(g1))</span><br><span class="line">print(<span class="built_in">list</span>(g2)) <span class="comment">#listéå†ç”Ÿæˆå™¨å…ƒç´ ï¼Œç”±äºæœ€åä¿®æ”¹çš„nå€¼ä¸º4ï¼Œäºæ˜¯æ­¤å¤„ç­‰åŒäºï¼šg2=((i,j) for i in range(3) for j in range(4))</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;OUTPUT</span></span><br><span class="line"><span class="string">[0, 1]</span></span><br><span class="line"><span class="string">[(0, 0), (0, 1), (0, 2), (0, 3), (1, 0), (1, 1), (1, 2), (1, 3), (2, 0), (2, 1), (2, 2), (2, 3)]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å¦‚æœexpression2æ˜¯ä¸€ä¸ªå˜é‡å¼•ç”¨ï¼Œå°†å˜é‡å¼•ç”¨æŒ‡å‘å…¶ä»–å¯¹è±¡ä¸ä¼šæ”¹å˜ç”Ÿæˆå™¨æ•°å€¼ï¼Œå¦‚æœå˜é‡å¼•ç”¨æŒ‡å‘ä¸€ä¸ªå¯å˜å¯¹è±¡ï¼Œä¿®æ”¹è¯¥å¯å˜å¯¹è±¡åˆ™ä¼šæ”¹å˜ç”Ÿæˆå™¨æ•°å€¼ï¼š</span></span><br><span class="line">a=<span class="built_in">range</span>(<span class="number">2</span>)</span><br><span class="line">g=(i <span class="keyword">for</span> i <span class="keyword">in</span> a)</span><br><span class="line">a=<span class="built_in">range</span>(<span class="number">10</span>)</span><br><span class="line">print(<span class="built_in">list</span>(g)) <span class="comment">#[0, 1]</span></span><br><span class="line"></span><br><span class="line">a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">g=(i <span class="keyword">for</span> i <span class="keyword">in</span> a)</span><br><span class="line">a.append(<span class="number">5</span>)</span><br><span class="line">print(<span class="built_in">list</span>(g)) <span class="comment">#[1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>
<p>å›åˆ°æœ€åˆçš„é—®é¢˜ï¼Œç¬¬ä¸€æ¬¡å¾ªç¯ï¼Œç”Ÿæˆå™¨<code>g</code>ä¸­çš„å€¼å…¶å®å°±æ˜¯<code>[i+0,i+1,i+2,i+3]</code>ï¼ˆå°šæœªè®¡ç®—ï¼‰ï¼Œç¬¬äºŒæ¬¡å¾ªç¯ï¼Œ<code>g</code>å˜æˆ<code>[i+(i+0),i+(i+1),i+(i+2),i+(i+3)]</code>ï¼ˆå°šæœªè®¡ç®—ï¼‰ï¼Œæœ€åé€šè¿‡<code>list(g)</code>éå†æ—¶ï¼Œ<code>i=10</code>ï¼Œäºæ˜¯è¾“å‡º<code>[20,21,22,23]</code>ã€‚å°†å…¶ç”¨ç”Ÿæˆå™¨å‡½æ•°æ”¹å†™ä¸€ä¸‹åŒæ—¶å±•å¼€<code>for</code>å¾ªç¯ï¼Œå…¶æ‰§è¡Œè¿‡ç¨‹ç›¸å½“äºï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gen1</span>():</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">        <span class="keyword">yield</span> i</span><br><span class="line"></span><br><span class="line">i=<span class="number">1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gen2</span>():</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> gen1():</span><br><span class="line">        <span class="keyword">yield</span> i+j</span><br><span class="line"></span><br><span class="line">i=<span class="number">10</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gen3</span>():</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> gen2():</span><br><span class="line">        <span class="keyword">yield</span> i+j</span><br><span class="line"></span><br><span class="line">print(<span class="built_in">list</span>(gen3())) <span class="comment">#[20, 21, 22, 23]</span></span><br></pre></td></tr></table></figure>
<p>è¿™å°±å¾ˆæ˜äº†äº†ï¼Œæˆ–è€…å†æ”¹å†™ä¸€ä¸‹å¾—åˆ°ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">i=<span class="number">1</span></span><br><span class="line"></span><br><span class="line">i=<span class="number">10</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gen3</span>():</span></span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">        <span class="keyword">yield</span> i+i+k</span><br><span class="line"></span><br><span class="line">print(<span class="built_in">list</span>(gen3())) <span class="comment">#[20, 21, 22, 23]</span></span><br></pre></td></tr></table></figure>
<p>å¦å¤–å¦‚æœä¸æ˜¯é€šè¿‡<code>list(g)</code>è¾“å‡ºç”Ÿæˆå™¨åºåˆ—å…ƒç´ ï¼Œè€Œæ˜¯ç”¨<code>for</code>å¾ªç¯æ›¿æ¢ä¹‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> g:</span><br><span class="line">    print(i)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;OUTPUT</span></span><br><span class="line"><span class="string">20</span></span><br><span class="line"><span class="string">41</span></span><br><span class="line"><span class="string">84</span></span><br><span class="line"><span class="string">171</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç ´è§£ä¹‹æ³•å°±æ˜¯æ›¿æ¢forå¾ªç¯å˜é‡</span></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> g:</span><br><span class="line">    print(k)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;OUTPUT</span></span><br><span class="line"><span class="string">20</span></span><br><span class="line"><span class="string">21</span></span><br><span class="line"><span class="string">22</span></span><br><span class="line"><span class="string">23</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>è¦æ³¨æ„è¿­ä»£å˜é‡çš„ä½¿ç”¨ï¼Œå¦‚æœä½¿ç”¨<code>i</code>ä½œä¸ºè¿­ä»£å˜é‡ï¼Œç»“æœå°†ä¼šå‘ç”Ÿå˜åŒ–ï¼Œè¿™ä»æ˜¯æƒ°æ€§è®¡ç®—å¯¼è‡´çš„ï¼Œç»“åˆ<code>for</code>å¾ªç¯åŸç†åŸå› å°±å¾ˆæ¸…æ¥šäº†ï¼ˆæ¯æ¬¡å¾ªç¯éƒ½ä¼šæ‰§è¡Œ<code>i=next(g)</code>ï¼Œè€Œ<code>i</code>å°†å½±å“ç”Ÿæˆå™¨åºåˆ—çš„æ•°å€¼è®¡ç®—ï¼‰</p>
</div></div>
<p><code>GeneratorExit</code>å¼‚å¸¸æ ‡å¿—ç€ç”Ÿæˆå™¨è¿­ä»£è¿‡ç¨‹çš„éæ­£å¸¸ç»ˆæ­¢ï¼Œç›¸åï¼Œæ­£å¸¸ç»ˆæ­¢ä¸ä¼šå¼•å‘è¯¥å¼‚å¸¸ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">n</span>):</span> <span class="comment">#ä¸æ–­ç”Ÿäº§æ•°æ®</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">while</span> n&gt;<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">yield</span> n</span><br><span class="line">            n-=<span class="number">1</span></span><br><span class="line">    <span class="keyword">except</span> GeneratorExit:</span><br><span class="line">        print(<span class="string">&#x27;exiting...&#x27;</span>)</span><br><span class="line">        </span><br><span class="line">g=f(<span class="number">3</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> g: <span class="comment">#æ¯äº§ç”Ÿä¸€ä¸ªæ•°æ®å°±æ¶ˆè€—ä¸€ä¸ªæ•°æ®ï¼Œå¦‚æœä½¿ç”¨whileå¾ªç¯æ˜¯æ— æ³•åˆ†ç¦»ç”Ÿäº§å’Œæ¶ˆè€—ä¸¤ä¸ªéƒ¨åˆ†çš„ï¼Œå®ƒä»¬åŠ¿å¿…æ··åˆåœ¨ä¸€èµ·</span></span><br><span class="line">    print(i) <span class="comment">#3 2 1</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœç”Ÿæˆå™¨ä»…è¢«éƒ¨åˆ†ä½¿ç”¨ï¼Œå°†åœ¨<code>yield</code>å¤„å¼•å‘<code>GeneratorExit</code>å¼‚å¸¸ï¼ˆä½†ä¸€èˆ¬ä¸ç”¨äººä¸ºæ•è·ï¼‰ï¼Œå¹¶è‡ªåŠ¨è°ƒç”¨<code>close()</code>æ–¹æ³•å…³é—­ç”Ÿæˆå™¨ï¼Œå¦‚æœå†æ¬¡è°ƒç”¨<code>next()</code>æ–¹æ³•å°†å¼•å‘<code>StopIteration</code>å¼‚å¸¸ï¼Œå®ƒå·²ä¸èƒ½ç»§ç»­äº§ç”Ÿæ–°å€¼äº†ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">g=f(<span class="number">3</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> g:</span><br><span class="line">    <span class="keyword">if</span> i&gt;<span class="number">1</span>:</span><br><span class="line">        print(i) <span class="comment">#3 2 exiting...</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">g.__next__() <span class="comment">#å‡ºç°StopIterationå¼‚å¸¸ï¼Œä¸è¦å†æœŸæœ›è¾“å‡º1</span></span><br></pre></td></tr></table></figure>
<p>æ³¨ï¼š<code>for</code>è¯­å¥èƒ½åˆ¤æ–­ç”Ÿæˆå™¨å‡½æ•°æ˜¯å¦å…¨éƒ¨å®Œæˆï¼Œå¦‚æœä½ æ˜¯é€šè¿‡<code>while</code>å’Œ<code>next</code>è¿›è¡Œè¿­ä»£æ˜¯æ— æ³•åˆ¤æ–­çš„ï¼ˆåªæœ‰åœ¨æ•´ä¸ªç¨‹åºç»ˆæ­¢æ—¶æ‰ä¼šå¼•å‘è¯¥å¼‚å¸¸ï¼‰ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦æ˜¾å¼å…³é—­ï¼ˆä½†è¿™ä¸æ˜¯å¿…é¡»çš„ï¼‰ï¼Œé‰´äºä½ é€šå¸¸ä¼šå¿˜è®°ï¼Œä¸€èˆ¬æˆ‘ä»¬åªä½¿ç”¨<code>for</code>å¾ªç¯æ¥è¿­ä»£ç”Ÿæˆå™¨</p>
<p>æ‰‹åŠ¨æ‰§è¡Œ<code>close()</code>æ–¹æ³•äº¦å°†åœ¨<code>yield</code>å¤„å¼•å‘<code>GeneratorExit</code>å¼‚å¸¸ï¼ˆå‡è®¾ç”Ÿæˆå™¨å·²è¢«ä½¿ç”¨è¿‡çš„è¯ï¼‰ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">g=f(<span class="number">3</span>)</span><br><span class="line">print(g.__next__()) <span class="comment">#3</span></span><br><span class="line">g.close() <span class="comment">#exiting...</span></span><br></pre></td></tr></table></figure>
<p>åˆ é™¤ç”Ÿæˆå™¨å¯¹è±¡ä¹Ÿä¼šå¼•å‘è¯¥å¼‚å¸¸ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">g=f(<span class="number">3</span>)</span><br><span class="line">print(g.__next__()) <span class="comment">#3</span></span><br><span class="line"><span class="keyword">del</span> g <span class="comment">#exiting...</span></span><br></pre></td></tr></table></figure>
<p>å°ç»“ä¸€ä¸‹ï¼š</p>
<ol>
<li>ç”Ÿæˆå™¨åœ¨<code>close()</code>æ–¹æ³•åå°±æ— æ³•å†è¿›è¡Œè¿­ä»£ï¼Œå†è°ƒç”¨<code>next()</code>æ–¹æ³•å°±ä¼šæŠ›å‡º<code>StopIteration</code>å¼‚å¸¸</li>
<li>ç”Ÿæˆå™¨è°ƒç”¨<code>close()</code>æ–¹æ³•ä¼šåœ¨<code>yield</code>å¤„æŠ›å‡º<code>GeneratorExit</code>å¼‚å¸¸ï¼Œä½†å‰ææ˜¯è‡³å°‘è°ƒç”¨ä¸€æ¬¡ç”Ÿæˆå™¨çš„<code>next()</code>æ–¹æ³•æ‰ä¼šäº§ç”Ÿ<code>GeneratorExit</code>å¼‚å¸¸ï¼Œå¦‚æœç”Ÿæˆå™¨æ²¡æœ‰å¯åŠ¨åˆ™ä¸ä¼šæŠ›å‡ºå¼‚å¸¸</li>
<li>ç”Ÿæˆå™¨å†…æ•æ‰<code>GeneratorExit</code>å¼‚å¸¸åï¼Œå¯ä»¥ç»§ç»­æ‰§è¡Œå‰©ä½™çš„ä»£ç ï¼Œä½†å‰©ä½™çš„ä»£ç ä¸­ä¸èƒ½å†åŒ…å«<code>yield</code>è¯­å¥ï¼Œå¦åˆ™æŠ›å‡º<code>RuntimeError</code>å¼‚å¸¸</li>
<li><code>GeneratorExit</code>å¼‚å¸¸ä¸èƒ½é€šè¿‡<code>Exception</code>æ•æ‰ï¼Œå› ä¸ºå…¶ç›´æ¥ç»§æ‰¿è‡ªæ‰€æœ‰å¼‚å¸¸çš„åŸºç±»<code>BaseException</code></li>
</ol>
<p>ä¸Šé¢æˆ‘ä»¬è¯´äº†ä¸ºä»€ä¹ˆå†…ç½®çš„ç±»å‹å¦‚<code>list</code>ã€<code>tuple</code>ã€<code>dict</code>ã€<code>set</code>ã€<code>str</code>éƒ½è¢«è®¾è®¡ä¸ºå¯è¿­ä»£å¯¹è±¡è€Œéè¿­ä»£å™¨ï¼ˆè¿­ä»£å™¨æ˜¯â€œä¸€æ¬¡æ€§â€çš„ï¼‰ï¼ŒåŸå› ä¸æ­¢ä¸€æ¡ï¼Œè­¬å¦‚<code>in</code>å…³é”®å­—å°±ä¸èƒ½ç”¨äºè¿­ä»£å™¨å¯¹è±¡ï¼Œ<code>x in y</code>è¯­å¥çš„å·¥ä½œåŸç†æ˜¯ï¼Œé¦–å…ˆè°ƒç”¨å¯¹è±¡<code>y</code>ä¸Šçš„<code>iter()</code>æ–¹æ³•ï¼Œç„¶åä¸æ–­æ‰§è¡Œ<code>next()</code>æ–¹æ³•è·å–ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œç›´è‡³<code>x==next(y)</code>ï¼Œè¿”å›<code>True</code>ï¼Œå¦åˆ™è¿”å›<code>False</code>ï¼Œè¡¨ç¤ºå®¹å™¨<code>y</code>ä¸­ä¸å­˜åœ¨<code>x</code>ï¼Œçœ‹ä¸€ä¸ªé”™è¯¯èŒƒä¾‹å°±æ˜äº†äº†ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">y=(i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>))</span><br><span class="line">x=<span class="number">1</span></span><br><span class="line">print(x <span class="keyword">in</span> y) <span class="comment">#True</span></span><br><span class="line">print(x <span class="keyword">in</span> y) <span class="comment">#False</span></span><br></pre></td></tr></table></figure>
<p>ç¬¬ä¸€æ¬¡æ‰§è¡Œ<code>x in y</code>æ—¶å€™ï¼Œ<code>iter(y)</code>è¿”å›<code>y</code>è‡ªèº«ï¼Œæ‰§è¡Œä¸¤æ¬¡<code>next(y)</code>ï¼Œç”Ÿæˆå™¨<code>y</code>ä¸­çš„å‰ä¸¤ä¸ªå…ƒç´ 0å’Œ1è¢«æ¶ˆè€—ï¼ˆå‘ç°<code>x</code>å­˜åœ¨äº<code>y</code>ä¸­ï¼‰ï¼Œç»“æœè¿”å›<code>True</code>ï¼Œç¬¬äºŒæ¬¡æ‰§è¡Œ<code>x in y</code>çš„æ—¶å€™ï¼Œ<code>iter(y)</code>ä»æ—§è¿”å›è¢«éƒ¨åˆ†æ¶ˆè€—çš„<code>y</code>è‡ªèº«ï¼Œç»§ç»­è°ƒç”¨<code>next()</code>æ–¹æ³•ï¼Œæ˜¾ç„¶åé¢çš„å…ƒç´ 2ã€3ã€4ä¸­ä¸å­˜åœ¨1ï¼Œå› æ­¤è¿”å›<code>False</code>ã€‚è¿™ç§æƒ…å†µä¸‹å¦‚æœè¦è¿›è¡Œå­˜åœ¨æ€§åˆ¤æ–­ï¼Œå¯ä»¥å…ˆå°†ç”Ÿæˆå™¨è½¬æ¢ä¸ºåˆ—è¡¨ï¼ˆ<code>list(y)</code>ï¼‰ï¼Œä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼ˆè€Œ<code>iter(å¯è¿­ä»£å¯¹è±¡)</code>æ€»æ˜¯è¿”å›ä¸€ä¸ªå…¨æ–°çš„è¿­ä»£å™¨å¯¹è±¡ï¼‰</p>
<div class="hide-toggle" ><div class="hide-button toggle-title " style=""><i class="fas fa-caret-right fa-fw"></i><span><code>yield</code>ä¸é€’å½’æ··ç”¨</span></div>
    <div class="hide-content"><p>å°†<code>yield</code>ä¸é€’å½’æ··ç”¨æ—¶è¦å°å¿ƒï¼Œå¾ˆå®¹æ˜“å‡ºé”™ï¼Œå…ˆæ¥çœ‹ä¸€ä¸ªç¤ºä¾‹ï¼Œéå†ä¸€ä¸ªåµŒå¥—çš„åˆ—è¡¨ï¼ˆå±•å¹³æ“ä½œï¼‰ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">flatten</span>(<span class="params">lists</span>):</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> lists:</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(i,<span class="built_in">list</span>):</span><br><span class="line">            flatten(i)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(i)</span><br><span class="line"></span><br><span class="line">a=[<span class="number">0</span>,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,[<span class="number">6</span>,<span class="number">7</span>]],[<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>]]</span><br><span class="line">flatten(a) <span class="comment">#0 1 2 3 4 5 6 7 8 9 10</span></span><br></pre></td></tr></table></figure>
<p>æ”¹å†™ä¸ºç”Ÿæˆå™¨ï¼ˆè¿™ä¸ªæ”¹å†™æ˜¯é”™è¯¯çš„ï¼‰ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">flatten</span>(<span class="params">lists</span>):</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> lists:</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(i,<span class="built_in">list</span>):</span><br><span class="line">            flatten(i) <span class="comment">#ä½ç½®2</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">yield</span> i <span class="comment">#ä½ç½®1</span></span><br><span class="line">            </span><br><span class="line">a=[<span class="number">0</span>,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,[<span class="number">6</span>,<span class="number">7</span>]],[<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>]]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> flatten(a):</span><br><span class="line">    print(i) <span class="comment">#ä»…ä»…æ‰“å°å‡º0</span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªç»“æœä¼¼ä¹å‡ºäººæ„æ–™ï¼Œåˆ†æä¸€ä¸‹ï¼Œè®¾<code>g=flatten(a)</code>ï¼Œ<code>for</code>è¯­å¥ç¬¬ä¸€æ¬¡è°ƒç”¨<code>g</code>çš„<code>next()</code>æ–¹æ³•ï¼Œç”±äºåˆ—è¡¨<code>a</code>çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æ•°å­—ï¼Œå› æ­¤å‡½æ•°æ‰§è¡Œæµå°†åˆ°è¾¾ä½ç½®1å¤„ä¸­æ­¢å¹¶è¿”å›<code>yield</code>è¡¨è¾¾å¼å€¼ï¼Œå³0ï¼Œç¬¬äºŒæ¬¡è°ƒç”¨<code>next()</code>æ–¹æ³•ï¼Œæ‰§è¡Œæµä»ä¸­æ­¢å¤„ç»§ç»­ï¼Œç”±äºåˆ—è¡¨<code>a</code>çš„ç¬¬äºŒä¸ªå…ƒç´ æ˜¯åˆ—è¡¨ï¼Œå› æ­¤åˆ°è¾¾ä½ç½®2å¤„ï¼Œå…³é”®å³åœ¨äºæ­¤ï¼Œä½ç½®2å¤„çš„<code>flatten(i)</code>å°†è¿”å›ä¸€ä¸ªç”Ÿæˆå™¨ï¼Œç„¶è€Œç”Ÿæˆå™¨æ˜¯æƒ°æ€§çš„ï¼Œåœ¨æ²¡æœ‰è°ƒç”¨<code>next()</code>æ–¹æ³•çš„æƒ…å†µä¸‹ç”Ÿæˆå™¨æ ¹æœ¬ä¸ä¼šæ‰§è¡Œï¼ˆä¿®æ­£çš„åŠæ³•å°±æ˜¯æ‰‹åŠ¨å»è¿­ä»£è¿™ä¸ªç”Ÿæˆå™¨ï¼‰ï¼Œæ›´ä½•å†µè¿”å›çš„ç”Ÿæˆå™¨å¯¹è±¡è¿˜æ²¡æœ‰è¢«èµ‹å€¼ï¼Œæ²¡æœ‰å¤–éƒ¨å¼•ç”¨çš„å®ƒéšå³ä¼šè¢«å½“ä½œåƒåœ¾å›æ”¶ï¼Œå› æ­¤å®Œå…¨å¯ä»¥å¿½ç•¥å®ƒçš„å­˜åœ¨ï¼Œå³å¯ä»¥å°†ä½ç½®2å¤„çš„è¯­å¥æ›¿æ¢æˆ<code>pass</code>ï¼Œäºæ˜¯æ‰§è¡Œæµç»§ç»­å‘åæ‰§è¡Œï¼Œè€Œåˆ—è¡¨<code>a</code>ä¸­çš„åé¢çš„ä¸¤ä¸ªå…ƒç´ ä»éƒ½æ˜¯åˆ—è¡¨å¯¹è±¡ï¼Œå› æ­¤æ‰§è¡Œæµä¸ä¼šå†åˆ°è¾¾ä½ç½®1ï¼Œç”Ÿæˆå™¨ä¹Ÿä¸ä¼šå†ç”Ÿäº§å€¼ï¼Œæ‰§è¡Œæµç»“æŸå°†æŠ›å‡º<code>StopIteration</code>å¼‚å¸¸ï¼Œåˆ†æç»“æŸï¼Œå¯çŸ¥<code>g</code>è¿™ä¸ªè¿­ä»£å™¨çš„é•¿åº¦ä»…ä¸º1ã€‚ä¿®æ­£ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">flatten</span>(<span class="params">lists</span>):</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> lists:</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(i,<span class="built_in">list</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> flatten(i):</span><br><span class="line">                <span class="keyword">yield</span> j</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">yield</span> i</span><br></pre></td></tr></table></figure></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<p>åºåˆ—æ“ä½œä¸‰å¤§å‡½æ•°ï¼š</p>
<ul>
<li>
<p><code>map(func,seq1[,seq2,...])</code><br>
æ‰¹é‡æ˜ å°„å‡½æ•°ï¼Œ<code>map</code>å°†åºåˆ—ä¸­çš„å…ƒç´ æ˜ å°„æˆ–è½¬æ¢æˆå…¶ä»–å…ƒç´ ï¼Œ<code>func</code>å……å½“è½¬æ¢å™¨</p>
<ol>
<li>å½“åªæœ‰ä¸€ä¸ªåºåˆ—å‚æ•°æ—¶ï¼Œ<code>map(func,seq)</code>ç­‰åŒäº<code>[func(e) for e in seq]</code></li>
<li>å½“æœ‰å¤šä¸ªåºåˆ—å‚æ•°æ—¶ï¼Œ<code>map(func,seq1,seq2,...)</code>ç­‰åŒäº<code>[func(*t) for t in [*zip(seq1,seq2,...)]]</code>ï¼ˆè¿™äº›åºåˆ—çš„é•¿åº¦çš„é•¿åº¦å¯ä»¥ä¸ä¸€è‡´ï¼ŒæŒ‰æœ€çŸ­çš„æ¥ï¼Œåœ¨python2ä¸­ï¼Œå½“<code>func</code>å–<code>None</code>æ—¶ï¼Œ<code>map</code>å°±ç­‰åŒäº<code>zip</code>ï¼Œä½†python3å·²ä¸å†å…è®¸<code>func</code>å‚æ•°ä¸º<code>None</code>ï¼‰<br>
æ‰“ä¸ªæ¯”æ–¹ï¼Œå¦‚æœå°†<code>seq1</code>ã€<code>seq2</code>ã€â€¦ å„è‡ªæ¯”ä½œé£æœºçš„ä¸åŒçš„é›¶ä»¶æä¾›å•†ï¼Œé‚£ä¹ˆ<code>map</code>å‡½æ•°å°±æ˜¯æ‰¹é‡åˆ¶é€ é£æœºçš„å·¥å‚ï¼Œ<code>func</code>å°±æ˜¯åˆ¶é€ é£æœºçš„åŸç†å›¾çº¸</li>
</ol>
 <div class="hide-toggle" ><div class="hide-button toggle-title " style=""><i class="fas fa-caret-right fa-fw"></i><span><code>zip</code>å‡½æ•°</span></div>
    <div class="hide-content"><p>ç®€å•åº”ç”¨ï¼š</p>
<ul>
<li>
<p>å¿«é€Ÿæ„å»ºå­—å…¸</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">dict</span>(<span class="built_in">zip</span>(<span class="built_in">range</span>(<span class="number">5</span>),<span class="built_in">range</span>(<span class="number">5</span>,<span class="number">10</span>))) <span class="comment">#é€šè¿‡dictç±»åˆå§‹åŒ–å‡½æ•°æˆ–è€…è¯´å·¥å‚å‡½æ•°</span></span><br><span class="line">&#123;<span class="number">0</span>: <span class="number">5</span>, <span class="number">1</span>: <span class="number">6</span>, <span class="number">2</span>: <span class="number">7</span>, <span class="number">3</span>: <span class="number">8</span>, <span class="number">4</span>: <span class="number">9</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>&#123;k:v <span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">zip</span>(<span class="built_in">range</span>(<span class="number">5</span>),<span class="built_in">range</span>(<span class="number">5</span>,<span class="number">10</span>))&#125; <span class="comment">#é€šè¿‡å­—å…¸ç”Ÿæˆå¼</span></span><br><span class="line">&#123;<span class="number">0</span>: <span class="number">5</span>, <span class="number">1</span>: <span class="number">6</span>, <span class="number">2</span>: <span class="number">7</span>, <span class="number">3</span>: <span class="number">8</span>, <span class="number">4</span>: <span class="number">9</span>&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>åˆ©ç”¨<code>zip</code>å®ŒæˆäºŒç»´çŸ©é˜µè½¬ç½®</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a = [[<span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>], [<span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>], [<span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>], [<span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>]] <span class="comment">#æŒ‰è¡Œæè¿°çš„çŸ©é˜µï¼Œç°å°†è¯¥çŸ©é˜µæŒ‰åˆ—æè¿°ï¼Œå³ä¸ºè½¬ç½®çš„ç»“æœ</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> a: <span class="comment">#åŸçŸ©é˜µ</span></span><br><span class="line">    print(i)</span><br><span class="line"><span class="comment">#åˆ©ç”¨åˆ—è¡¨ç”Ÿæˆå¼è¿›è¡Œè½¬ç½®</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> [[row[col] <span class="keyword">for</span> row <span class="keyword">in</span> a] <span class="keyword">for</span> col <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(a[<span class="number">0</span>]))]:</span><br><span class="line">    print(i)</span><br><span class="line"><span class="comment">#è¿™ä¸ªç”Ÿæˆå¼æ­£æ˜¯zipå‹ç¼©çš„è¿‡ç¨‹ï¼Œå› æ­¤ç›´æ¥ç”¨zipå¾ˆç®€ä¾¿ï¼š</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">zip</span>(*a): <span class="comment">#*ä¸ºè§£åŒ…è£¹å‡½æ•°å‚æ•°ä¼ é€’</span></span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>å°†åºåˆ—æŒ‰è¿ç»­kä¸ªå€¼åˆ†ç»„</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å‡è®¾æ˜¯å°†åºåˆ—aæŒ‰è¿ç»­ä¸¤ä¸ªå€¼åˆ†ç»„</span></span><br><span class="line">a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¤§ä½¬å†™æ³•1</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">zip</span>(*[<span class="built_in">iter</span>(a)]*<span class="number">2</span>): <span class="comment">#æ“ä½œç¬¦ä¼˜å…ˆçº§ä¸ºï¼šzip(*([iter(a)]*2))ï¼Œè¿™é‡Œçš„*æ˜¯å‡½æ•°å‚æ•°çš„è§£åŒ…è£¹ä¼ é€’æ–¹å¼ï¼Œå°±æ˜¯å°†ä¸€ä¸ªåºåˆ—è§£åŒ…ä¸ºè¯¸å¤šçš„ä½ç½®å‚æ•°ä¼ ç»™å‡½æ•°</span></span><br><span class="line">    print(i)</span><br><span class="line">    </span><br><span class="line"><span class="comment">#æ™®é€šå†™æ³•2</span></span><br><span class="line">b=<span class="built_in">iter</span>(a)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">zip</span>(b,b): <span class="comment">#å¦æ³¨æ„ä¸èƒ½æ„æˆé•¿åº¦ä¸º2çš„åˆ†ç»„çš„éƒ¨åˆ†å…ƒç´ ï¼ˆæ®‹å€¼ï¼‰å°†è¢«ä¸¢å¼ƒ</span></span><br><span class="line">    print(i)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;OUTPUT</span></span><br><span class="line"><span class="string">(1, 2)</span></span><br><span class="line"><span class="string">(3, 4)</span></span><br><span class="line"><span class="string">(5, 6)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ­£å¸¸äººå†™æ³•3</span></span><br><span class="line">myslice=<span class="keyword">lambda</span> a,k:[a[i:i+k] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="built_in">len</span>(a),k)] <span class="comment">#ç¼ºç‚¹åœ¨äºå‡è®¾ä¼ å…¥çš„aä¸‡ä¸€æ˜¯ä¸€ä¸ªè¿­ä»£å™¨ï¼ˆæ— æ³•è®¡ç®—é•¿åº¦ï¼Œæ— len()æ–¹æ³•ï¼‰ï¼Œé‚£å°±éœ€è¦è½¬ä¸ºåˆ—è¡¨æˆ–å…¶å®ƒå¯è®¡ç®—é•¿åº¦çš„å¯¹è±¡ç±»å‹ï¼Œç›¸æ¯”ä¹‹ä¸‹ï¼Œzipè°ƒç”¨next()æ›´é²æ£’ã€‚è¿™ç§å†™æ³•ä¸ä¸¢å¼ƒâ€œæ®‹å€¼â€</span></span><br><span class="line">print(myslice(a,<span class="number">2</span>)) <span class="comment">#[[1, 2], [3, 4], [5, 6], [7]]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ­£å¸¸äººå†™æ³•4</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">zip</span>(a[::<span class="number">2</span>],a[<span class="number">1</span>::<span class="number">2</span>]): <span class="comment">#ç›¸é‚»2ä¸ªå…ƒç´ </span></span><br><span class="line">    print(i)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">zip</span>(a[::<span class="number">3</span>],a[<span class="number">1</span>::<span class="number">3</span>],a[<span class="number">2</span>::<span class="number">3</span>]): <span class="comment">#ç›¸é‚»3ä¸ªå…ƒç´ </span></span><br><span class="line">    print(i)</span><br><span class="line"><span class="comment"># å‡è®¾è¦ç›¸é‚»kä¸ªå…ƒç´ ï¼Œå°±è¦è¿›è¡Œkæ¬¡åˆ‡ç‰‡ï¼Œæ˜¾ç„¶å¾ˆéº»çƒ¦ï¼Œæ”¹å†™ä¸€ä¸‹ï¼š</span></span><br><span class="line">myzip=<span class="keyword">lambda</span> k:<span class="built_in">zip</span>(*[a[i::k] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(k)])</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> myzip(<span class="number">4</span>):</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure>
<p>è§£é‡Šï¼šå…ˆè¯´ä¸€ä¸‹<code>zip</code>å‡½æ•°çš„å·¥ä½œåŸç†ï¼Œå‡½æ•°æ¥æ”¶ä»»æ„æ•°é‡çš„å¯è¿­ä»£å¯¹è±¡å‚æ•°ï¼Œç¬¬ä¸€æ­¥åˆ©ç”¨<code>iter()</code>å°†å‚æ•°å…¨éƒ¨è½¬æ¢ä¸ºè¿­ä»£å™¨å¯¹è±¡ï¼Œç¬¬äºŒæ­¥åœ¨ä¸€ä¸ª<code>while</code>å¾ªç¯ä¸­ï¼Œæ¯ä¸€è½®ï¼Œä¾æ¬¡è·å–æ¯ä¸ªè¿­ä»£å™¨çš„ä¸‹ä¸€é¡¹ï¼Œç„¶åç»„è£…æˆä¸€ä¸ªå…ƒç»„ï¼Œå¹¶è¿½åŠ åˆ°è¿”å›å€¼åºåˆ—ä¸­ï¼Œå½“æœ€çŸ­çš„è¿­ä»£å™¨å¯¹è±¡æŠ›å‡º<code>StopIteration</code>å¼‚å¸¸æ—¶ï¼Œé€€å‡º<code>while</code>å¾ªç¯ã€‚<code>zip</code>åŸç†ï¼ˆçœ‹çœ‹å°±å¥½ï¼‰ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">myzip</span>(<span class="params">*args</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;the principle of function zip&#x27;&#x27;&#x27;</span></span><br><span class="line">    m=<span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">iter</span>,args))</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        ret=[] <span class="comment">#è¿”å›å€¼åºåˆ—</span></span><br><span class="line">        <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">            li=[]</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(m)):</span><br><span class="line">                li.append(m[i].__next__())</span><br><span class="line">            ret.append(<span class="built_in">tuple</span>(li))</span><br><span class="line">    <span class="keyword">except</span> StopIteration:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">return</span> ret</span><br><span class="line">ret=myzip([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>],[<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>],[<span class="number">13</span>,<span class="number">14</span>])</span><br><span class="line">print(ret) <span class="comment">#[(1, 4, 8, 13), (2, 5, 9, 14)]</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;æˆ–è€…ï¼š</span></span><br><span class="line"><span class="string">def myzip(*args): #ç›´æ¥æ ¹æ®æœ€çŸ­çš„åˆ—è¡¨é•¿åº¦ç¡®å®šè½®å›æ¬¡æ•°nloop</span></span><br><span class="line"><span class="string">    m=list(map(iter,args))</span></span><br><span class="line"><span class="string">    nloop=min([len(args[i]) for i in range(len(m))])</span></span><br><span class="line"><span class="string">    #ret=[tuple([m[i].__next__() for i in range(len(m))]) for j in range(len(list(m[0])))] #å’Œä¸‹é¢ä¿®æ”¹çš„åŒºåˆ«åœ¨äºï¼šlist(one iteration)ä¼šå¯¼è‡´å¯¹è¿­ä»£å™¨ï¼ˆå‚æ•°ï¼‰çš„ä¸€éè¿­ä»£ï¼Œç»“æœæƒ³å†è°ƒç”¨nextå°±ä¼šç«‹å³æŠ›å‡ºå¼‚å¸¸ï¼Œç”±æ­¤æˆ‘ä»¬å¯ä»¥å¤§æ¦‚çŸ¥é“å·¥å‚å‡½æ•°listçš„åŸç†ï¼šlist(iterable obj)ï¼Œé¦–å…ˆå°†å¯è¿­ä»£å‚æ•°å¯¹è±¡è½¬ä¸ºè¿­ä»£å™¨ï¼Œç„¶åè¿­ä»£(next)æ•´ä¸ªè¿­ä»£å™¨å¾—åˆ°æ–°çš„åˆ—è¡¨å¯¹è±¡ï¼Œå…¶ä¸­çš„å…ƒç´ éƒ½æ˜¯å¯¹å‚æ•°å¯¹è±¡ä¸­å…ƒç´ çš„å¼•ç”¨</span></span><br><span class="line"><span class="string">    ret=[tuple([m[i].__next__() for i in range(len(m))]) for j in range(nloop)]</span></span><br><span class="line"><span class="string">    return ret</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>ç°åœ¨å›å¤´çœ‹å†™æ³•2å°±éå¸¸æ˜äº†äº†ï¼Œå†™æ³•1å°±æ˜¯æ¢ä¸ªå†™æ³•è€Œå·²ï¼Œå‰ææ˜¯ä½ è¦çŸ¥é“<code>[obj]*i</code>å°†è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º<code>i</code>çš„åºåˆ—<code>[obj,obj,...]</code>ï¼Œå…¶ä¸­æ¯ä¸€é¡¹éƒ½æ˜¯å¯¹åŸå§‹çš„<code>obj</code>å¯¹è±¡çš„å¼•ç”¨ï¼ˆæˆ–è€…è¯´æµ…å¤åˆ¶ï¼‰ï¼Œå¦‚æœæ˜¯æŒ‰è¿ç»­kä¸ªå€¼åˆ†ç»„ï¼Œé‚£å°±å°†<code>zip(*[iter(a)]*2)</code>ä¸­çš„2æ¢æˆkå³å¯<br>
æ³¨ï¼šå®é™…ä¸Š<code>zip()</code>çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªç±»ä¼¼ç”Ÿæˆå™¨çš„å¯¹è±¡ï¼Œå³ç”¨å³å¼ƒ</p>
</li>
<li>
<p>æ»‘åŠ¨çª—å£</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> islice</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">slicing</span>(<span class="params">obj,n</span>):</span></span><br><span class="line">    <span class="comment">#objä¸ºå¯è¿­ä»£åºåˆ—ï¼Œnä¸ºçª—å£å¤§å°ï¼Œæ¯æ¬¡æ»‘åŠ¨ï¼ˆæ­¥é•¿ä¸º1ï¼‰æˆ‘ä»¬çœ‹è§çš„åºåˆ—å†…å®¹éƒ½ä¸ä¸€æ ·ï¼Œå‡½æ•°è¿”å›å…¨éƒ¨çª—å£æ»‘åŠ¨çŠ¶æ€ä¸‹çš„åºåˆ—çš„å†…å®¹è§†å›¾</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">zip</span>(*[islice(obj,i,<span class="literal">None</span>) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n)]) <span class="comment">#æ³¨æ„objåªèƒ½æ˜¯å¯è¿­ä»£å¯¹è±¡ï¼Œä¸èƒ½æ˜¯è¿­ä»£å™¨ï¼Œå› ä¸ºisliceä¼šæ¶ˆè€—è¿­ä»£å™¨ã€‚æœ€ç®€å•çš„è¿˜æ˜¯ç”¨obj[i:]æ›¿ä»£islice(obj,i,None)ï¼Œå…¶å®æˆ‘ä¹Ÿæƒ³ä¸åˆ°isliceæœ‰ä»€ä¹ˆç”¨å¤„ï¼Œå‚è€ƒï¼šhttps://stackoverflow.com/questions/41079001/python-3-5-slice-vs-islice-vs-alternatives-efficiency-comparison</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> slicing([<span class="number">2</span>,<span class="number">3</span>,<span class="number">8</span>,<span class="number">5</span>,<span class="number">1</span>],<span class="number">3</span>):</span><br><span class="line">    print(i)</span><br><span class="line">    </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;OUTPUT</span></span><br><span class="line"><span class="string">(2, 3, 8)</span></span><br><span class="line"><span class="string">(3, 8, 5)</span></span><br><span class="line"><span class="string">(8, 5, 1)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>åè½¬å­—å…¸</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>m = &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;c&#x27;</span>: <span class="number">3</span>, <span class="string">&#x27;d&#x27;</span>: <span class="number">4</span>&#125; <span class="comment">#å­—å…¸valueå¿…é¡»éƒ½æ˜¯ä¸å¯å˜å¯¹è±¡</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">dict</span>(<span class="built_in">zip</span>(*<span class="built_in">list</span>(<span class="built_in">zip</span>(*m.items()))[::-<span class="number">1</span>]))</span><br><span class="line">&#123;<span class="number">1</span>: <span class="string">&#x27;a&#x27;</span>, <span class="number">2</span>: <span class="string">&#x27;b&#x27;</span>, <span class="number">3</span>: <span class="string">&#x27;c&#x27;</span>, <span class="number">4</span>: <span class="string">&#x27;d&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</div></div>
</li>
<li>
<p><code>filter(func,seq)</code><br>
åºåˆ—è¿‡æ»¤å™¨ï¼Œè¿‡æ»¤æ‰ä¸ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼Œè¿”å›é‚£äº›ç¬¦åˆæ¡ä»¶çš„å…ƒç´ æ‰€ç»„æˆçš„æ–°ï¼ˆå­ï¼‰åºåˆ—ï¼Œ<code>func</code>å……å½“ç­›é€‰å™¨ï¼ˆåº”è¿”å›<code>True</code>æˆ–<code>False</code>ï¼‰ã€‚ç­‰åŒäº<code>[e for e in seq if func(e)]</code></p>
</li>
<li>
<p><code>reduce(func,seq[,initial])</code><br>
è¯¥å‡½æ•°å·¥ä½œæµç¨‹æ˜¯ï¼šåœ¨è¿­ä»£<code>seq</code>çš„è¿‡ç¨‹ä¸­ï¼Œé¦–å…ˆå°†å‰ä¸¤ä¸ªå…ƒç´ ä¼ ç»™<code>func</code>å‡½æ•°ï¼ˆå¯ä»¥é€šè¿‡<code>initial</code>å‚æ•°é¢å¤–æŒ‡å®šé¦–ä¸ªå…ƒç´ å€¼ï¼Œç›¸å½“äºåºåˆ—<code>seq</code>å¢åŠ äº†ä¸€ä¸ªå…ƒç´ ï¼Œæ–°åºåˆ—ä¸º<code>[initial,*seq]</code>ï¼‰ï¼Œå‡½æ•°åŠ å·¥åå°†è¿”å›å€¼å’Œ<code>seq</code>åºåˆ—çš„ç¬¬ä¸‰ä¸ªå…ƒç´ é‡æ–°ä¼ å…¥<code>func</code>å‡½æ•°ï¼Œå†å°†è¿”å›å€¼å’Œ<code>seq</code>çš„ç¬¬å››ä¸ªå…ƒç´ ä¸€èµ·ä¼ å…¥<code>func</code>å‡½æ•°ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´è‡³éå†åˆ°<code>seq</code>çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œæœ€åä¸€æ¬¡æ‰§è¡Œçš„<code>func</code>å‡½æ•°è¾“å‡ºå°†ä½œä¸º<code>reduce</code>å‡½æ•°çš„è¿”å›å€¼<br>
æ³¨ï¼špython3ä»å…¨å±€ç©ºé—´ç§»é™¤äº†è¯¥å‡½æ•°ï¼Œéœ€è¦ä»æ ‡å‡†åº“<code>functools</code>ä¸­å¼•å…¥<br>
<code>reduce</code>æœ€å¤§çš„ç‰¹ç‚¹åœ¨äºï¼Œè¿‡ç¨‹ä¸­æ¯ä¸€æ¬¡è¿­ä»£éƒ½æºå¸¦ç€ä¸Šä¸€æ¬¡çš„è¿­ä»£ç»“æœï¼Œè¿™ç§å¯¹å†å²çš„å¯è§æ€§æœ‰æ—¶å€™å¾ˆæœ‰ç”¨ã€‚è®°å¿†åŠ›æ˜¯ä¸ªå¥½ä¸œè¥¿<br>
æ¡ˆä¾‹1ï¼ˆè®¡ç®—é˜¶ä¹˜ï¼‰ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>reduce(<span class="keyword">lambda</span> x,y:x*y,<span class="built_in">range</span>(<span class="number">1</span>,<span class="number">6</span>)) <span class="comment"># ä¹Ÿå¯ä»¥å†™æˆï¼šimport operator;reduce(operator.mul,range(1,6) #è®¡ç®—5!</span></span><br><span class="line"><span class="number">120</span></span><br></pre></td></tr></table></figure>
<p>æ¡ˆä¾‹2ï¼ˆå°†æ•´æ•°åˆ—è¡¨æ‹¼æˆæ•´æ•°ï¼‰ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>reduce(<span class="keyword">lambda</span> x,y:x*<span class="number">10</span>+y,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure>
<div class="hide-toggle" ><div class="hide-button toggle-title " style=""><i class="fas fa-caret-right fa-fw"></i><span>æ¡ˆä¾‹3ï¼ˆè®¡ç®—æ–æ³¢é‚£å¥‘ï¼‰</span></div>
    <div class="hide-content">  <div class="note green icon disabled"><i class="note-icon fas fa-question"></i><p>å·²çŸ¥æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼š1ã€1ã€2ã€3ã€5ã€8ã€13ã€21ã€34ã€â€¦â€¦<br>
è¦æ±‚ï¼šè¾“å‡ºæ•°åˆ—ç¬¬né¡¹çš„å€¼</p>
</div>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æ ¹æ®æ•°åˆ—è§„å¾‹ï¼šå½“å‰é¡¹çš„å€¼ç­‰äºå‰ä¸¤é¡¹çš„å’Œï¼Œå³åœ¨è¿­ä»£è¿‡ç¨‹ä¸­åªè¦ä¿ç•™æœ€è¿‘çš„å†å²ï¼ˆå‰ä¸¤é¡¹å…ƒç´ å€¼ï¼‰å³å¯ï¼Œå› æ­¤åŸºè°ƒç¡®å®šï¼Œå³reduceä¸­çš„funcå‚æ•°åº”è¯¥è¿”å›ä¸€ä¸ªäºŒå…ƒç»„ï¼Œè€Œå‚æ•°seqå…¶å®å¯¹è®¡ç®—æ²¡ç”¨ï¼Œä»…ç”¨äºè¿­ä»£ã€‚ä¸”å®é™…å‡è®¾æ–æ³¢é‚£å¥‘åºåˆ—ä¸ºï¼ˆå¢åŠ é¦–é¡¹0ï¼‰ï¼š0,1,1,2,3,5,8,...ï¼Œç„¶åå°†å‰ä¸¤é¡¹(0,1)ä½œä¸ºreduceçš„initialå‚æ•°ï¼Œäºæ˜¯reduceé¦–æ¬¡è¿­ä»£å¯ä»¥è®¡ç®—å‡ºç¬¬ä¸‰é¡¹æ•°å€¼ï¼ˆå‰ä¸¤é¡¹å’Œï¼‰ä¸º1ï¼Œå¹¶ä½¿funcè¿”å›ç¬¬äºŒé¡¹å’Œç¬¬ä¸‰é¡¹çš„å€¼(1,1)ï¼Œç„¶åç¬¬äºŒæ¬¡è¿­ä»£å¯ä»¥è®¡ç®—å‡ºç¬¬å››é¡¹æ•°å€¼ä¸º2ï¼Œå¹¶ä½¿funcè¿”å›ç¬¬ä¸‰é¡¹å’Œç¬¬å››é¡¹çš„å€¼(1,2)ï¼Œä»¥æ­¤ç±»æ¨</span></span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line">fib=<span class="keyword">lambda</span> n:<span class="number">1</span> <span class="keyword">if</span> n==<span class="number">1</span> <span class="keyword">else</span> reduce(<span class="keyword">lambda</span> x,y:(x[<span class="number">1</span>],x[<span class="number">0</span>]+x[<span class="number">1</span>]),<span class="built_in">range</span>(n-<span class="number">1</span>),(<span class="number">0</span>,<span class="number">1</span>))[<span class="number">1</span>]</span><br><span class="line">print(fib(<span class="number">10</span>)) <span class="comment">#55</span></span><br></pre></td></tr></table></figure>
  <div class="hide-toggle" ><div class="hide-button toggle-title " style=""><i class="fas fa-caret-right fa-fw"></i><span>å…¶ä»–å®ç°</span></div>
    <div class="hide-content"><p>æ™®é€šé€’å½’ï¼š</p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Fibonacci</span>(<span class="params">n=<span class="number">6</span></span>):</span></span><br><span class="line">    <span class="keyword">if</span> n==<span class="number">1</span> <span class="keyword">or</span> n==<span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> Fibonacci(n-<span class="number">2</span>)+Fibonacci(n-<span class="number">1</span>)</span><br><span class="line">        </span><br><span class="line">ret=Fibonacci(<span class="number">10</span>) <span class="comment">#ç”±äºé€’å½’å±‚æ•°é™åˆ¶ï¼Œå¦‚æœnå–å€¼è¿‡å¤§ï¼Œä¼šçˆ†æ ˆï¼Œæ‰€ä»¥ä¸¥æ ¼æ¥è¯´ï¼Œè¿™ç§å†™æ³•æ˜¯é”™è¯¯çš„ï¼Œå¦ä¸€ä¸ªå…³é”®é—®é¢˜æ˜¯é€’å½’è®¡ç®—å®åœ¨æ˜¯å¤ªè€—æ—¶äº†ï¼Œå…¶å…·æœ‰æŒ‡æ•°çº§çš„æ—¶é—´å¤æ‚åº¦ï¼è¯•è¯•æ±‚å–ç¬¬35æ•°å€¼ï¼Œå·²ç»æ˜æ˜¾è¿Ÿé’ï¼Œå¦‚æœæŠŠä¸Šè¿°é€’å½’æ ‘ç”»å‡ºæ¥ï¼Œå…¶å®æœ‰å¤§é‡ç»“ç‚¹æ˜¯é‡å¤è®¡ç®—ï¼Œå…³äºé€Ÿåº¦çš„æ”¹è¿›å‚è§ç¬¬äºŒç« èŠ‚Â·è£…é¥°å™¨</span></span><br><span class="line">print(ret)</span><br></pre></td></tr></table></figure>
<p>çœ‹çœ‹å¤§ä½¬ä»¬æ˜¯æ€ä¹ˆå†™çš„ï¼š</p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib1</span>(<span class="params">n</span>):</span></span><br><span class="line">    <span class="keyword">return</span> n&lt;=<span class="number">2</span> <span class="keyword">and</span> <span class="number">1</span> <span class="keyword">or</span> fib1(n-<span class="number">1</span>)+fib1(n-<span class="number">2</span>) <span class="comment">#ç§€æˆ‘ä¸€è„¸</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">#ç­‰ä»·äºï¼š</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib2</span>(<span class="params">n</span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> <span class="keyword">if</span> n&lt;=<span class="number">2</span> <span class="keyword">else</span> fib2(n-<span class="number">1</span>)+fib2(n-<span class="number">2</span>)</span><br><span class="line">    </span><br><span class="line"><span class="comment">#å½¢å¼å†ç®€åŒ–ï¼š</span></span><br><span class="line">fib3=<span class="keyword">lambda</span> n:<span class="number">1</span> <span class="keyword">if</span> n&lt;=<span class="number">2</span> <span class="keyword">else</span> fib3(n-<span class="number">1</span>)+fib3(n-<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
  <div class="hide-toggle" ><div class="hide-button toggle-title " style=""><i class="fas fa-caret-right fa-fw"></i><span><code>and</code>ä¸<code>or</code></span></div>
    <div class="hide-content"><p><code>and</code>å’Œ<code>or</code>æ‰§è¡Œå¸ƒå°”é€»è¾‘è¿ç®—ï¼Œä½†æ˜¯åœ¨pythonä¸­è¿”å›å€¼å¹¶é<code>True</code>æˆ–<code>False</code>ï¼Œå…¶è¿”å›çš„æ˜¯ä¸¤ç«¯çš„æ¯”è¾ƒå€¼ä¹‹ä¸€</p>
<p>è¿ç®—è§„åˆ™ï¼š</p>
   <ul><li> <code>and</code>è¿ç®—è§„åˆ™<br>
       <ol><li> å½“<code>and</code>å·¦ç«¯è¡¨è¾¾å¼ä¸ºçœŸæ—¶ï¼Œç»§ç»­å¯¹å³ç«¯è¡¨è¾¾å¼è¿›è¡Œè®¡ç®—å¹¶è¿”å›è¯¥(å³ç«¯)è¡¨è¾¾å¼çš„å€¼</li>
       <li>å½“<code>and</code>å·¦ç«¯è¡¨è¾¾å¼ä¸ºå‡æ—¶ï¼Œç«‹å³è¿”å›è¯¥(å·¦ç«¯)è¡¨è¾¾å¼çš„å€¼</li></ol>
     </li>
     <li> <code>or</code>è¿ç®—è§„åˆ™<br>
       <ol><li> å½“<code>or</code>å·¦ç«¯è¡¨è¾¾å¼ä¸ºå‡æ—¶ï¼Œç»§ç»­å¯¹å³ç«¯è¡¨è¾¾å¼è¿›è¡Œè®¡ç®—å¹¶è¿”å›è¯¥(å³ç«¯)è¡¨è¾¾å¼çš„å€¼</li>
       <li> å½“<code>or</code>å·¦ç«¯è¡¨è¾¾å¼ä¸ºçœŸæ—¶ï¼Œç«‹å³è¿”å›è¯¥(å·¦ç«¯)è¡¨è¾¾å¼çš„å€¼</li>
       </ol>
     </li>
  </ul>
<p>ä¸¤è§„åˆ™çš„ç¬¬äºŒæ¡ä½“ç°äº†<code>and</code>å’Œ<code>or</code>çš„æˆªæ–­ä½œç”¨ï¼ˆå…¶å³ç«¯è¡¨è¾¾å¼å¯èƒ½å¹¶æ²¡æœ‰è¢«è®¡ç®—ï¼‰ï¼Œå› æ­¤<code>and</code>å’Œ<code>or</code>åˆè¢«ç§°ä¸ºâ€œçŸ­è·¯è¿ç®—ç¬¦â€ï¼ˆå†æ¬¡æ³¨æ„åªæœ‰åœ¨<code>and</code>å·¦è¾¹ä¸ºå‡æˆ–è€…<code>or</code>å·¦è¾¹ä¸ºçœŸæ‰ä¼šè¡¨ç°å‡ºè¯¥ç‰¹æ€§ï¼‰</p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="number">0</span> <span class="keyword">and</span> (<span class="number">3</span>-<span class="number">2</span>)) <span class="comment">#0</span></span><br><span class="line">print(<span class="number">1</span> <span class="keyword">or</span> <span class="number">0</span>) <span class="comment">#1</span></span><br></pre></td></tr></table></figure>
<p>ç®€å•ä½¿ç”¨ï¼š</p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ï¼ˆä¸€ï¼‰andå’Œorå•ç‹¬ä½¿ç”¨ï¼ˆå¤šä¸ªandæˆ–è€…å¤šä¸ªorï¼‰</span></span><br><span class="line"><span class="comment">#andï¼šä»å·¦åˆ°å³æ‰«æï¼Œè¿”å›ç¬¬ä¸€ä¸ªä¸ºå‡çš„è¡¨è¾¾å¼å€¼ï¼Œæ— å‡å€¼åˆ™è¿”å›æœ€åä¸€ä¸ªè¡¨è¾¾å¼å€¼ã€‚ç®€å•è¯´å°±æ˜¯ï¼šandè¿”å›çœŸï¼Œé™¤éé‡è§ä¸€ä¸ªå‡ï¼Œåˆ™è¿”å›å‡</span></span><br><span class="line">print(-<span class="number">1</span> <span class="keyword">and</span> <span class="string">&#x27;dy&#x27;</span> <span class="keyword">and</span> ...) <span class="comment">#æ³¨æ„è´Ÿæ•°ã€å­—ç¬¦ä¸²éƒ½æ˜¯é€»è¾‘ä¸ºçœŸï¼Œè€Œ...å…¶å®æ˜¯ä¸€ä¸ªEllipseå¯¹è±¡ï¼ˆè¯¥å¯¹è±¡æ²¡æœ‰ä»»ä½•å±æ€§ï¼Œpythonä¹Ÿæ²¡æœ‰ä»»ä½•å†…ç½®ç±»å‹ä½¿ç”¨è¯¥å¯¹è±¡ï¼‰ï¼Œå…¶é€»è¾‘ä¸ºçœŸ</span></span><br><span class="line">print(<span class="literal">True</span> <span class="keyword">if</span> -<span class="number">1</span> <span class="keyword">and</span> <span class="string">&#x27;dy&#x27;</span> <span class="keyword">and</span> ... <span class="keyword">else</span> <span class="literal">False</span>) <span class="comment">#å»ºè®®ä½¿ç”¨all([-1,&#x27;dy&#x27;,...])æ›¿ä»£</span></span><br><span class="line"><span class="comment">#orï¼šä»å·¦åˆ°å³æ‰«æï¼Œè¿”å›ç¬¬ä¸€ä¸ªä¸ºçœŸçš„è¡¨è¾¾å¼å€¼ï¼Œæ— çœŸå€¼åˆ™è¿”å›æœ€åä¸€ä¸ªè¡¨è¾¾å¼å€¼ã€‚ç®€å•è¯´å°±æ˜¯ï¼šorè¿”å›å‡ï¼Œé™¤éé‡è§ä¸€ä¸ªçœŸï¼Œåˆ™è¿”å›çœŸ</span></span><br><span class="line">print(<span class="number">0</span> <span class="keyword">or</span> <span class="number">0</span> <span class="keyword">or</span> <span class="number">1</span> <span class="keyword">or</span> <span class="number">2</span> <span class="keyword">or</span> <span class="number">0</span>) <span class="comment">#1</span></span><br><span class="line">print(<span class="literal">True</span> <span class="keyword">if</span> <span class="number">0</span> <span class="keyword">or</span> <span class="number">0</span> <span class="keyword">or</span> <span class="number">1</span> <span class="keyword">or</span> <span class="number">2</span> <span class="keyword">or</span> <span class="number">0</span> <span class="keyword">else</span> <span class="literal">False</span>) <span class="comment">#å»ºè®®ä½¿ç”¨any([0,0,1,2,0])æ›¿ä»£</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ï¼ˆäºŒï¼‰and-oræ­é…ä½¿ç”¨</span></span><br><span class="line"><span class="comment">#andä¼˜å…ˆçº§å¤§äºorï¼Œç»“åˆæ€§ä»å·¦åˆ°å³</span></span><br><span class="line"><span class="comment">#ç»å…¸æ¡ˆä¾‹ä¹‹é€»è¾‘è¡¨è¾¾å¼(condition and a or b)ï¼š</span></span><br><span class="line">a,b=<span class="string">&quot;JAVA&quot;</span>,<span class="string">&quot;PYTHON&quot;</span></span><br><span class="line">print(<span class="number">1</span> <span class="keyword">and</span> a <span class="keyword">or</span> b) <span class="comment">#JAVA</span></span><br><span class="line">print(<span class="number">0</span> <span class="keyword">and</span> a <span class="keyword">or</span> b) <span class="comment">#PYTHON</span></span><br><span class="line"><span class="comment">#æˆ‘ä»¬å¯ä»¥é€šè¿‡æ§åˆ¶conditionçš„çœŸå‡ï¼Œæ§åˆ¶è¾“å‡ºaè¿˜æ˜¯è¾“å‡ºbã€‚è¯­ä¹‰å³ä¸ºï¼šâ€œè‹¥ çœŸ åˆ™è¿”å› aï¼Œå¦åˆ™è¿”å› bâ€ï¼Œç­‰åŒäºC++ä¸­çš„æ¡ä»¶è¿ç®—ç¬¦(bool? a:b)ï¼Œä½†æ˜¯å¿…é¡»æ³¨æ„ï¼šaå’Œbéƒ½å¿…é¡»æ˜¯é€»è¾‘çœŸçš„</span></span><br><span class="line"></span><br><span class="line">print(<span class="number">1</span> <span class="keyword">and</span> <span class="number">0</span> <span class="keyword">or</span> a <span class="keyword">and</span> b <span class="keyword">and</span> <span class="number">0</span> <span class="keyword">and</span> a <span class="keyword">or</span> b) <span class="comment">#b</span></span><br><span class="line"><span class="comment">#å¯¹äºä¸€ä¸ªæ¯”è¾ƒå¤æ‚çš„and-oræ··åˆè¿ç®—ï¼Œå°†andè§†ä¸ºä¹˜ã€orè§†ä¸ºåŠ ï¼š((1 and 0) or (((a and b) and 0) and a)) or b</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç”±äº(condition and a or b)ä¸­aå’Œbéƒ½è¦æ»¡è¶³é€»è¾‘çœŸï¼Œè¿™å¦‚ä½•ç¡®ä¿ï¼Ÿå…ˆçœ‹ä¸ªåä¾‹ï¼š</span></span><br><span class="line">a,b=[],<span class="number">1</span> <span class="comment">#aæ˜¯é€»è¾‘å‡çš„ï¼Œæ­¤æ—¶and-orå®ç°çš„æ¡ä»¶è¿ç®—å°†å¤±æ•ˆ</span></span><br><span class="line">print(<span class="literal">True</span> <span class="keyword">and</span> a <span class="keyword">or</span> b) <span class="comment">#1</span></span><br><span class="line">print(<span class="literal">False</span> <span class="keyword">and</span> a <span class="keyword">or</span> b) <span class="comment">#1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#è¿˜æ˜¯æœ‰å®‰å…¨çš„è§£æ³•çš„ï¼Œå¦‚ä¸‹ï¼ˆå¥—ä¸ª[]å¼ºåˆ¶å˜æˆé€»è¾‘çœŸï¼Œæ–°çš„é€»è¾‘è¡¨è¾¾å¼å˜ä¸º(condition and [a] or [b])[0]ï¼‰ï¼š</span></span><br><span class="line">a=<span class="string">&#x27;&#x27;</span></span><br><span class="line">b=<span class="string">&quot;MSY&quot;</span></span><br><span class="line">print((<span class="number">0</span> <span class="keyword">and</span> [a] <span class="keyword">or</span> [b])[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#é€šå¸¸æƒ…å†µä¸‹ï¼Œè¿˜æ˜¯å»ºè®®if-elseå®ç°æ¡ä»¶è¿ç®—ç¬¦çš„åŠŸèƒ½ï¼Œä»¥å¢å¼ºç¨‹åºçš„å¯è¯»æ€§ï¼Œè£…Bé™¤å¤–</span></span><br><span class="line">print(<span class="string">&#x27;daiyang&#x27;</span> <span class="keyword">if</span> <span class="literal">False</span> <span class="keyword">else</span> <span class="string">&#x27;daixiaodong&#x27;</span>) <span class="comment">#daixiaodong</span></span><br></pre></td></tr></table></figure>
  <!--å¯¹äºa and b or c and dï¼Œå‡è®¾a, b, c, d = True, True, False, Trueï¼Œandä¼˜å…ˆçº§å¤§äºorçš„æƒ…å†µä¸‹ï¼Œåº”å½“è¿”å›Trueï¼Œè‹¥ä¼˜å…ˆçº§ç›¸åŒï¼Œåˆ™åº”è¿”å›False-->
<p><i class="fas fa-hand-point-right"></i>ä¸Šè¿°å°ç»“ï¼ˆå¯è·³è¿‡ä»£ç ï¼‰ï¼š</p>
  <p class='div-border green'>and-orå®ç°æ¡ä»¶è¿ç®—ï¼š<code>(condition and [a] or [b])[0]</code>ç­‰åŒäº<code>condition ? a : b</code></p>
  <p class='div-border yellow'><code>all([condition1,condition2,...])</code>ç­‰åŒäº<code>True if condition1 and condition2 and ... else False</code></p>
  <p class='div-border blue'>
  <code>any([condition1,condition2,...])</code>ç­‰åŒäº<code>True if condition1 or condition2 or ... else False</code></p>
  <br>
  <div class="hide-toggle" ><div class="hide-button toggle-title " style=""><i class="fas fa-caret-right fa-fw"></i><span>å…¨éƒ¨é€»è¾‘è¿ç®—</span></div>
    <div class="hide-content">  <div class="dytable">
<table>
<thead>
<tr>
<th style="text-align:center">è¿ç®—</th>
<th style="text-align:center">åç§°</th>
<th style="text-align:center">é€»è¾‘å‡½æ•°è¡¨ç¤º</th>
<th style="text-align:center">çŸ­é‡Š</th>
<th style="text-align:center">å®ç°</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">A <strong>AND</strong> B</td>
<td style="text-align:center"><small>ä¸é—¨</small></td>
<td style="text-align:center">AÂ·B</td>
<td style="text-align:center"><small>æ‰€æœ‰è¾“å…¥ä¸ºé«˜æ—¶ï¼Œæ‰æœ‰é«˜çš„è¾“å‡ºï¼Œä¸€ä½å‡ºä½</small></td>
<td style="text-align:center"><small>A and B</small></td>
</tr>
<tr>
<td style="text-align:center">A <strong>OR</strong> B</td>
<td style="text-align:center"><small>æˆ–é—¨</small></td>
<td style="text-align:center">A+B</td>
<td style="text-align:center"><small>æ‰€æœ‰è¾“å…¥ä¸ºä½æ—¶ï¼Œæ‰æœ‰ä½çš„è¾“å‡ºï¼Œä¸€é«˜å‡ºé«˜</small></td>
<td style="text-align:center"><small>A or B</small></td>
</tr>
<tr>
<td style="text-align:center"><strong>NOT</strong> A</td>
<td style="text-align:center"><small>éé—¨</small></td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>A</mi><mo>Ë‰</mo></mover></mrow><annotation encoding="application/x-tex">\bar{A}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8201099999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">A</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.11110999999999999em;"><span class="mord">Ë‰</span></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center"><small>æ ¹æ®è¾“å…¥çš„é«˜ä½é€†è½¬åè¾“å‡º</small></td>
<td style="text-align:center"><small>not A</small></td>
</tr>
<tr>
<td style="text-align:center">A <strong>NAND</strong> B</td>
<td style="text-align:center"><small>ä¸éé—¨</small></td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>A</mi><mo separator="true">â‹…</mo><mi>B</mi></mrow><mo stretchy="true">â€¾</mo></mover></mrow><annotation encoding="application/x-tex">\overline{AÂ·B}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center"><small>æ‰€æœ‰è¾“å…¥ä¸ºé«˜æ—¶ï¼Œæ‰æœ‰ä½çš„è¾“å‡ºï¼Œä¸€ä½å‡ºé«˜</small></td>
<td style="text-align:center"><small>not (A and B)</small></td>
</tr>
<tr>
<td style="text-align:center">A <strong>NOR</strong> B</td>
<td style="text-align:center"><small>æˆ–éé—¨</small></td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>A</mi><mo>+</mo><mi>B</mi></mrow><mo stretchy="true">â€¾</mo></mover></mrow><annotation encoding="application/x-tex">\overline {A+B}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9666600000000001em;vertical-align:-0.08333em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.08333em;"><span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center"><small>æ‰€æœ‰è¾“å…¥ä¸ºä½æ—¶ï¼Œæ‰æœ‰é«˜çš„è¾“å‡ºï¼Œä¸€é«˜å‡ºä½</small></td>
<td style="text-align:center"><small>not (A or B)</small></td>
</tr>
<tr>
<td style="text-align:center">A <strong>XOR</strong> B</td>
<td style="text-align:center"><small>å¼‚æˆ–é—¨</small></td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>âŠ•</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A\oplus B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span></td>
<td style="text-align:center"><small>è¾“å…¥ä¸ºä¸€é«˜ä¸€ä½æ—¶ï¼Œæ‰æœ‰é«˜çš„è¾“å‡ºï¼Œå¦åˆ™å‡ºä½</small></td>
<td style="text-align:center"><small>(A and not B) or (not A and B)</small></td>
</tr>
<tr>
<td style="text-align:center">A <strong>XNOR</strong> B</td>
<td style="text-align:center"><small>åŒæˆ–é—¨</small></td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>A</mi><mo>âŠ•</mo><mi>B</mi></mrow><mo stretchy="true">â€¾</mo></mover></mrow><annotation encoding="application/x-tex">\overline {A\oplus B}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9666600000000001em;vertical-align:-0.08333em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.08333em;"><span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center"><small>è¾“å…¥ä¸ºä¸€é«˜ä¸€ä½æ—¶ï¼Œæ‰æœ‰ä½çš„è¾“å‡ºï¼Œå¦åˆ™å‡ºé«˜</small></td>
<td style="text-align:center"><small>(A and B) or (not A and not B)</small></td>
</tr>
<tr>
<td style="text-align:center"><strong>BUF</strong> A</td>
<td style="text-align:center"><small>æ˜¯é—¨</small></td>
<td style="text-align:center">A</td>
<td style="text-align:center"><small>è¾“å‡ºä¸è¾“å…¥ç›¸åŒçš„é«˜ä½çŠ¶æ€</small></td>
<td style="text-align:center"><small>A</small></td>
</tr>
<tr>
<td style="text-align:center">A <strong>IMPLY</strong> B</td>
<td style="text-align:center"><small>è•´å«é—¨</small></td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>â†’</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A\rightarrow B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span></td>
<td style="text-align:center"><small>ç¬¬ä¸€è¾“å…¥ä¸ºä½æ—¶è¾“å‡ºé«˜ï¼Œå¦åˆ™è¾“å‡ºåŒç¬¬äºŒè¾“å…¥</small></td>
<td style="text-align:center"><small>(not A) or B</small></td>
</tr>
<tr>
<td style="text-align:center">A <strong>NIMPLY</strong> B</td>
<td style="text-align:center"><small>è•´å«éé—¨</small></td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>A</mi><mo>â†’</mo><mi>B</mi></mrow><mo stretchy="true">â€¾</mo></mover></mrow><annotation encoding="application/x-tex">\overline {A\rightarrow B}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center"><small>ç¬¬ä¸€è¾“å…¥ä¸ºä½æ—¶è¾“å‡ºä½ï¼Œå¦åˆ™è¾“å‡ºä¸ç¬¬äºŒè¾“å…¥ç›¸å</small></td>
<td style="text-align:center"><small>A and (not B)</small></td>
</tr>
</tbody>
</table>
  </div>
<p>æ³¨1ï¼Œè¡¨ä¸­çš„Aã€Bå‡ä¸ºäºŒå€¼å‹æ•°æ®ï¼Œè¦ä¹ˆæ˜¯0ï¼Œè¦ä¹ˆæ˜¯1ã€‚æœ€åä¸€åˆ—æ˜¯pythonä»£ç å®ç°ï¼Œä½†ä¸ä»…é€‚ç”¨äºäºŒå€¼0å’Œ1æˆ–å¸ƒå°”å€¼<code>True</code>or<code>False</code>ï¼Œä¸”é€‚ç”¨äºå…¶ä»–ä»»ä½•è‡ªå®šä¹‰å¯¹è±¡ï¼Œåªè¦å®ç°<code>__bool__()</code>æ–¹æ³•å³å¯</p>
<p>æ³¨2ï¼Œä¸Šè¡¨ä¸­é™¤äº†å‰ä¸‰ä¸ªé—¨æ˜¯åŸºç¡€å¤–ï¼Œå…¶ä»–é—¨éƒ½å¯ä»¥ç”¨è¿™ä¸‰ä¸ªé—¨å®ç°ï¼Œè­¬å¦‚ï¼šâ€œå¼‚æˆ–é—¨â€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>âŠ•</mo><mi>B</mi><mo>=</mo><mi>A</mi><mo separator="true">â‹…</mo><mover accent="true"><mi>B</mi><mo stretchy="true">â€¾</mo></mover><mo>+</mo><mover accent="true"><mi>A</mi><mo stretchy="true">â€¾</mo></mover><mo separator="true">â‹…</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A\oplus B=AÂ·\overline B+\overline AÂ·B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.9666600000000001em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">A</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">A</span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>ã€â€œåŒæˆ–é—¨â€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>A</mi><mo>âŠ•</mo><mi>B</mi></mrow><mo stretchy="true">â€¾</mo></mover><mo>=</mo><mi>A</mi><mo separator="true">â‹…</mo><mi>B</mi><mo>+</mo><mover accent="true"><mi>A</mi><mo stretchy="true">â€¾</mo></mover><mo separator="true">â‹…</mo><mover accent="true"><mi>B</mi><mo stretchy="true">â€¾</mo></mover></mrow><annotation encoding="application/x-tex">\overline {A\oplus B}=AÂ·B+\overline AÂ·\overline B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9666600000000001em;vertical-align:-0.08333em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âŠ•</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.08333em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">A</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">A</span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span>ã€â€œè•´å«é—¨â€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>â†’</mo><mi>B</mi><mo>=</mo><mover accent="true"><mi>A</mi><mo stretchy="true">â€¾</mo></mover><mo>+</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A\rightarrow B=\overline A+B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.9666600000000001em;vertical-align:-0.08333em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">A</span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>ã€â€œè•´å«éé—¨â€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mrow><mi>A</mi><mo>â†’</mo><mi>B</mi></mrow><mo stretchy="true">â€¾</mo></mover><mo>=</mo><mi>A</mi><mo separator="true">â‹…</mo><mover accent="true"><mi>B</mi><mo stretchy="true">â€¾</mo></mover></mrow><annotation encoding="application/x-tex">\overline {A\rightarrow B}=AÂ·\overline B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8833300000000001em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord overline"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8833300000000001em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span><span style="top:-3.80333em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span></span></span></span></span></span></span>ã€‚è®°å¿†ï¼šâ€œä¸éé—¨â€æ˜¯å¯¹â€œä¸é—¨â€è¾“å‡ºå–åï¼Œâ€œæˆ–éé—¨â€æ˜¯å¯¹â€œæˆ–é—¨â€è¾“å‡ºå–åï¼Œâ€œåŒæˆ–é—¨â€æ˜¯å¯¹â€œå¼‚æˆ–é—¨â€è¾“å‡ºå–åï¼Œâ€œè•´å«éé—¨â€æ˜¯å¯¹â€œè•´å«é—¨â€è¾“å‡ºå–å</p>
</div></div></div></div>
<p>åœ¨æŸäº›è¯­è¨€å¦‚Cä¸­å¯ä»¥ä½¿ç”¨å°¾é€’å½’è§£å†³é€’å½’çˆ†æ ˆé—®é¢˜ï¼Œè™½ç„¶pythonæœ¬èº«ä¸æ”¯æŒå°¾é€’å½’ï¼Œä½†æ˜¯å­˜åœ¨ä¸€äº›è§£å†³æ–¹æ¡ˆå¯ä»¥é—´æ¥å®ç°å°¾é€’å½’ï¼Œä¸‹é¢æˆ‘å…ˆç»™å‡ºå°¾é€’å½’å½¢å¼çš„å†™æ³•ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib5</span>(<span class="params">n</span>):</span> <span class="comment">#è®¡ç®—åŸç†åŒä¸‹é¢å¾ªç¯ç‰ˆæœ¬çš„fib4</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fib_iter</span>(<span class="params">n,n1,n2</span>):</span></span><br><span class="line">        <span class="keyword">if</span> n==<span class="number">0</span>: <span class="keyword">return</span> n2</span><br><span class="line">        <span class="keyword">else</span>: <span class="keyword">return</span> fib_iter(n-<span class="number">1</span>,n2,n1+n2)</span><br><span class="line">    <span class="keyword">return</span> fib_iter(n,<span class="number">1</span>,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#lambdaå½¢å¼çš„å°¾é€’å½’</span></span><br><span class="line">fib6=<span class="keyword">lambda</span> n,n1=<span class="number">1</span>,n2=<span class="number">0</span>:n2 <span class="keyword">if</span> n==<span class="number">0</span> <span class="keyword">else</span> fib6(n-<span class="number">1</span>,n2,n1+n2) <span class="comment">#åŒfib5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#and-orå½¢å¼çš„å°¾é€’å½’</span></span><br><span class="line">fib7=<span class="keyword">lambda</span> n,n1=<span class="number">1</span>,n2=<span class="number">0</span>:n==<span class="number">0</span> <span class="keyword">and</span> n2 <span class="keyword">or</span> fib7(n-<span class="number">1</span>,n2,n1+n2) <span class="comment">#åŒfib6</span></span><br></pre></td></tr></table></figure>
<div class="hide-toggle" ><div class="hide-button toggle-title " style=""><i class="fas fa-caret-right fa-fw"></i><span>pythonå®ç°å°¾é€’å½’</span></div>
    <div class="hide-content"><p>åœ¨è®¡ç®—æœºä¸­ï¼Œå‡½æ•°è°ƒç”¨æ˜¯é€šè¿‡â€œæ ˆâ€è¿™ç§æ•°æ®ç»“æ„å®ç°çš„ï¼Œæ¯è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œå°±ä¼šå¾€æ ˆä¸­å‹å…¥ä¸€ä¸ªæ ˆå¸§å¯¹è±¡ï¼Œå…¶ä¸­ä¿å­˜ç€å‡½æ•°æ‰€å¯¹åº”çš„å¯æ‰§è¡Œä»£ç ï¼ˆå³ä»£ç å¯¹è±¡ï¼Œé€šå¸¸ç”±<code>compile()</code>å‡½æ•°è¿”å›ï¼Œå¯é€šè¿‡æ ˆå¸§å¯¹è±¡<code>frame</code>çš„<code>f_code</code>å±æ€§è®¿é—®ï¼‰ã€å˜é‡å‘½åç©ºé—´ï¼ˆåŒ…å«<code>frame.f_locals</code>å±€éƒ¨å˜é‡ã€<code>frame.f_globals</code>å…¨å±€å˜é‡å’Œ<code>frame.f_builtins</code>å†…ç½®åç§°ï¼‰ä»¥åŠå…¶ä»–ä¸€äº›å±æ€§ï¼ˆå¦‚<code>frame.f_back</code>ï¼Œè¡¨ç¤ºå¯¹å½“å‰è°ƒç”¨è€…è€Œè¨€çš„ä¸Šä¸€ä¸ªæ ˆå¸§å¯¹è±¡ï¼‰ï¼Œå½“å‡½æ•°æ‰§è¡Œç»“æŸï¼Œå°±ä¼šä»æ ˆä¸­åˆ é™¤å½“å‰æ ˆå¸§ï¼Œå¦‚æœå‡½æ•°æ²¡æœ‰ç»“æŸå°±åˆå‘ç”Ÿäº†å…¶ä»–å‡½æ•°è°ƒç”¨ï¼Œæ ˆä¸­çš„å¸§æ•°å°±ä¼šçº¿æ€§å¢åŠ ï¼Œç”±äºæ ˆçš„å¤§å°ä¸æ˜¯æ— é™çš„ï¼Œå¯¹äºé€’å½’å‡½æ•°ï¼Œå¦‚æœé€’å½’è¿‡æ·±ï¼Œå¾ˆå®¹æ˜“å¯¼è‡´æ ˆæº¢å‡ºé”™è¯¯</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> sys</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sys.getrecursionlimit <span class="comment">#pythonå…è®¸çš„æœ€å¤§é€’å½’æ·±åº¦</span></span><br><span class="line"><span class="number">1000</span></span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆæ—§çš„æ ˆå¸§èƒ½ä¸èƒ½åˆ é™¤å‘¢ï¼Ÿä¸€èˆ¬æ¥è¯´é€’å½’è°ƒç”¨çš„è¿”å›ç»“æœæ˜¯è¦ä¸ºä¸Šå±‚å‡½æ•°æ‰€ä½¿ç”¨çš„ï¼Œå³é€’å½’çš„å›æº¯è¿‡ç¨‹é€šå¸¸ä¸å¯é¿å…ï¼Œæ‰€ä»¥ä¸èƒ½åˆ é™¤ã€‚å°½ç®¡å¦‚æ­¤ï¼Œç”±äºå°¾é€’å½’çš„ç‰¹æ®Šæ€§ï¼ˆå°¾è°ƒç”¨ç”±äºæ˜¯å‡½æ•°æ‰§è¡Œæµçš„æœ€åä¸€æ­¥ï¼Œè°ƒç”¨ç»“æœä¸éœ€è¦åé¦ˆç»™è°ƒç”¨è€…ï¼Œå› æ­¤åœ¨è¿™ç§æƒ…å†µä¸‹æ—§çš„æ ˆå¸§å¯ä»¥ç›´æ¥é”€æ¯ï¼Œæ­¤å³ä¸ºâ€œå°¾è°ƒç”¨ä¼˜åŒ–â€ï¼‰ï¼Œå†³å®šäº†è¿™ç§é€’å½’å½¢å¼åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ˜¯ä¸éœ€è¦å›æº¯çš„ï¼Œäºæ˜¯å¯ä»¥æŠŠåŸæœ¬éœ€è¦çº¿æ€§å¤æ‚åº¦æ ˆå†…å­˜ç©ºé—´çš„æ‰§è¡Œè¿‡ç¨‹ç”¨å¸¸æ•°å¤æ‚åº¦çš„ç©ºé—´å®Œæˆï¼Œå®ç°è¯¥ä¼˜åŒ–çš„è§£é‡Šå™¨æˆ–ç¼–è¯‘å™¨å¯ä»¥ä½¿å¾—é€’å½’æœ¬èº«æ— è®ºè°ƒç”¨å¤šå°‘æ¬¡ï¼Œéƒ½åªå ç”¨ä¸€ä¸ªæ ˆå¸§ã€‚æœ¬è´¨ä¸Šå°¾é€’å½’å’Œå¾ªç¯æ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œè¦æ•ˆç‡ï¼Œè¿˜æ˜¯å»ºè®®å¾ªç¯</p>
<p>å¤§ä½¬å®ç°çš„<a target="_blank" rel="noopener external nofollow noreferrer" href="https://code.activestate.com/recipes/474088-tail-call-optimization-decorator/"><span class="inline-tag yellow">TCO(Tail-Call Optimization)</span></a>è£…é¥°å™¨ï¼ˆåŸç†ç®€å•æ¥è¯´å°±æ˜¯å½“å‘ç°å°¾é€’å½’è°ƒç”¨çš„å‡½æ•°åœ¨æ ˆå¸§ä¸­é‡å¤å‡ºç°æ—¶ï¼Œæ‰‹åŠ¨æŠ›å‡ºå¼‚å¸¸å¹¶æºå¸¦ç€æœ€æ–°è°ƒç”¨çš„å‡½æ•°å‚æ•°è¿”å›ä¸Šå±‚ï¼Œä»è€Œä½¿ä¹‹åé‡å¤è°ƒç”¨çš„å‡½æ•°æ ˆå¸§è¢«é”€æ¯ï¼‰ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TailRecurseException</span>(<span class="params">Exception</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, args, kwargs</span>):</span></span><br><span class="line">        self.args = args</span><br><span class="line">        self.kwargs = kwargs</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tail_call_optimized</span>(<span class="params">g</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    This function decorates a function with tail call</span></span><br><span class="line"><span class="string">    optimization. It does this by throwing an exception</span></span><br><span class="line"><span class="string">    if it is it&#x27;s own grandparent, and catching such</span></span><br><span class="line"><span class="string">    exceptions to fake the tail call optimization.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    This function fails if the decorated</span></span><br><span class="line"><span class="string">    function recurses in a non-tail context.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func</span>(<span class="params">*args, **kwargs</span>):</span></span><br><span class="line">        f = sys._getframe()</span><br><span class="line">        <span class="keyword">if</span> f.f_back <span class="keyword">and</span> f.f_back.f_back \</span><br><span class="line">            <span class="keyword">and</span> f.f_back.f_back.f_code == f.f_code: <span class="comment">#ä½ç½®1</span></span><br><span class="line">            <span class="keyword">raise</span> TailRecurseException(args, kwargs)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">try</span>:</span><br><span class="line">                    <span class="keyword">return</span> g(*args, **kwargs) <span class="comment">#ä½ç½®2</span></span><br><span class="line">                <span class="keyword">except</span> TailRecurseException <span class="keyword">as</span> e:</span><br><span class="line">                    args = e.args</span><br><span class="line">                    kwargs = e.kwargs</span><br><span class="line">    func.__doc__ = g.__doc__</span><br><span class="line">    <span class="keyword">return</span> func</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨æ¡ˆä¾‹ï¼ˆå°¾é€’å½’å®ç°çš„é˜¶ä¹˜è®¡ç®—ï¼‰ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@tail_call_optimized</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">factorial</span>(<span class="params">n, acc=<span class="number">1</span></span>):</span></span><br><span class="line">    <span class="string">&quot;calculate a factorial&quot;</span> <span class="comment">#å‡½æ•°__doc__æ–‡æ¡£</span></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> acc</span><br><span class="line">    <span class="keyword">return</span> factorial(n-<span class="number">1</span>, n*acc) <span class="comment">#ä½ç½®3</span></span><br><span class="line">    </span><br><span class="line">print(factorial(<span class="number">1000</span>))</span><br></pre></td></tr></table></figure>
<p>è§£è¯»ï¼šé¦–å…ˆå¾—çŸ¥é“è£…é¥°å™¨çš„åŸºæœ¬åŸç†ï¼Œäºæ˜¯æœ‰<code>factorial=tail_call_optimized(factorial)</code>ï¼Œå³å˜é‡å<code>factorial</code>å®é™…æŒ‡å‘é—­åŒ…å‡½æ•°<code>func</code>ï¼Œè€Œ<code>func</code>é—­åŒ…å†…éƒ¨çš„å˜é‡<code>g</code>å®é™…æŒ‡å‘å‡½æ•°<code>factorial</code>ã€‚åœ¨æ‰§è¡Œ<code>factorial(1000)</code>æ—¶ï¼Œç”±å‡½æ•°<code>func</code>æ„æˆçš„æ ˆå¸§å°†é¦–æ¬¡è¢«å‹å…¥å‡½æ•°è°ƒç”¨æ ˆä¸­ï¼Œç¨‹åºæ‰§è¡Œåˆ°ä½ç½®1ï¼Œä¸ç¬¦åˆ<code>if</code>æ¡ä»¶ï¼Œäºæ˜¯æ‰§è¡Œåˆ°ä½ç½®2ï¼Œå†ä¸€æ¬¡å‘ç”Ÿå‡½æ•°è°ƒç”¨ï¼Œæ­¤æ—¶ç”±å‡½æ•°<code>factorial</code>æ„æˆçš„æ ˆå¸§å°†è¢«å‹å…¥æ ˆä¸­ï¼Œç¨‹åºç»§è€Œæ‰§è¡Œåˆ°ä½ç½®3å¹¶å‡½æ•°è°ƒç”¨ï¼Œäºæ˜¯ç”±å‡½æ•°<code>func</code>æ„æˆçš„æ ˆå¸§å°†å†æ¬¡è¢«å‹å…¥æ ˆä¸­ï¼Œç„¶åæ‰§è¡Œåˆ°ä½ç½®1å‘ç°æ»¡è¶³æ¡ä»¶ï¼ˆå½“å‰æ ˆå¸§çš„å‰ä¸¤ä¸ªæ ˆå¸§å­˜åœ¨ä¸”ä¸Šä¸Šä¸ªæ ˆå¸§çš„ä»£ç å¯¹è±¡å’Œå½“å‰æ ˆå¸§çš„ä»£ç å¯¹è±¡ç›¸åŒï¼Œå³å‘ç”Ÿé‡å¤è°ƒç”¨ï¼‰ï¼Œäºæ˜¯å‘ä¸Šå±‚æŠ›å‡ºå¼‚å¸¸ï¼ˆå…·ä½“è¿”å›åˆ°å“ªä¸€å±‚å°±çœ‹å“ªä¸€å±‚æ•æ‰åˆ°äº†è¯¥å¼‚å¸¸ï¼‰ï¼ŒåŒæ—¶æºå¸¦ç€æœ€æ–°çš„è°ƒç”¨å‚æ•°ï¼Œæ˜¾ç„¶ç¨‹åºå°†è¿”å›åˆ°ç¬¬ä¸€ä¸ªæ ˆå¸§ï¼ˆå³ç¬¬ä¸€ä¸ªå‡½æ•°è°ƒç”¨ï¼‰çš„ä½ç½®2å¤„ï¼ˆæ­¤æ—¶æ ˆå†…å°±åªæœ‰è¿™ä¸€ä¸ªå¸§äº†ï¼‰ï¼Œæ­¤å¤„å¼‚å¸¸è¢«æ•æ‰ï¼Œç”±äºå¤„åœ¨ä¸€ä¸ª<code>while</code>å¾ªç¯ä¸­ï¼Œäºæ˜¯åˆæ¥åˆ°ä½ç½®2å¹¶å‘ç”Ÿå‡½æ•°è°ƒç”¨ï¼Œå‡½æ•°<code>factorial</code>æ„æˆçš„æ ˆå¸§å°†è¢«å‹å…¥æ ˆä¸­ï¼Œæ¥åˆ°ä½ç½®3å¹¶å‘ç”Ÿå‡½æ•°è°ƒç”¨ï¼Œå‡½æ•°<code>func</code>æ„æˆçš„æ ˆå¸§å°†è¢«å‹å…¥æ ˆä¸­ï¼Œåˆ¤æ–­<code>if</code>æ¡ä»¶ï¼Œå†æ¬¡æ»¡è¶³æ¡ä»¶ï¼ŒæŠ›å‡ºå¼‚å¸¸â€¦ï¼Œä¾æ­¤ç±»æ¨</p>
<p>ä¹‹å‰çš„æ–æ³¢é‚£å¥‘é—®é¢˜ï¼Œä½¿ç”¨TCOä¿®é¥°ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib5</span>(<span class="params">n</span>):</span></span><br><span class="line"><span class="meta">    @tail_call_optimized</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fib_iter</span>(<span class="params">n,n1,n2</span>):</span></span><br><span class="line">        <span class="keyword">if</span> n==<span class="number">0</span>: <span class="keyword">return</span> n2</span><br><span class="line">        <span class="keyword">else</span>: <span class="keyword">return</span> fib_iter(n-<span class="number">1</span>,n2,n1+n2)</span><br><span class="line">    <span class="keyword">return</span> fib_iter(n,<span class="number">1</span>,<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼ŒTCOåªèƒ½ç”¨äºå°¾é€’å½’ï¼Œå¦åˆ™å‡ºé”™ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@tail_call_optimized</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">n=<span class="number">6</span></span>):</span> <span class="comment">#æ­¤é€’å½’å‡½æ•°åŠŸèƒ½ï¼šæ¯æ·±å…¥è°ƒç”¨ä¸€æ¬¡é€’å½’å‡½æ•°ï¼Œè®¡æ•°å™¨å¢1ï¼Œå³å‡½æ•°è¿”å›é€’å½’çš„æ·±åº¦</span></span><br><span class="line">    <span class="keyword">if</span> n==<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>+f(n-<span class="number">1</span>)</span><br><span class="line">    </span><br><span class="line">print(f()) <span class="comment">#0 #å»æ‰TCOæ—¶è¿”å›6</span></span><br></pre></td></tr></table></figure></div></div>
<p>æœ€æ­£ç¡®ä¸”æ•ˆç‡æœ€é«˜çš„å½“å±å¾ªç¯ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#èƒ½ç”¨å¾ªç¯è§£å†³çš„é—®é¢˜ï¼Œå°½é‡ä¸è¦ä½¿ç”¨é€’å½’ï¼Œæœ‰æ—¶å€™é€’å½’å¯ä»¥æå¤§ç®€åŒ–é—®é¢˜ï¼Œé‚£ä¹Ÿåº”å½“åœ¨åˆç†çš„é€’å½’æ·±åº¦èŒƒå›´å†…ï¼Œå¦åˆ™æ„å‘³ç€é”™è¯¯å¿…å°†å‘ç”Ÿ</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib4</span>(<span class="params">n</span>):</span></span><br><span class="line">    n1,n2=<span class="number">1</span>,<span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> n:</span><br><span class="line">        n1,n2,n=n2,n1+n2,n-<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> n2</span><br><span class="line">  </span><br><span class="line">print(fib4(<span class="number">10000</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#é¡ºä¾¿ç»™å‡ºæ‰“å°å®Œæ•´æ•°åˆ—çš„æ–¹æ³•ï¼Œç¨å¾®æ”¹é€ ä¸Šè¿°fibå‡½æ•°å³å¯</span></span><br><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> count</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">all_fib</span>(<span class="params">n</span>):</span></span><br><span class="line">    n1,n2=<span class="number">0</span>,<span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> count():</span><br><span class="line">        <span class="keyword">if</span> i==n:<span class="keyword">break</span></span><br><span class="line">        print(n2,end=<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">        n1,n2=n2,n1+n2</span><br><span class="line"></span><br><span class="line">all_fib(<span class="number">6</span>) <span class="comment">#1,1,2,3,5,8,13,21,34,55</span></span><br></pre></td></tr></table></figure></div></div></div></div>
<p>æ¡ˆä¾‹4ï¼ˆå¢é‡æ±‚å¹³å‡ï¼‰ï¼š<br>
è®°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><msub><mi>x</mi><mi>n</mi></msub><mo stretchy="true">â€¾</mo></mover></mrow><annotation encoding="application/x-tex">\overline{x_n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78056em;vertical-align:-0.15em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.63056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.55056em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span>ä¸ºåºåˆ—<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">{</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mi>n</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\{x_1, ..., x_n\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span>çš„å‡å€¼ï¼Œç”±<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><msub><mi>x</mi><mi>n</mi></msub><mo stretchy="true">â€¾</mo></mover><mo>âˆ’</mo><mover accent="true"><msub><mi>x</mi><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo stretchy="true">â€¾</mo></mover><mo>=</mo><mfrac><mrow><msub><mi>x</mi><mn>1</mn></msub><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>+</mo><msub><mi>x</mi><mi>n</mi></msub></mrow><mi>n</mi></mfrac><mo>âˆ’</mo><mover accent="true"><msub><mi>x</mi><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo stretchy="true">â€¾</mo></mover><mo>=</mo><mfrac><mrow><mover accent="true"><msub><mi>x</mi><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo stretchy="true">â€¾</mo></mover><mo stretchy="false">(</mo><mi>n</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo><mo>+</mo><msub><mi>x</mi><mi>n</mi></msub></mrow><mi>n</mi></mfrac><mo>âˆ’</mo><mover accent="true"><msub><mi>x</mi><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo stretchy="true">â€¾</mo></mover><mo>=</mo><mfrac><mrow><msub><mi>x</mi><mi>n</mi></msub><mo>âˆ’</mo><mover accent="true"><msub><mi>x</mi><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo stretchy="true">â€¾</mo></mover></mrow><mi>n</mi></mfrac></mrow><annotation encoding="application/x-tex">\overline{x_n}-\overline{x_{n-1}} = \frac{x_1+...+x_n}{n} - \overline{x_{n-1}} = \frac{\overline{x_{n-1}}(n-1)+x_n}{n} - \overline{x_{n-1}} = \frac{x_n - \overline{x_{n-1}}}{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78056em;vertical-align:-0.15em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.63056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.55056em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.838891em;vertical-align:-0.208331em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.63056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.55056em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1634309999999999em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8184309999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4101em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">+</span><span class="mord mtight">.</span><span class="mord mtight">.</span><span class="mord mtight">.</span><span class="mbin mtight">+</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.838891em;vertical-align:-0.208331em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.63056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.55056em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord overline mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6755600000000002em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173142857142857em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.20252142857142857em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.57756em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line mtight" style="border-bottom-width:0.049em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.20252142857142857em;"><span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span><span class="mclose mtight">)</span><span class="mbin mtight">+</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.838891em;vertical-align:-0.208331em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.63056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.55056em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.269657em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9246570000000001em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.451765em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">âˆ’</span><span class="mord overline mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6755600000000002em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173142857142857em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.20252142857142857em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.57756em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line mtight" style="border-bottom-width:0.049em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.20252142857142857em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>ï¼Œåˆ™<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><msub><mi>x</mi><mi>n</mi></msub><mo stretchy="true">â€¾</mo></mover><mo>=</mo><mover accent="true"><msub><mi>x</mi><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo stretchy="true">â€¾</mo></mover><mo>+</mo><mfrac><mrow><msub><mi>x</mi><mi>n</mi></msub><mo>âˆ’</mo><mover accent="true"><msub><mi>x</mi><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo stretchy="true">â€¾</mo></mover></mrow><mi>n</mi></mfrac></mrow><annotation encoding="application/x-tex">\overline{x_n}=\overline{x_{n-1}} + \frac{x_n - \overline{x_{n-1}}}{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78056em;vertical-align:-0.15em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.63056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.55056em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.838891em;vertical-align:-0.208331em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.63056em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.55056em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.269657em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9246570000000001em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.451765em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">âˆ’</span><span class="mord overline mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6755600000000002em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173142857142857em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.20252142857142857em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.57756em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line mtight" style="border-bottom-width:0.049em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.20252142857142857em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>ï¼Œäºæ˜¯æœ‰ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>avg = <span class="keyword">lambda</span> arr : reduce(<span class="keyword">lambda</span> avg_num, xn : (avg_num[<span class="number">0</span>] + (xn - avg_num[<span class="number">0</span>])/(avg_num[<span class="number">1</span>] + <span class="number">1</span>), avg_num[<span class="number">1</span>] + <span class="number">1</span>), arr, (<span class="number">0</span>,<span class="number">0</span>))[<span class="number">0</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>avg([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line"><span class="number">2.5</span></span><br></pre></td></tr></table></figure>
</li>
</ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="dytab1-4"><div class="tabs" id="dytab1-2"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#dytab1-2-1">å­—å…¸</button></li><li class="tab"><button type="button" data-href="#dytab1-2-2">é›†åˆ</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="dytab1-2-1"><p>å­—å…¸åˆåå“ˆå¸Œè¡¨ã€æ•£åˆ—è¡¨ï¼Œå®ç°ä¸€ä¸ªå“ˆå¸Œè¡¨éœ€è¦è®¨è®ºä¸¤å¤§åŸºæœ¬é—®é¢˜ï¼šåœ°å€æ˜ å°„å’Œå†²çªå¤„ç†</p>
<ol>
<li>
<p>åœ°å€æ˜ å°„<br>
ä¸€ä¸ªå¥½çš„<code>hash</code>æ–¹æ³•æ˜¯åœ¨å¯¹è±¡ä¸ç›¸åŒçš„æƒ…å†µä¸‹èƒ½äº§ç”Ÿä¸ç›¸ç­‰çš„å“ˆå¸Œå€¼ï¼Œè¿™æ˜¯æœ€ç†æƒ³çš„æƒ…å†µï¼Œé€€è€Œæ±‚æ¬¡ï¼Œ<code>hash</code>æ–¹æ³•åº”å°½åŠ›å°†æ•°æ®é›†åˆä¸­ä¸ç›¸åŒçš„å¯¹è±¡å‡åŒ€åˆ†å¸ƒåˆ°æ‰€æœ‰å¯èƒ½çš„åœ°å€ä¸Šé¢ï¼Œå³é€šè¿‡å“ˆå¸Œå‡½æ•°åº”èƒ½å¾—åˆ°ä¸€ä¸ªâ€œå°½å¯èƒ½éšæœºçš„åœ°å€â€</p>
</li>
<li>
<p>å†²çªå¤„ç†<br>
å¦‚æœä¸¤ä¸ªä¸åŒå¯¹è±¡æ˜ å°„åˆ°äº†ç›¸åŒçš„åœ°å€ï¼Œå°†äº§ç”Ÿå†²çªï¼Œæ— è®ºæ€æ ·ç²¾å¿ƒæ„é€ <code>hash</code>å‡½æ•°ï¼Œè¿™ç§å†²çªéƒ½ä¸å¯é¿å…ï¼Œä½†æ˜¯å¯ä»¥è§£å†³ï¼Œå¦‚å¼€æ”¾å®šå€ï¼ˆæ¢æµ‹å†æ•£åˆ—ï¼‰ã€å†å“ˆå¸Œã€é“¾å¼ã€å…¬å…±æº¢å‡ºåŒºï¼Œå…¶ä¸­é“¾è¡¨æ³•æ˜¯æ¯”è¾ƒå¸¸è§çš„å†²çªå¤„ç†åŠæ³•ï¼Œpythoné‡‡ç”¨å¼€æ”¾å®šå€åŠæ³•</p>
</li>
</ol>
<p>å› æ­¤å½“æˆ‘ä»¬å¯¹å­—å…¸æˆå‘˜å¯¹è±¡è¿›è¡Œæ“ä½œæ—¶ï¼Œéœ€è¦èƒ½å¤Ÿè®¡ç®—å¯¹è±¡çš„å“ˆå¸Œå¹¶æ¯”è¾ƒå¯¹è±¡ä¹‹é—´çš„å¼‚åŒï¼Œç‰¹åˆ«æ˜¯ç”¨æˆ·è‡ªå®šä¹‰ç±»å‹ï¼Œéœ€è¦ç”¨æˆ·è‡ªå·±å®ç°ã€‚å…ˆè¯´è¯´å‡ ä¸ªç‰¹æ®Šæ–¹æ³•ï¼ˆä¹Ÿå«â€œé­”æ³•æ–¹æ³•â€ï¼Œä»¥åŒä¸‹åˆ’çº¿å¼€å¤´ä¸”ä»¥åŒä¸‹åˆ’çº¿ç»“å°¾ï¼Œè¿™äº›æ–¹æ³•ä¼šåœ¨è¿›è¡Œç‰¹å®šæ“ä½œæ—¶è¢«è‡ªåŠ¨è°ƒç”¨ï¼Œè­¬å¦‚è¿ç®—ç¬¦é‡è½½æ–¹æ³•ï¼Œå¦‚ä¸Šé¢æåˆ°è¿‡çš„å¯¹è±¡æ¯”è¾ƒ<code>==</code>ç›¸å½“äºè°ƒç”¨å¯¹è±¡çš„<code>__eq__()</code>æ–¹æ³•ã€åŠ æ³•<code>+</code>ç›¸å½“äºè°ƒç”¨å¯¹è±¡çš„<code>__add__()</code>æ–¹æ³•ç­‰ï¼‰ï¼š</p>
<ul><li> <code>object.__hash__(self)</code><br>
  <p>æ³¨ï¼šè¿™æ˜¯<code>object</code>åŸºç±»æ‰€å®šä¹‰çš„å“ˆå¸Œæ–¹æ³•ç­¾åï¼Œä¸‹åŒ</p>
  <p><code>__hash__()</code>ä¼šåœ¨ä»¥ä¸‹æƒ…å†µè¢«è°ƒç”¨ï¼š1ï¼‰ç”±å†…ç½®æ–¹æ³•<code>hash()</code>è°ƒç”¨ï¼ˆ<code>hash(obj)</code>å³ç­‰åŒäº<code>obj.__hash__()</code>ï¼‰ï¼Œ2ï¼‰å¯¹æ•£åˆ—é›†åˆæˆå‘˜è¿›è¡Œæ“ä½œæ—¶è¢«è°ƒç”¨ï¼Œæ•£åˆ—é›†åˆç±»å‹åŒ…æ‹¬<code>dict</code>ã€<code>set</code>å’Œ<code>frozenset</code>ã€‚æ³¨æ„<code>__hash__()</code>åº”å½“è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œå¯¹äºç”¨æˆ·è‡ªå®šä¹‰ç±»å‹ï¼Œæˆ‘ä»¬å»ºè®®å°†å¯¹è±¡çš„ä¸åŒç»„ä»¶æ‰“åŒ…è¿›å…ƒç»„ï¼Œç„¶åè®¡ç®—å…ƒç»„çš„å“ˆå¸Œå€¼ï¼Œè­¬å¦‚ï¼š</p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__hash__</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">hash</span>((self.name, self.sex, self.age))</span><br></pre></td></tr></table></figure>
  </li>
<li> <code>object.__getattribute__(self, name)</code><br>
  <p>å®ä¾‹å±æ€§è®¿é—®æ—¶å§‹ç»ˆä¼šè°ƒç”¨<code>__getattribute__()</code>æ–¹æ³•ï¼ˆç±»å±æ€§è®¿é—®åˆ™ä¸ä¼šè°ƒç”¨ä¹‹ï¼Œå¾ˆæ˜æ˜¾ä¸€ä¸ªé“ç†ï¼Œ<code>__getattribute__()</code>æ˜¯å®ä¾‹æ–¹æ³•å˜›ï¼Œæ€ä¹ˆå¯èƒ½ä¼šè°ƒç”¨å®ƒï¼Œå½“ç±»å±æ€§ä¸å­˜åœ¨æ—¶ä¹Ÿå°†è§¦å‘<code>AttributeError</code>å¼‚å¸¸ï¼Œè€Œè¿™å°±æ›´ä¸å¤ªå¯èƒ½è§¦å‘è°ƒç”¨<code>__getattr__()</code>äº†ï¼‰ï¼Œå¦‚æœè¿˜å®šä¹‰äº†<code>__getattr__()</code>ï¼Œåˆ™é™¤é<code>__getattribute__()</code>æ˜¾å¼è°ƒç”¨å®ƒæˆ–è€…å…¶ä¸­å¼•å‘äº†<code>AttributeError</code>å¼‚å¸¸ï¼ˆå±æ€§ä¸å­˜åœ¨çš„é»˜è®¤è¡Œä¸ºï¼‰ï¼Œå¦åˆ™ä¸ä¼šè°ƒç”¨åè€…ã€‚ä¸ºäº†é˜²æ­¢åœ¨æ­¤æ–¹æ³•ä¸­é™·å…¥æ— ç©·é€’å½’ï¼Œå…¶å®ç°åº”å§‹ç»ˆè°ƒç”¨å…·æœ‰ç›¸åŒåç§°çš„åŸºç±»æ–¹æ³•æ¥è®¿é—®å…¶æ‰€éœ€çš„ä»»ä½•å±æ€§ï¼Œå¦‚<code>object.__getattribute__(self, name)</code>ï¼ˆä¹‹æ‰€ä»¥è¦ä¼ å…¥å½“å‰å®ä¾‹<code>self</code>ï¼Œæ˜¯å› ä¸ºåœ¨ç±»ä¸Šè®¿é—®å®ä¾‹æ–¹æ³•è¿”å›çš„æ˜¯â€œéç»‘å®šæ–¹æ³•â€ï¼ˆå³åŸå§‹å‡½æ•°å¯¹è±¡ï¼‰ï¼Œè€Œåœ¨å®ä¾‹ä¸Šè®¿é—®æ–¹æ³•è¿”å›çš„åˆ™æ˜¯â€œç»‘å®šæ–¹æ³•â€ï¼Œæ‰€è°“ç»‘å®šï¼Œå³ç»‘å®šå®ä¾‹ï¼Œå®ä¾‹æ–¹æ³•è®¿é—®è¿”å›çš„å…¶å®æ˜¯ä¸€ä¸ªé—­åŒ…å¯¹è±¡ï¼Œè­¬å¦‚<code>x.method</code>è¿”å›çš„ç›¸å½“äº<code>partial(method,self=x)</code>ï¼‰ï¼Œä¸è¿‡ä¸€èˆ¬è¿˜æ˜¯ä½¿ç”¨<code>super().method(arg)</code>å®ç°åŸºç±»æ–¹æ³•è°ƒç”¨ã€‚ä¸‹é¢çš„é”™è¯¯ç¤ºä¾‹å°†å¯¼è‡´æ— é™é€’å½’ï¼ˆä½†å—æœ€å¤§é€’å½’å±‚æ•°é™åˆ¶ï¼‰ï¼š</p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,name</span>):</span></span><br><span class="line">        self.name=name</span><br><span class="line">      </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getattribute__</span>(<span class="params">self,item</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.__dict__[item] <span class="comment">#__dict__ä¸­å­˜æ”¾ç€å¯¹è±¡ä¸Šç»‘å®šç€çš„å®ä¾‹å±æ€§ï¼Œè‹¥ä½ æƒ³ä»ä¸­å–å€¼ï¼Œself.__dict__åˆå°†è°ƒç”¨self.__getattribute__()æ–¹æ³•ï¼Œä»è€Œé™·å…¥æ— ç©·é€’å½’</span></span><br><span class="line">      </span><br><span class="line">print(A(<span class="string">&#x27;a&#x27;</span>).name) <span class="comment">#RecursionError: maximum recursion depth exceeded while calling a Python object</span></span><br></pre></td></tr></table></figure>
  ä¿®æ”¹ï¼š
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__getattribute__</span>(<span class="params">self,item</span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">super</span>(A,self).__getattribute__(item) <span class="comment">#åœ¨python3ä¸­ä¹Ÿå¯ä»¥ç®€å†™ä¸ºsuper()ï¼Œå®Œå…¨ç­‰åŒäºsuper(A,self)</span></span><br></pre></td></tr></table></figure>
  <div class="hide-toggle" ><div class="hide-button toggle-title " style=""><i class="fas fa-caret-right fa-fw"></i><span>é‡åˆ°çš„é—®é¢˜</span></div>
    <div class="hide-content"><p>æˆ‘å†™äº†ä¸‹é¢çš„ä»£ç ï¼Œä½†æ˜¯å¯¹è¾“å‡ºæ„Ÿåˆ°å›°æƒ‘ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,name</span>):</span></span><br><span class="line">        self.name=name</span><br><span class="line">      </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getattribute__</span>(<span class="params">self,item</span>):</span></span><br><span class="line">        print(<span class="string">&#x27;å±æ€§è®¿é—®:&#x27;</span>,item)</span><br><span class="line">        print(<span class="string">&#x27;objectçš„__getattr__æ–¹æ³•:&#x27;</span>,<span class="built_in">super</span>(A,self).__getattr__) <span class="comment">#ï¼Ÿ</span></span><br><span class="line">        print(<span class="built_in">super</span>(A,self).__getattr__(item)) <span class="comment">#superåˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>(A,self).__getattribute__(item)</span><br><span class="line">      </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getattr__</span>(<span class="params">self,item</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;daiyang&#x27;</span></span><br><span class="line">      </span><br><span class="line">print(A(<span class="string">&#x27;a&#x27;</span>).name)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;OUTPUT</span></span><br><span class="line"><span class="string">å±æ€§è®¿é—®: name</span></span><br><span class="line"><span class="string">daiyang</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹<code>super(â€¦)</code>çš„åŸç†ï¼ˆä»…ç”¨äºç†è§£ï¼Œå› ä¸º<code>super</code>æœ¬èº«æ˜¯ä¸€ä¸ªç±»ï¼‰ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">super</span>(<span class="params">cls, inst</span>):</span></span><br><span class="line">    mro = inst.__class__.mro()</span><br><span class="line">    <span class="keyword">return</span> mro[mro.index(cls) + <span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<p>MROï¼ˆmethod resolution orderï¼‰åˆ—è¡¨è®°å½•äº†ç±»ç»§æ‰¿ä½“ç³»ä¸­çš„æˆå‘˜è§£æé¡ºåºï¼Œæ¯ä¸ªç±»éƒ½æœ‰è¿™æ ·çš„å±æ€§ï¼Œå¯ä»¥ç”¨æ¥è§£å†³pythonä¸­<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.cnblogs.com/czaiz/p/7772194.html">é’»çŸ³ç»§æ‰¿</a>çš„éš¾é¢˜ï¼Œæ ¸å¿ƒå°±åœ¨äºå®ƒå°†éçº¿æ€§çš„çˆ¶ç±»ç»§æ‰¿é¡ºåºé€šè¿‡C3ç®—æ³•è½¬æ¢æˆçº¿æ€§é¡ºåºã€‚å› æ­¤ä»¥åä¸è¦å†å•çº¯åœ°è®¤ä¸º<code>super()</code>è¿”å›çš„å°±æ˜¯å½“å‰ç±»çš„çˆ¶ç±»äº†ï¼Œè¿™ä¸ä¸€å®šï¼ˆå•ç»§æ‰¿ä¸ç”¨æ€€ç–‘ï¼Œè‚¯å®šæ˜¯çˆ¶ç±»å•¦ï¼ŒæŒ‡çš„æ˜¯å¤šç»§æ‰¿çš„æƒ…å†µä¸‹ä¸ä¸€å®šï¼‰ï¼Œä¹Ÿå¯èƒ½æ˜¯å…„å¼Ÿç±»ï¼ˆå½“ç„¶äº†ï¼Œä¸ç®¡æ˜¯â€œçˆ¶ç±»â€è¿˜æ˜¯â€œå…„å¼Ÿç±»â€éƒ½æ˜¯ä¸ä¸¥è°¨çš„è¯´æ³•ï¼Œå› ä¸ºè¿”å›çš„æ˜¯<code>super</code>ç±»å®ä¾‹ï¼‰ï¼Œçœ‹ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">      print(<span class="string">&quot;enter Base&quot;</span>)</span><br><span class="line">      print(<span class="string">&quot;leave Base&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>(<span class="params">Base</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;enter A&quot;</span>)</span><br><span class="line">        <span class="comment">#print(self.__class__.mro()) #[&lt;class &#x27;__main__.C&#x27;&gt;, &lt;class &#x27;__main__.A&#x27;&gt;, &lt;class &#x27;__main__.B&#x27;&gt;, &lt;class &#x27;__main__.Base&#x27;&gt;, &lt;class &#x27;object&#x27;&gt;]</span></span><br><span class="line">        <span class="built_in">super</span>(A,self).__init__() <span class="comment">#æ ¹æ®MROåˆ—è¡¨å¯çŸ¥ï¼Œsuper(A,self)è¿”å›çš„æ˜¯ç±»Bï¼Œæ³¨æ„äº†ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè¯´super()è¿”å›çš„ä¸ä¸€å®šæ˜¯çˆ¶ç±»ï¼Œæ­¤å¤„è¿”å›çš„æ˜¯ç±»Açš„å…„å¼ŸB</span></span><br><span class="line">        print(<span class="string">&quot;leave A&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>(<span class="params">Base</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;enter B&quot;</span>)</span><br><span class="line">        <span class="comment">#print(self.__class__.mro()) #[&lt;class &#x27;__main__.C&#x27;&gt;, &lt;class &#x27;__main__.A&#x27;&gt;, &lt;class &#x27;__main__.B&#x27;&gt;, &lt;class &#x27;__main__.Base&#x27;&gt;, &lt;class &#x27;object&#x27;&gt;]</span></span><br><span class="line">        <span class="built_in">super</span>(B,self).__init__() <span class="comment">#æ ¹æ®MROåˆ—è¡¨å¯çŸ¥ï¼Œsuper(B,self)è¿”å›çš„æ˜¯ç±»Base</span></span><br><span class="line">        print(<span class="string">&quot;leave B&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>(<span class="params">A,B</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">&quot;enter C&quot;</span>)</span><br><span class="line">        <span class="comment">#print(self.__class__.mro()) #[&lt;class &#x27;__main__.C&#x27;&gt;, &lt;class &#x27;__main__.A&#x27;&gt;, &lt;class &#x27;__main__.B&#x27;&gt;, &lt;class &#x27;__main__.Base&#x27;&gt;, &lt;class &#x27;object&#x27;&gt;]</span></span><br><span class="line">        <span class="built_in">super</span>(C,self).__init__() <span class="comment">#æ ¹æ®MROåˆ—è¡¨å¯çŸ¥ï¼Œsuper(C,self)è¿”å›çš„æ˜¯ç±»Aï¼Œå‡†ç¡®æ¥è¯´è¿”å›çš„æ˜¯ç»‘å®šäº†selfå®ä¾‹çš„superç±»å¯¹è±¡ï¼ˆbound super objectï¼‰ï¼Œå¯ä»¥é€šè¿‡__self__å±æ€§æŸ¥çœ‹ç»‘å®šçš„å®ä¾‹ï¼Œsuper(C,self).__self__</span></span><br><span class="line">        print(<span class="string">&quot;leave C&quot;</span>)</span><br><span class="line"></span><br><span class="line">c=C()</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;OUTPUT</span></span><br><span class="line"><span class="string">enter C</span></span><br><span class="line"><span class="string">enter A</span></span><br><span class="line"><span class="string">enter B</span></span><br><span class="line"><span class="string">enter Base</span></span><br><span class="line"><span class="string">leave Base</span></span><br><span class="line"><span class="string">leave B</span></span><br><span class="line"><span class="string">leave A</span></span><br><span class="line"><span class="string">leave C</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>äº‹å®ä¸Šï¼Œ<code>super(cls,inst)</code>æœ‰ä¸¤ç§ç”¨æ³•ï¼Œä¸€æ˜¯ä¸Šè¿°æ‰€è¯´ï¼Œå‚æ•°1æ˜¯ç±»ï¼Œå‚æ•°2æ˜¯å®ä¾‹ï¼Œä¸”å¿…é¡»æ»¡è¶³<code>isinstance(inst,cls)</code>ä¸º<code>True</code>çš„æ¡ä»¶ï¼ŒäºŒæ˜¯å‚æ•°2ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªç±»ï¼Œæ­¤æ—¶åˆ™å¿…é¡»æ»¡è¶³<code>issubclass(inst,cls)</code>ä¸º<code>True</code>çš„æ¡ä»¶ï¼Œä¸¤è€…è¿”å›çš„éƒ½æ˜¯ç»‘å®šäº†<code>inst</code>ï¼ˆåº”è¯¥æ˜¯ç»‘åœ¨<code>__self__</code>å±æ€§ä¸­ï¼‰çš„<code>super</code>å¯¹è±¡ï¼Œæ³¨æ„å¹¶ä¸æ˜¯é¢„æœŸçš„çˆ¶ç±»å“¦ï¼Œå¦‚æœç»‘å®šçš„<code>inst</code>æ˜¯å®ä¾‹ï¼Œé‚£ä¹ˆè¯¥<code>super</code>å¯¹è±¡å¯ä»¥è°ƒç”¨çˆ¶ç±»çš„å®ä¾‹æ–¹æ³•ï¼Œå¦‚æœç»‘å®šçš„<code>inst</code>æ˜¯ç±»ï¼Œé‚£ä¹ˆè¯¥<code>super</code>å¯¹è±¡åˆ™å¯ä»¥è°ƒç”¨çˆ¶ç±»çš„ç±»æ–¹æ³•ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è®¿é—®çˆ¶ç±»çš„å…¶ä»–ç±»å±æ€§ï¼ˆåŒ…æ‹¬ç±»ä¸­å®šä¹‰çš„é™æ€æ–¹æ³•ã€éæ–¹æ³•å±æ€§ï¼‰ï¼Œå¦‚æœçˆ¶ç±»ä¸­æ‰¾ä¸åˆ°çš„è¯ï¼Œåˆ™ä¼šåˆ°çˆ¶ç±»çš„åŸºç±»ä¸­ç»§ç»­æœå¯»ï¼Œå¦‚æœä¸€ç›´æ²¡æœ‰æ‰¾åˆ°å°†æŠ›å‡º<code>AttributeError</code></p>
<p>å›åˆ°åŸé¢˜ï¼Œ<code>super(A,self).__getattr__</code>ç†è®ºä¸Šåº”è¯¥è¿”å›åŸºç±»<code>object</code>ç›¸åº”çš„ç»‘å®šæ–¹æ³•ï¼ˆç»‘å®šäº†ç±»<code>A</code>å®ä¾‹<code>self</code>ï¼‰ï¼Œé—®é¢˜åœ¨äº<code>object</code>ç±»å¹¶æœªå®šä¹‰<code>__getattr__()</code>æ–¹æ³•å•Šï¼ˆå‚è€ƒä¹¦[1]å‡ºæ¥æŒ¨æ‰“O(âˆ©_âˆ©)Oï¼‰ï¼Œå½“è®¿é—®ä¸€ä¸ªä¸å­˜åœ¨çš„å±æ€§å°†å¼•å‘<code>AttributeError</code>å¼‚å¸¸ï¼Œæ³¨æ„è¿™ä¸ªå¼‚å¸¸æ˜¯åœ¨ç±»<code>A</code>çš„<code>__getattribute__()</code>å†…éƒ¨å¼•å‘çš„ï¼Œè€Œç”±äºè¿˜å®šä¹‰äº†<code>__getattr__()</code>ï¼Œå› æ­¤ç¨‹åºæœ€ç»ˆè¾“å‡ºäº†å­—ç¬¦ä¸²<code>daiyang</code>ã€‚æˆ‘ä»¬å¯ä»¥æ•æ‰è¯¥å¼‚å¸¸ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,name</span>):</span></span><br><span class="line">        self.name=name</span><br><span class="line">      </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getattribute__</span>(<span class="params">self,item</span>):</span></span><br><span class="line">        print(<span class="string">&#x27;å±æ€§è®¿é—®:&#x27;</span>,item)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            print(<span class="string">&#x27;objectçš„__getattr__æ–¹æ³•:&#x27;</span>,<span class="built_in">super</span>(A,self).__getattr__)</span><br><span class="line">        <span class="keyword">except</span> AttributeError <span class="keyword">as</span> e:</span><br><span class="line">            print(<span class="string">&#x27;å¼‚å¸¸æ•æ‰:&#x27;</span>,e)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>(A,self).__getattribute__(item)</span><br><span class="line">      </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getattr__</span>(<span class="params">self,item</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;daiyang&#x27;</span></span><br><span class="line">      </span><br><span class="line">print(A(<span class="string">&#x27;a&#x27;</span>).name)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;OUTPUT</span></span><br><span class="line"><span class="string">å±æ€§è®¿é—®: name</span></span><br><span class="line"><span class="string">å¼‚å¸¸æ•æ‰: &#x27;super&#x27; object has no attribute &#x27;__getattr__&#x27;</span></span><br><span class="line"><span class="string">a</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure></div></div>
  </li>
<li> <code>object.__getitem__(self,key)</code><br>
æ‰§è¡Œ<code>self[key]</code>æ—¶è¢«è°ƒç”¨ï¼Œå¯¹äºåºåˆ—ç±»å‹ï¼Œæ¥å—çš„é”®åº”è¯¥æ˜¯æ•´æ•°å’Œåˆ‡ç‰‡å¯¹è±¡ï¼Œè¯·æ³¨æ„ï¼Œè´Ÿç´¢å¼•çš„ç‰¹æ®Šè§£é‡Šï¼ˆå¦‚æœç±»å¸Œæœ›æ¨¡æ‹Ÿåºåˆ—ç±»å‹ï¼‰å–å†³äº<code>__getitem__()</code>æ–¹æ³•ï¼Œå¦‚æœkeyæ˜¯ä¸åˆé€‚çš„ç±»å‹ï¼Œåˆ™å¯èƒ½å¼•å‘<code>TypeError</code>ï¼Œå¦‚æœæ˜¯åºåˆ—çš„ç´¢å¼•é›†åˆä¹‹å¤–çš„å€¼ï¼Œåˆ™åº”å¼•å‘<code>IndexError</code>ï¼Œå¯¹äºæ˜ å°„ç±»å‹ï¼Œå¦‚æœç¼ºå°‘é”®ï¼ˆä¸åœ¨å®¹å™¨ä¸­ï¼‰ï¼Œåˆ™åº”å¼•å‘<code>KeyError</code>
</li>
<li><code>object.__setitem__(self,key,value)</code><br>
æ‰§è¡Œ<code>self[key]=value</code>æ—¶è¢«è°ƒç”¨
</li>
</ul>
<p>ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨å†…ç½®çš„æ ‡å‡†å­—å…¸æˆ–é›†åˆï¼Œç”šè‡³ä¸éœ€è¦å­ç±»åŒ–è¿›è¡Œä»»ä½•å®šåˆ¶ï¼Œå³ä½¿æœ‰å…¶å®ƒæ–¹é¢çš„éœ€æ±‚ï¼Œä¹Ÿæœ‰ç¬¬ä¸‰æ–¹åº“æä¾›çš„æ•°æ®ç»“æ„ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼Œè­¬å¦‚<code>defaultdict</code>ã€<code>OrderedDict</code>ã€‚ä½†æ˜¯è‡ªå®šä¹‰æˆå‘˜å¯¹è±¡å¹¶é€šè¿‡å­—å…¸ç­‰å­˜å–æ—¶ï¼ŒåŸºæœ¬éƒ½å¾—é‡å†™<code>__hash__()</code>å’Œ<code>__eq__()</code>æ–¹æ³•ï¼Œè¿™ä¸€ç‚¹å¾ˆé‡è¦ï¼Œç°å‡è®¾æˆ‘ä»¬è¦å‘é›†åˆä¸­å­˜æ”¾è‡ªå®šä¹‰ç±»å¯¹è±¡ï¼Œå¦‚ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">man</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,name,sex,age</span>):</span></span><br><span class="line">        self.name=name</span><br><span class="line">        self.sex=sex</span><br><span class="line">        self.age=age</span><br><span class="line">        </span><br><span class="line">man1=man(<span class="string">&#x27;muggle&#x27;</span>,<span class="string">&#x27;male&#x27;</span>,<span class="number">22</span>)</span><br><span class="line">man2=man(<span class="string">&#x27;muggle&#x27;</span>,<span class="string">&#x27;male&#x27;</span>,<span class="number">22</span>)</span><br><span class="line"><span class="built_in">hash</span>(man1)==<span class="built_in">hash</span>(man2) <span class="comment">#False</span></span><br></pre></td></tr></table></figure>
<p>å¦‚ä½ æ‰€è§ï¼Œä¸¤ä¸ªâ€œç›¸åŒâ€ï¼ˆåªè¦å§“åã€æ€§åˆ«ã€å¹´é¾„éƒ½ä¸€æ ·ï¼Œæˆ‘ä»¬å°±è®¤ä¸ºä¸¤ä¸ªäººæ˜¯åŒä¸€äººå•Šï¼‰å¯¹è±¡çš„å“ˆå¸Œå€¼ä¸ä¸€æ ·ï¼Œå°†å®ƒä»¬å­˜æ”¾åˆ°å­—å…¸<code>s=set([man1,man2])</code>ä¸­çš„åæœå°±æ˜¯ï¼Œå­—å…¸<code>s</code>ä¸­ç«Ÿç„¶â€œæœ‰ä¸¤ä¸ªä¸€æ¯›ä¸€æ ·çš„äººâ€ï¼Œè¿™å®åœ¨æ˜¯åŒªå¤·æ‰€æ€ï¼ŒåŸå› å³åœ¨äºï¼Œæ‰§è¡Œæ˜ å°„ç±»å®¹å™¨ç›¸å…³æ“ä½œçš„æ—¶å€™ï¼ˆè­¬å¦‚å‘å­—å…¸ä¸­æ·»åŠ ä¸€ä¸ªé”®å€¼å¯¹ï¼Œæˆ–æŸ¥è¯¢æŸé”®çš„å€¼ï¼‰ï¼Œä¼šå…ˆåè°ƒç”¨é”®ï¼ˆæ­¤å¤„<code>man</code>å®ä¾‹å¯¹è±¡å°±æ˜¯â€œé”®â€ï¼‰å¯¹è±¡çš„<code>__hash__()</code>ä»¥åŠ<code>__eq__()</code>ï¼Œç°åœ¨æˆ‘ä»¬ä¸¤ä¸ªå¯¹è±¡<code>man1</code>å’Œ<code>man2</code>çš„å“ˆå¸Œå€¼ä¸ä¸€æ ·ï¼Œè€Œä¸”é»˜è®¤çš„<code>__eq__</code>æ–¹æ³•ä¹Ÿåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡ä¸ç›¸åŒï¼Œå°½ç®¡å“ˆå¸Œå€¼ä¸ä¸€æ ·çš„é”®ä¹Ÿæœ‰å¯èƒ½è½åˆ°åŒä¸€ä¸ªâ€œæ¡¶â€é‡Œé¢ï¼Œä½†æ˜¯ç°åœ¨è¿™ä¸¤å¯¹è±¡ä¹Ÿä¸<code>equal</code>å•Šï¼Œäºæ˜¯è¿™ä¸¤ä¸ªå¯¹è±¡å¿…ç„¶ä¸åŒä¸”åŒæ—¶å­˜åœ¨äºé›†åˆä¸­ï¼Œè§£å†³çš„åŠæ³•å°±æ˜¯ä¸º<code>man</code>ç±»é‡å†™<code>__hash__()</code>å’Œ<code>__eq__()</code>ï¼ˆä¸€èˆ¬ä¿®æ”¹å…¶ä¸­ä»»æ„ä¸€ä¸ªæ–¹æ³•ï¼Œå¦ä¸€ä¸ªä¹Ÿè¦ç›¸åº”ä¿®æ”¹ï¼‰ï¼Œå®ƒä»¬å¿…é¡»æ»¡è¶³ä»¥ä¸‹ä¸¤å¤§è§„åˆ™ï¼š</p>
<ol>
<li>å¦‚æœä¸¤ä¸ªå¯¹è±¡ç›¸åŒï¼Œå³<code>obj1.equal(obj2)==True</code>ï¼Œåˆ™ä¸¤ä¸ªå¯¹è±¡çš„å“ˆå¸Œåœ°å€æ˜ å°„ä¹Ÿå¿…é¡»ç›¸åŒï¼Œå³<code>hash(obj1)==hash(obj2)</code>ï¼ˆå¦åˆ™å¯¹è±¡æ˜æ˜å­˜åœ¨äºå®¹å™¨ä¸­ï¼Œå´æ‰¾ä¸åˆ°ï¼‰</li>
<li>å¦‚æœä¸¤ä¸ªå¯¹è±¡çš„å“ˆå¸Œåœ°å€æ˜ å°„ä¸åŒï¼Œå³<code>hash(obj1)!=hash(obj2)</code>ï¼Œåˆ™ä¸¤ä¸ªå¯¹è±¡å¿…é¡»ä¸ç›¸åŒï¼Œå³<code>obj1.equal(obj2)==False</code>ï¼ˆå¦åˆ™å®¹å™¨ä¸­å°†å­˜åœ¨åŒä¸€å¯¹è±¡çš„å¤šä¸ªâ€œå‰¯æœ¬â€ï¼Œæµªè´¹å­˜å‚¨èµ„æºï¼‰</li>
</ol>
<p>ä¿®æ”¹åçš„<code>man</code>ç±»å·²æ»¡è¶³ä¸Šè¿°è§„åˆ™ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">man</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,name,sex,age</span>):</span></span><br><span class="line">        self.name=name</span><br><span class="line">        self.sex=sex</span><br><span class="line">        self.age=age</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__hash__</span>(<span class="params">self</span>):</span> <span class="comment">#ç”¨å§“åã€æ€§åˆ«å’Œå¹´é¾„åˆ¤æ–­ä¸¤ä¸ªäººæ˜¯å¦ç›¸åŒï¼Œè‹¥ç›¸åŒï¼Œæ­¤æ—¶ä»–ä»¬çš„å“ˆå¸Œä¹Ÿå¿…ç„¶ç›¸åŒï¼Œä½†æ˜¯ç›¸åŒçš„å“ˆå¸Œä¹Ÿå¯èƒ½å¯¹åº”ä¸åŒçš„äººï¼Œæ­¤æ—¶å°±è¦é equalæ–¹æ³•æ¥åˆ¤æ–­äº†</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">hash</span>((self.name, self.sex, self.age))</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__eq__</span>(<span class="params">self,other</span>):</span></span><br><span class="line">        <span class="keyword">if</span> self.name==other.name <span class="keyword">and</span> self.sex==other.sex <span class="keyword">and</span> self.age==other.age:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure>
<p>å…³äº<code>__hash__()</code>å’Œ<code>__eq__()</code>ï¼Œå®˜æ–¹æ–‡æ¡£ä¸­æœ‰éå¸¸æ˜ç¡®çš„æŒ‡ç¤ºï¼š</p>
<ol>
<li>
<p>å¦‚æœé‡å†™äº†<code>__eq__()</code>ï¼Œå¿…é¡»é‡å†™<code>__hash__()</code>ï¼Œå› ä¸ºä¸¤ä¸ªâ€œç›¸åŒâ€å¯¹è±¡çš„å“ˆå¸Œåœ°å€æ˜ å°„ä¸ä¸€å®šç›¸åŒï¼Œä¸ºäº†ç¡®ä¿è¿™ä¸€ç‚¹ï¼Œå¿…é¡»é‡å†™<code>__hash__()</code>åŠ ä»¥ä¿è¯ã€‚åä¹‹ï¼Œå¦‚æœé‡å†™äº†<code>__hash__()</code>ï¼Œä¹Ÿå¿…é¡»é‡å†™<code>__eq__()</code>ï¼Œå› ä¸ºä¸¤ä¸ªå“ˆå¸Œåœ°å€ç›¸åŒçš„å¯¹è±¡ï¼Œå¦‚æœæ˜¯ç›¸åŒå¯¹è±¡ï¼Œ<code>__eq__()</code>ä¹Ÿå¿…é¡»ç›¸åŒï¼Œå¦åˆ™ä¸åŒï¼Œè‹¥ä¸¤ä¸ªå¯¹è±¡å“ˆå¸Œåœ°å€ä¸åŒï¼Œåˆ™<code>__eq__()</code>å¿…é¡»ä¸åŒï¼Œå¦åˆ™å‡ºé”™</p>
</li>
<li>
<p>å¦‚æœåªé‡å†™äº†<code>__eq__()</code>ï¼Œé‚£ä¹ˆè¯¥ç±»å¯¹è±¡å°†ä¸èƒ½ç”¨äºæ˜ å°„ç±»å®¹å™¨ï¼Œå› ä¸ºæ­¤æ—¶<code>__hash__()</code>å°†éšå¼åœ°è¢«èµ‹ä¸º<code>None</code>ï¼Œå³æ­¤æ—¶<code>__hash__</code>æ–¹æ³•å¤±æ•ˆï¼Œè¯¥ç±»å®ä¾‹å°†ä¸å¯å“ˆå¸Œã€‚å¦‚æœæƒ³ä½¿ç”¨çˆ¶ç±»çš„<code>__hash__()</code>ï¼Œéœ€è¦æ˜ç¡®è¯´æ˜ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>(<span class="params">A</span>):</span></span><br><span class="line">    __hash__=A.__hash__</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__eq__</span>(<span class="params">self,other</span>):</span></span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>å¦‚æœæ²¡æœ‰é‡å†™<code>__eq__()</code>ï¼Œåˆå¸Œæœ›ä½¿<code>__hash__()</code>å¤±æ•ˆï¼Œåº”æ˜ç¡®èµ‹å€¼ä¸º<code>None</code>ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>():</span></span><br><span class="line">    __hash__=<span class="literal">None</span></span><br><span class="line">        </span><br><span class="line">s=<span class="built_in">set</span>()</span><br><span class="line">s.add(A()) <span class="comment">#TypeError: unhashable type: &#x27;A&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>å¦‚æœå¯å˜å¯¹è±¡çš„ç±»å®ç°äº†<code>__eq__()</code>ï¼Œå°±ä¸å¿…å†ä¸ºä¹‹é‡å†™<code>__hash__()</code>äº†ï¼Œå› ä¸ºå³ä½¿ä½ é‡å†™äº†ä¸€ä¸ªçœ‹ä¼¼ä¸ä¼šæŠ›å¼‚å¸¸çš„<code>__hash__()</code>ï¼Œä½†æ˜¯ç”±äºå¯¹è±¡å¯å˜ï¼Œå®ƒæ€»æ˜¯ä¼šå‡ºé”™ï¼ˆå¯å˜å¯¹è±¡å°±ä¸èƒ½ä½œä¸ºå­—å…¸æˆ–é›†åˆçš„â€œé”®â€ï¼‰ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å­ç±»åŒ–åˆ—è¡¨ï¼Œé‡å†™<code>__eq__()</code>ï¼Œè§„å®šåªè¦æ–°åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ç›¸åŒï¼Œé‚£ä¹ˆä¸¤ä¸ªæ–°åˆ—è¡¨å°±ç›¸åŒï¼ŒåŒæ—¶é‡å†™<code>__hash__()</code>ï¼Œä½¿å®ƒè¿”å›æ–°åˆ—è¡¨ç¬¬ä¸€ä¸ªå…ƒç´ çš„å“ˆå¸Œå€¼ï¼Œè¿™ä¸€è®¾å®šæ˜¯åˆç†çš„ï¼Œå¹¶å‡è®¾æ–°åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ æˆ‘ä»¬æ€»æ˜¯ä½¿å®ƒæ˜¯å¯å“ˆå¸Œçš„ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°åˆ—è¡¨çš„å®ä¾‹<code>a=['muggle']</code>ï¼Œè®¾å¯¹è±¡<code>a</code>çš„å“ˆå¸Œåœ°å€ä¸º<code>addr1</code>ï¼Œå°†å…¶æ·»åŠ åˆ°é›†åˆ<code>s</code>ä¸­ï¼Œäºæ˜¯<code>s={['muggle'],}</code>ï¼Œæˆ‘ä»¬ä¿®æ”¹<code>a</code>çš„ç¬¬ä¸€ä¸ªå…ƒç´ å€¼ä¸º<code>'jingjing'</code>ï¼Œç»“æœå°±æ˜¯<code>addr1</code>åœ°å€ä¸Šå­˜æ”¾çš„å­—ç¬¦ä¸²ä»<code>muggle</code>å˜æˆäº†<code>jingjing</code>ï¼Œç°åœ¨æ–°å»ºä¸€ä¸ªæ–°åˆ—è¡¨å®ä¾‹<code>b=['jingjing']</code>ï¼Œè®¾å¯¹è±¡<code>b</code>çš„å“ˆå¸Œåœ°å€ä¸º<code>addr2</code>ï¼Œä¸”<code>addr1!=addr2</code>ï¼Œå°†<code>b</code>ä¹Ÿæ·»åŠ åˆ°<code>s</code>ä¸­ï¼Œäºæ˜¯<code>s={['jingjing'],['jingjing'],}</code>ï¼Œå¯æ˜¯æ ¹æ®æˆ‘ä»¬çš„<code>__eq__</code>å’Œ<code>__hash__</code>æ–¹æ³•ï¼Œæ˜¾ç„¶æœ‰<code>a==b</code>ä»¥åŠ<code>hash(a)==hash(b)</code>æˆç«‹å•Šï¼Œå³è¿™ä¸¤ä¸ªå¯¹è±¡â€œå®Œå…¨ç›¸åŒâ€ï¼Œè€Œä¸è¯¥åœ¨é›†åˆä¸­é‡å¤å‡ºç°ï¼ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyArray</span>(<span class="params"><span class="built_in">list</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,*args</span>):</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> args:</span><br><span class="line">            self.append(i)</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">set</span>(<span class="params">self,index,value</span>):</span></span><br><span class="line">        self[index]=value</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__hash__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">hash</span>(self[<span class="number">0</span>])</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__eq__</span>(<span class="params">self,other</span>):</span></span><br><span class="line">        <span class="keyword">if</span> self[<span class="number">0</span>]==other[<span class="number">0</span>]:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        </span><br><span class="line">a=MyArray(<span class="string">&#x27;muggle&#x27;</span>)</span><br><span class="line">s=<span class="built_in">set</span>()</span><br><span class="line">s.add(a) <span class="comment">#s=&#123;[&#x27;muggle&#x27;]&#125;</span></span><br><span class="line">a[<span class="number">0</span>]=<span class="string">&#x27;jingjing&#x27;</span> <span class="comment">#&#123;[&#x27;jingjing&#x27;]&#125;</span></span><br><span class="line">b=MyArray(<span class="string">&#x27;jingjing&#x27;</span>)</span><br><span class="line">s.add(b) <span class="comment">#&#123;[&#x27;jingjing&#x27;], [&#x27;jingjing&#x27;]&#125;</span></span><br><span class="line"><span class="built_in">hash</span>(a)==<span class="built_in">hash</span>(b) <span class="comment">#True</span></span><br><span class="line">a==b <span class="comment">#True</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>ç”¨æˆ·è‡ªå®šä¹‰ç±»é»˜è®¤çš„<code>__hash__()</code>å’Œ<code>__eq__()</code>ç»§æ‰¿è‡ªåŸºç±»<code>object</code>ï¼Œå®ƒä»¬éƒ½æ˜¯éå¸¸ä¸¥æ ¼çš„ï¼Œåˆ¤æ–­ä¸¤ä¸ªå®ä¾‹ç›¸ä¸ç›¸åŒæ˜¯æ ¹æ®å”¯ä¸€èº«ä»½æ ‡è¯†<code>id</code>ï¼Œå“ˆå¸Œä¹Ÿæ˜¯å¯¹èº«ä»½æ ‡è¯†è¿›è¡Œå“ˆå¸Œ</p>
</li>
</ol>
<p>å­—å…¸çš„ä½¿ç”¨å’Œä¸€äº›æ³¨æ„ç‚¹ï¼š</p>
<ol>
<li>
<p>Python2ä¸­åˆ¤æ–­æŸä¸ª<code>key</code>æ˜¯å¦å­˜åœ¨å­—å…¸ä¸­å¯ä½¿ç”¨<code>has_key()</code>æ–¹æ³•ï¼Œå¦å¤–ä¸€ç§æ–¹å¼æ˜¯ä½¿ç”¨<code>in</code>å…³é”®å­—ï¼ˆ<code>key in dict</code>ï¼‰ï¼Œæ¨èä½¿ç”¨åè€…ï¼Œå› ä¸º<code>in</code>çš„å¤„ç†é€Ÿåº¦æ›´å¿«ï¼Œå¦ä¸€ä¸ªåŸå› æ˜¯<code>has_key()</code>è¿™ä¸ªæ–¹æ³•åœ¨Python3è¢«ç§»é™¤äº†</p>
</li>
<li>
<p>è·å–å­—å…¸ä¸­æŸä¸ªé”®çš„å€¼ï¼Œä¸¤ç§æ–¹å¼ï¼š<code>dict[key]</code>æˆ–<code>dict.get(key[, default])</code>ï¼Œå‰è€…ç®€ä¾¿ä½†å¦‚æœé”®ä¸å­˜åœ¨ä¼šå¯¼è‡´<code>KeyError</code>å¼‚å¸¸ï¼Œä¸ºäº†é¿å…å¼‚å¸¸ä¸å¾—ä¸å…ˆè¿›è¡Œé”®å­˜åœ¨æ€§çš„åˆ¤æ–­ï¼Œæˆ–è€…æ•æ‰å¼‚å¸¸ï¼Œå¦‚æœä¸æƒ³æ‰‹åŠ¨æ•æ‰å¼‚å¸¸é‚£å°±å­ç±»åŒ–å­—å…¸å¹¶é‡æ–°å®šä¹‰å­—å…¸çš„<code>__missing__()</code>æ–¹æ³•ä»¥é¿å…å¼‚å¸¸çš„æŠ›å‡ºï¼Œè¯¥ç‰¹æ®Šæ–¹æ³•åªæœ‰åœ¨ä½¿ç”¨<code>dict[key]</code>ä¸”<code>key</code>ä¸å­˜åœ¨æ—¶æ‰ä¼šè¢«è°ƒç”¨ã€‚ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨<code>dict.get()</code>æ–¹æ³•ï¼Œé”®ä¸å­˜åœ¨åˆ™è¿”å›<code>None</code>ï¼ˆå¯é€šè¿‡<code>default</code>å‚æ•°ä¿®æ”¹è¯¥é»˜è®¤å€¼ï¼‰ï¼Œä½†å¹¶ä¸ä¼šä¿®æ”¹åº•å±‚æ•°æ®ï¼Œè¿™ä¸åŒäº<code>defaultdict</code>ç±»æˆ–<code>dict.setdefault(key,default)</code>ï¼Œç¤ºä¾‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyDict</span>(<span class="params"><span class="built_in">dict</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__missing__</span>(<span class="params">self,key</span>):</span></span><br><span class="line">        <span class="comment">#self[key]=0 #é€šå¸¸éƒ½ä¼šè¿™ä¹ˆåšï¼Œä¿®æ”¹åº•å±‚æ•°æ®ï¼Œå¦åˆ™å°±æ²¡æœ‰æ„ä¹‰äº†ï¼Œå› ä¸ºè¿˜ä¸å¦‚ç›´æ¥é€šè¿‡dict.get(key,default)è®¾ç½®ç¼ºçœå€¼</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">d=MyDict()</span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> <span class="string">&#x27;11422134431&#x27;</span>: <span class="comment">#è®¡æ•°å™¨</span></span><br><span class="line">    d[k]+=<span class="number">1</span></span><br><span class="line">print(d) <span class="comment">#&#123;&#x27;1&#x27;: 4, &#x27;4&#x27;: 3, &#x27;2&#x27;: 2, &#x27;3&#x27;: 2&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æˆ–è€…ï¼š</span></span><br><span class="line">d=<span class="built_in">dict</span>()</span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> <span class="string">&#x27;11422134431&#x27;</span>:</span><br><span class="line">    d[k]=d.get(k,<span class="number">0</span>)+<span class="number">1</span></span><br><span class="line">print(d) <span class="comment">#&#123;&#x27;1&#x27;: 4, &#x27;4&#x27;: 3, &#x27;2&#x27;: 2, &#x27;3&#x27;: 2&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æˆ–è€…ï¼š</span></span><br><span class="line">d=&#123;&#125;</span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> <span class="string">&#x27;11422134431&#x27;</span>:</span><br><span class="line">    d[k]=d.setdefault(k,<span class="number">0</span>)+<span class="number">1</span> <span class="comment">#setdefault(key,default=None)å’Œget(key,default=None)æ–¹æ³•ç”¨æ³•ç±»ä¼¼ï¼ŒåŒºåˆ«æ˜¯ï¼Œå¦‚æœé”®ä¸å­˜åœ¨äºå­—å…¸ä¸­ï¼Œå°†ä¼šæ·»åŠ é”®å¹¶å°†å€¼è®¾ä¸ºé»˜è®¤å€¼ï¼Œå³ä¼šç›´æ¥ä¿®æ”¹åº•å±‚æ•°æ®ã€‚å¦‚æœå­—å…¸ä¸­åŒ…å«æœ‰ç»™å®šé”®ï¼Œåˆ™è¿”å›é”®æ‰€å¯¹åº”çš„å€¼ï¼Œå¦åˆ™è¿”å›ä¸ºé”®è®¾ç½®çš„defaultå€¼</span></span><br><span class="line">print(d) <span class="comment">#&#123;&#x27;1&#x27;: 4, &#x27;4&#x27;: 3, &#x27;2&#x27;: 2, &#x27;3&#x27;: 2&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æˆ–è€…ï¼š</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line"></span><br><span class="line">d=defaultdict(<span class="built_in">int</span>) <span class="comment">#defaultdictç±»çš„åˆå§‹åŒ–å‡½æ•°æ¥å—ä¸€ä¸ªå·¥å‚å‡½æ•°ä½œä¸ºå‚æ•°ï¼Œä½œç”¨æ˜¯å½“keyä¸å­˜åœ¨æ—¶ï¼Œè¿”å›çš„æ˜¯å·¥å‚å‡½æ•°çš„é»˜è®¤å€¼ï¼Œæ¯”å¦‚listå¯¹åº”[]ï¼Œstrå¯¹åº”çš„æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œsetå¯¹åº”set()ï¼Œintå¯¹åº”0</span></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> <span class="string">&#x27;11422134431&#x27;</span>:</span><br><span class="line">    d[k]+=<span class="number">1</span></span><br><span class="line">print(d) <span class="comment">#defaultdict(&lt;class &#x27;int&#x27;&gt;, &#123;&#x27;1&#x27;: 4, &#x27;4&#x27;: 3, &#x27;2&#x27;: 2, &#x27;3&#x27;: 2&#125;)</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>åˆ›å»ºå­—å…¸çš„å‡ ç§æ–¹å¼ï¼š</p>
<ul>
<li>
<p><code>dict()</code>å®ä¾‹åŒ–å­—å…¸å¯¹è±¡ï¼ˆé»˜è®¤æ— å‚æ•°æ—¶åˆ›å»ºä¸€ä¸ªç©ºå­—å…¸ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å†™<code>d={}</code>ï¼‰ï¼Œå¯ä»¥ä¼ é€’ä»»æ„æ•°é‡çš„å…³é”®å­—å‚æ•°ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªäºŒå…ƒå…ƒç»„åˆ—è¡¨ä»¥åŠä»»æ„æ•°é‡çš„å…³é”®å­—å‚æ•°ï¼Œå†æˆ–è€…æ˜¯ä¸€ä¸ªå­—å…¸å’Œä»»æ„æ•°é‡çš„å…³é”®å­—å‚æ•°</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">dict</span>()</span><br><span class="line">&#123;&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>data=[(<span class="string">&quot;animal&quot;</span>, <span class="string">&quot;bear&quot;</span>),(<span class="string">&quot;animal&quot;</span>, <span class="string">&quot;duck&quot;</span>),(<span class="string">&quot;plant&quot;</span>, <span class="string">&quot;cactus&quot;</span>),(<span class="string">&quot;vehicle&quot;</span>, <span class="string">&quot;speed boat&quot;</span>),(<span class="string">&quot;vehicle&quot;</span>, <span class="string">&quot;school bus&quot;</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">dict</span>(data) <span class="comment">#å¯ä»¥ä¼ å…¥ä¸€ä¸ªäºŒå…ƒå…ƒç»„åˆ—è¡¨ï¼Œå®é™…ä¸Šåªè¦æ˜¯å¯è¿­ä»£çš„å¯¹è±¡ä¸”å¯¹è±¡å…ƒç´ ä¹Ÿæ˜¯å¯è¿­ä»£å¯¹è±¡ä¸”è¿™äº›å…ƒç´ é•¿åº¦ä¸€å¾‹ä¸º2çš„éƒ½å¯ä»¥</span></span><br><span class="line">&#123;<span class="string">&#x27;animal&#x27;</span>: <span class="string">&#x27;duck&#x27;</span>, <span class="string">&#x27;plant&#x27;</span>: <span class="string">&#x27;cactus&#x27;</span>, <span class="string">&#x27;vehicle&#x27;</span>: <span class="string">&#x27;school bus&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">dict</span>(<span class="built_in">zip</span>([<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>],[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])) <span class="comment">#ä½¿ç”¨zipæ„é€ äºŒå…ƒç»„åºåˆ—</span></span><br><span class="line">&#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;c&#x27;</span>: <span class="number">3</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">dict</span>(([<span class="string">&#x27;a&#x27;</span>,<span class="number">1</span>],[<span class="string">&#x27;b&#x27;</span>,<span class="number">2</span>]),c=<span class="number">3</span>) <span class="comment">#å¯ä»¥ä¼ å…¥å…³é”®å­—å‚æ•°</span></span><br><span class="line">&#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;c&#x27;</span>: <span class="number">3</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">dict</span>(&#123;<span class="number">1</span>:<span class="number">2</span>,<span class="number">3</span>:<span class="number">4</span>&#125;,last=<span class="number">6</span>) <span class="comment">#ä¹Ÿå¯ä»¥ä¼ å…¥ä¸€ä¸ªå­—å…¸ï¼Œå®é™…ä¸Šåªè¦æ˜¯mappingç±»å‹éƒ½å¯ä»¥ï¼Œpythonæ ‡å‡†mappingå°±æ˜¯dict</span></span><br><span class="line">&#123;<span class="number">1</span>: <span class="number">2</span>, <span class="number">3</span>: <span class="number">4</span>, <span class="string">&#x27;last&#x27;</span>: <span class="number">6</span>&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>dict.fromkeys(seq[,initial])</code>æ ¹æ®åºåˆ—<code>seq</code>æ„é€ å­—å…¸ï¼Œåˆ—è¡¨ä¸­çš„å…ƒç´ å°†ä½œä¸ºé”®ï¼Œéœ€å¦å¤–æŒ‡å®šåˆå§‹å€¼<code>initial</code>ï¼Œè‹¥æœªæŒ‡å®šåˆ™å€¼å…¨éƒ¨ä¸º<code>None</code>ï¼Œ<code>fromkeys()</code>å®Œå…¨å¯ä»¥ç”¨å­—å…¸ç”Ÿæˆå¼å®ç°</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d=[<span class="string">&#x27;first&#x27;</span>,<span class="string">&#x27;second&#x27;</span>,<span class="string">&#x27;third&#x27;</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">dict</span>.fromkeys(d,<span class="number">8</span>)</span><br><span class="line">&#123;<span class="string">&#x27;first&#x27;</span>: <span class="number">8</span>, <span class="string">&#x27;second&#x27;</span>: <span class="number">8</span>, <span class="string">&#x27;third&#x27;</span>: <span class="number">8</span>&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>å­—å…¸ç”Ÿæˆå¼ï¼Œç°åœ¨æœ‰ä¸¤ä¸ªåºåˆ—ï¼Œåˆ†åˆ«ä¸ºä¸€ä¸€å¯¹åº”çš„é”®å€¼åºåˆ—ï¼Œå°†å…¶ç»„è£…ä¸ºå­—å…¸ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=[<span class="string">&#x27;first&#x27;</span>,<span class="string">&#x27;second&#x27;</span>,<span class="string">&#x27;third&#x27;</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d=&#123;k:v <span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">zip</span>(a,b)&#125; <span class="comment">#forå­å¥ä¸­æœ‰ä¸€ä¸ªå˜é‡è§£æ„æ“ä½œ</span></span><br><span class="line">&#123;<span class="string">&#x27;first&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;second&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;third&#x27;</span>: <span class="number">3</span>&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>å­—å…¸æ›´æ–°</p>
<ul>
<li>
<p><code>d.update(other_d)</code>ï¼Œç”¨å¦ä¸€ä¸ªå­—å…¸<code>other_d</code>æ›´æ–°åŸå­—å…¸<code>d</code>ï¼Œå¯¹äºåŸå­—å…¸ä¸­ä¸å­˜åœ¨çš„é”®å€¼å¯¹ç›´æ¥å¢æ·»ï¼Œè‹¥å­˜åœ¨ï¼Œåˆ™æ›´æ–°æ—§å€¼ä¸ºæ–°å€¼</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d=&#123;<span class="string">&#x27;1&#x27;</span>:<span class="number">1</span>,<span class="string">&#x27;2&#x27;</span>:<span class="number">2</span>,<span class="string">&#x27;3&#x27;</span>:<span class="number">3</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.update(&#123;<span class="string">&#x27;1&#x27;</span>:<span class="number">11</span>,<span class="string">&#x27;4&#x27;</span>:<span class="number">4</span>,<span class="string">&#x27;5&#x27;</span>:<span class="number">5</span>&#125;)</span><br><span class="line">&#123;<span class="string">&#x27;1&#x27;</span>: <span class="number">11</span>, <span class="string">&#x27;2&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;3&#x27;</span>: <span class="number">3</span>, <span class="string">&#x27;4&#x27;</span>: <span class="number">4</span>, <span class="string">&#x27;5&#x27;</span>: <span class="number">5</span>&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>d[key]=value</code>æ–¹å¼ç”¨äºæ·»åŠ ä¸€ä¸ªæ–°çš„é”®å€¼å¯¹æˆ–è€…æ›´æ–°æŸä¸ªé”®çš„æ—§å€¼</p>
</li>
</ul>
</li>
<li>
<p>å­—å…¸å…ƒç´ åˆ é™¤</p>
<ul>
<li>
<p>ä½¿ç”¨<code>d.pop(key[,default])</code>åˆ é™¤é”®å€¼å¯¹ï¼Œå¯ä»¥æŒ‡å®šé»˜è®¤çš„è¿”å›å€¼ï¼Œå¯ä»¥é¿å…ç”±äºé”®ä¸å­˜åœ¨è€Œå¯¼è‡´çš„<code>KeyError</code>ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;c&#x27;</span>: <span class="number">3</span>, <span class="string">&#x27;d&#x27;</span>: <span class="number">4</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.pop(<span class="string">&#x27;e&#x27;</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">KeyError: <span class="string">&#x27;e&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.pop(<span class="string">&#x27;e&#x27;</span>,<span class="literal">None</span>)</span><br><span class="line"><span class="literal">None</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p><code>popitem()</code>è¿”å›å¹¶åˆ é™¤å­—å…¸ä¸­çš„æœ€åä¸€å¯¹é”®å’Œå€¼ï¼ˆè¿™é‡Œæ²¡ææ‡‚ï¼Œæœ€åä¸€å¯¹é”®å€¼æ˜¯æ€ä¹ˆç¡®å®šçš„ï¼Ÿï¼‰ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;c&#x27;</span>: <span class="number">3</span>, <span class="string">&#x27;d&#x27;</span>: <span class="number">4</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d.popitem()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d</span><br><span class="line">&#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;c&#x27;</span>: <span class="number">3</span>&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>ä½¿ç”¨<code>del</code>æ‰§è¡Œåˆ é™¤ï¼Œæ—¢å¯ä»¥åˆ é™¤æ•´ä¸ªå­—å…¸ï¼Œä¹Ÿå¯ä»¥åˆ é™¤å­—å…¸çš„æŸä¸ªé”®å€¼å¯¹ï¼Œå¦‚æœåˆ é™¤çš„é”®ä¸å­˜åœ¨ï¼Œåˆ™ä¼šæŠ¥é”™</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;c&#x27;</span>: <span class="number">3</span>, <span class="string">&#x27;d&#x27;</span>: <span class="number">4</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">del</span> d[<span class="string">&#x27;a&#x27;</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">del</span> d</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>å­—å…¸éå†<br>
<code>d.keys()</code>ã€<code>d.values()</code>ã€<code>d.items()</code>ï¼Œå…¶ä¸­<code>items()</code>å¤šç”¨äº<code>for</code>å¾ªç¯éå†ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> d.items():</span><br><span class="line">    print(k,v)</span><br></pre></td></tr></table></figure>
<p>äº‹å®ä¸Šï¼Œå­—å…¸æœ¬èº«ä¹Ÿæ˜¯å¯è¿­ä»£å¯¹è±¡ï¼Œä¸”è¿­ä»£å­—å…¸å¯¹è±¡ç­‰åŒäºè¿­ä»£å­—å…¸çš„é”®åºåˆ—ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>d=&#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>,<span class="string">&#x27;b&#x27;</span>:<span class="number">2</span>,<span class="string">&#x27;c&#x27;</span>:<span class="number">3</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[k <span class="keyword">for</span> k <span class="keyword">in</span> d]</span><br><span class="line">[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br></pre></td></tr></table></figure>
</li>
</ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="dytab1-2-2"><p>å’Œå­—å…¸ä¸€æ ·ï¼Œé›†åˆè™½ç„¶å¯ä»¥è¿­ä»£ï¼Œä½†å®ƒä»¬éƒ½æ˜¯æ— åºçš„ï¼Œä¸æ”¯æŒåˆ‡ç‰‡å’Œindexï¼ˆæ•°å€¼ä¸‹æ ‡ï¼‰ç´¢å¼•ï¼ˆè™½ç„¶é›†åˆä¸å±äºâ€œæ˜ å°„ç±»å‹â€ï¼Œä½†ç”±äºéƒ½æ˜¯åŸºäºæ•£åˆ—è¡¨å®ç°ï¼Œæ‰€ä»¥æ”¾åœ¨ä¸€èµ·æè¿°ï¼‰</p>
<ul><li>åˆ›å»ºé›†åˆ<br>
  <ol><li>åˆ›å»ºä¸€ä¸ªç©ºé›†åˆï¼š<br>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">set</span>()</span><br><span class="line">&#123;&#125;</span><br></pre></td></tr></table></figure>
  <li>ä½¿ç”¨ç°æœ‰æ•°æ®åˆå§‹åŒ–ä¸€ä¸ªé›†åˆï¼Œ<code>set(iterable)</code>æ„é€ æ–¹æ³•æ¥å—ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œå¦‚åˆ—è¡¨ï¼š<br>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;</span><br></pre></td></tr></table></figure>
  </li>
  </ol>
</li>
<li>æŸ¥è¯¢é›†åˆ<br>
  é›†åˆæ˜¯æ— åºå®¹å™¨ï¼Œä¸èƒ½é€šè¿‡ä¸‹æ ‡ç´¢å¼•å…ƒç´ ï¼Œåªèƒ½éå†ï¼š
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> e <span class="keyword">in</span> <span class="built_in">set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]):</span><br><span class="line">    print(e)</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨<code>in</code>æˆ–<code>not in</code>æ£€æŸ¥æŸä¸€å…ƒç´ æ˜¯å¦å­˜åœ¨äºé›†åˆä¸­ï¼š</p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">1</span> <span class="keyword">in</span> <span class="built_in">set</span>([<span class="number">1</span>,<span class="number">2</span>])</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>
</li>
<li>æ·»åŠ å…ƒç´ <br>
  <ol><li><code>add(item)</code>å‘é›†åˆä¸­æ·»åŠ å•é¡¹å…ƒç´ ï¼š<br>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s=<span class="built_in">set</span>()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.add(<span class="string">&#x27;msy&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s</span><br><span class="line">&#123;<span class="string">&#x27;msy&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>
<p>æ³¨ï¼šé‰´äºé›†åˆçš„åŸç†ï¼ˆæ•£åˆ—è¡¨ï¼‰ï¼Œå‘é›†åˆä¸­æ·»åŠ çš„å…ƒç´ æ—¢æ˜¯valueåˆæ˜¯keyï¼Œå› æ­¤æ·»åŠ çš„å…ƒç´ å¿…é¡»æ˜¯å¯å“ˆå¸Œçš„ï¼Œå³é›†åˆå…ƒç´ å¿…é¡»æ˜¯ä¸å¯å˜ç±»å‹</p>
  </li>
  <li><code>update(iterable)</code>ä½¿ç”¨ä¸€ç³»åˆ—å…ƒç´ ï¼ˆå¯è¿­ä»£åºåˆ—ï¼‰æ›´æ–°é›†åˆï¼ˆ<code>s1.update(s2)</code>ç­‰åŒäºâ€œå¹¶é›†â€æ“ä½œ<code>s1|=s2</code>ï¼‰ï¼š<br>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s=&#123;<span class="number">12</span>,<span class="number">13</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.update([<span class="string">&#x27;muggle&#x27;</span>,<span class="number">101</span>,<span class="string">&#x27;msy&#x27;</span>])</span><br><span class="line">&#123;<span class="string">&#x27;muggle&#x27;</span>, <span class="number">101</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="string">&#x27;msy&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>
  </li></ol>
</li>
<li>åˆ é™¤å…ƒç´ <br>
  <ol><li><code>remove(item)</code>ä»é›†åˆä¸­åˆ é™¤å…ƒç´ <code>item</code>ï¼Œæ— è¿”å›å€¼ï¼Œå¦‚æœå…ƒç´ ä¸å­˜åœ¨åˆ™å¼•å‘<code>keyError</code>ï¼š<br>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s=&#123;<span class="string">&#x27;msy&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.remove(<span class="string">&#x27;msy&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.remove(<span class="string">&#x27;msy&#x27;</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">KeyError: <span class="string">&#x27;msy&#x27;</span></span><br></pre></td></tr></table></figure>
  </li>
  <li><code>discard(item)</code>åŒ<code>remove(item)</code>ï¼Œä½†æ˜¯å…ƒç´ ä¸å­˜åœ¨æ—¶ä¸ä¼šå¼•å‘å¼‚å¸¸</li>
  <li><code>pop()</code>ä»é›†åˆä¸­éšæœºåˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼Œç”±äºé›†åˆæ˜¯æ— åºçš„å®¹å™¨ï¼Œæ— æ³•é€šè¿‡ä¸‹æ ‡ç´¢å¼•æŸ¥è¯¢å…ƒç´ ï¼Œå› æ­¤<code>pop()</code>ä¸æ¥å—ä»»ä½•å‚æ•°ï¼ˆå¯å¯¹æ¯”åˆ—è¡¨çš„<code>pop()</code>æ–¹æ³•ï¼‰ï¼Œè¯¥æ–¹æ³•ä¼šè¿”å›è¢«ï¼ˆæŸç§ç¨‹åº¦å¯ä»¥è®¤ä¸ºæ˜¯â€œéšæœºâ€ï¼‰åˆ é™¤çš„å…ƒç´ ï¼š<br>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s=<span class="built_in">set</span>()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.update(<span class="string">&#x27;1a2b3c4d&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s</span><br><span class="line">&#123;<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.pop()</span><br><span class="line"><span class="string">&#x27;a&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s.pop()</span><br><span class="line"><span class="string">&#x27;c&#x27;</span></span><br></pre></td></tr></table></figure>
  </li>
  <li><code>clear()</code>åˆ é™¤é›†åˆä¸­çš„å…¨éƒ¨å…ƒç´ ï¼Œæ— è¿”å›å€¼</li>
  </ol>
</li>
<li>äº¤å¹¶é›†æ•°å­¦è¿ç®—ï¼ˆéåŸå€ï¼‰<br>
  <ol><li><code>s1.intersection(s2)</code>è¿”å›é›†åˆ<code>s1</code>å’Œ<code>s2</code>çš„äº¤é›†ï¼Œè¯¥æ“ä½œå¯¹åº”çš„è¿ç®—ç¬¦ä¸º<code>s1 & s2</code>ï¼š<br>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1=<span class="built_in">set</span>([<span class="number">1</span>,<span class="number">2</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s2=<span class="built_in">set</span>([<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1.intersection(s2)</span><br><span class="line">&#123;<span class="number">2</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1 &amp; s2</span><br><span class="line">&#123;<span class="number">2</span>&#125;</span><br></pre></td></tr></table></figure>
  </li>
  <li><code>s1.union(s2)</code>è¿”å›é›†åˆ<code>s1</code>å’Œ<code>s2</code>çš„å¹¶é›†ï¼Œè¯¥æ“ä½œå¯¹åº”çš„è¿ç®—ç¬¦ä¸º<code>s1 | s2</code>ï¼š<br>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1=<span class="built_in">set</span>([<span class="number">1</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s2=<span class="built_in">set</span>([<span class="number">2</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1.union(s2)</span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1 | s2</span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>&#125;</span><br></pre></td></tr></table></figure>
  </li>
  <li><code>s1.difference(s2)</code>è¿”å›é›†åˆ<code>s1</code>å’Œ<code>s2</code>çš„å·®é›†ï¼ˆç®€å•æ¥è¯´å°±æ˜¯è¿”å›é›†åˆ<code>s1</code>ä¸­æœ‰çš„è€Œé›†åˆ<code>s2</code>ä¸­æ‰€æ²¡æœ‰çš„é‚£äº›å…ƒç´ ï¼‰ï¼Œè¯¥æ“ä½œå¯¹åº”çš„è¿ç®—ç¬¦ä¸º<code>s1 - s2</code>ï¼š<br>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1=<span class="built_in">set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s2=<span class="built_in">set</span>([<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1.difference(s2)</span><br><span class="line">&#123;<span class="number">1</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1 - s2</span><br><span class="line">&#123;<span class="number">1</span>&#125;</span><br></pre></td></tr></table></figure>
  </li>
  <li><code>s1.symmetric_difference(s2)</code>è¿”å›é›†åˆ<code>s1</code>å’Œ<code>s2</code>çš„å¯¹ç§°å·®é›†ï¼ˆç®€å•è¯´å°±æ˜¯è¿”å›é›†åˆ<code>s1</code>ä¸­æœ‰çš„è€Œé›†åˆ<code>s2</code>ä¸­æ‰€æ²¡æœ‰çš„ï¼Œä»¥åŠé›†åˆ<code>s2</code>ä¸­æœ‰çš„è€Œé›†åˆ<code>s1</code>ä¸­æ‰€æ²¡æœ‰çš„é‚£äº›å…ƒç´ ï¼Œç­‰åŒäº<code>(s1-s2) | (s2-s1)</code>ï¼‰ï¼Œè¯¥æ“ä½œå¯¹åº”çš„è¿ç®—ç¬¦ä¸º<code>s1 ^ s2</code>ï¼š<br>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1=<span class="built_in">set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s2=<span class="built_in">set</span>([<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1.symmetric_difference(s2)</span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">4</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1 ^ s2</span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">4</span>&#125;</span><br></pre></td></tr></table></figure>
  </li>
  </ol>
  æ³¨1ï¼Œå¹¶é›†ã€äº¤é›†ã€å·®é›†å’Œå¯¹ç§°å·®é›†çš„éè¿ç®—ç¬¦ç‰ˆæœ¬ï¼ˆnon-operatorï¼Œå¦‚<code>s1.union(s2)</code>ï¼‰å…è®¸æ¥å—ä»»ä½•å¯è¿­ä»£å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œä½†å®ƒä»¬çš„è¿ç®—ç¬¦ç‰ˆæœ¬è¦æ±‚æ“ä½œæ•°å¿…é¡»éƒ½æ˜¯é›†åˆç±»å‹ï¼š
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">set</span>([<span class="number">1</span>]).union([<span class="number">2</span>]) <span class="comment">#åˆæ³•</span></span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">set</span>([<span class="number">1</span>]) | [<span class="number">2</span>] <span class="comment">#éæ³•</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">TypeError: unsupported operand <span class="built_in">type</span>(s) <span class="keyword">for</span> |: <span class="string">&#x27;set&#x27;</span> <span class="keyword">and</span> <span class="string">&#x27;list&#x27;</span></span><br></pre></td></tr></table></figure>
<p>æ³¨2ï¼Œæˆ‘ä»¬çŸ¥é“åœ¨æ‰§è¡Œ<code>s1-s2</code>çš„æ—¶å€™ï¼Œå°†è§¦å‘æ‰§è¡Œ<code>s1.difference(s2)</code>ï¼Œä½†æ“ä½œæ‰§è¡Œå®Œæ¯•å<code>s1</code>çš„å€¼ä»ä¿æŒä¸å˜ï¼Œå±äºéåŸå€æ“ä½œï¼ŒåŒæ ·<code>-=</code>è¿ç®—ç¬¦ä¹Ÿé€‚ç”¨äºä¸¤ä¸ªé›†åˆå¯¹è±¡ï¼Œåœ¨è®¡ç®—å·®é›†ä¹‹åä¼šç«‹å³æ›´æ–°ç¬¬ä¸€ä¸ªæ“ä½œæ•°ï¼ˆå³å®Œæˆä¸¤ä¸ªæ­¥éª¤ï¼š<code>t=s1-s2; s1=t</code>ï¼‰ï¼Œå±äºåŸå€æ“ä½œï¼Œè€Œå®ƒå®é™…ä¸Šå°†è§¦å‘æ‰§è¡Œ<code>s1.difference_update(s2)</code>ï¼š</p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1=<span class="built_in">set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s2=<span class="built_in">set</span>([<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1-s2</span><br><span class="line">&#123;<span class="number">1</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1.difference_update(s2) <span class="comment">#s1-=s2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1</span><br><span class="line">&#123;<span class="number">1</span>&#125;</span><br></pre></td></tr></table></figure>
<p>å…¶å®ƒåŸå€æ“ä½œï¼š</p>
  <ul><li><code>s1.intersection_update(s2)</code>äº¤é›†æ›´æ–°æ“ä½œï¼Œå¯¹åº”è¿ç®—ç¬¦ä¸º<code>s1 &= s2</code></li>
  <li><code>s1.update(s2)</code>å¹¶é›†æ›´æ–°æ“ä½œï¼Œå¯¹åº”è¿ç®—ç¬¦ä¸º<code>s1 |= s2</code></li>
  <li><code>s1.symmetric_difference_update(s2)</code>å¯¹ç§°å·®é›†æ›´æ–°æ“ä½œï¼Œå¯¹åº”è¿ç®—ç¬¦ä¸º<code>s1 ^= s2</code></li>
  </ul>
</li>
<li>çˆ¶é›†å’Œå­é›†åˆ¤æ–­<br>
 <ol>
 <li><code>s1.issubset(s2)</code>åˆ¤æ–­é›†åˆ<code>s1</code>æ˜¯å¦æ˜¯é›†åˆ<code>s2</code>çš„å­é›†ï¼Œå¯¹åº”è¿ç®—ç¬¦ä¸º<code>s1 <= s2</code>ï¼š<br>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1=<span class="built_in">set</span>([<span class="number">1</span>,<span class="number">2</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s2=<span class="built_in">set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1.issubset(s2)</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s1 &lt;= s2</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>
 </li>
 <li><code>s1.issuperset(s2)</code>åˆ¤æ–­é›†åˆ<code>s1</code>æ˜¯å¦æ˜¯é›†åˆ<code>s2</code>çš„çˆ¶é›†ï¼Œå¯¹åº”è¿ç®—ç¬¦ä¸º<code>s1 >= s2</code>ï¼š<br>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s2.issuperset(s1)</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s2 &gt;= s1</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>
 </li>
 </ol>
æ³¨ï¼Œä¸¤ä¸ªé›†åˆåªæœ‰åœ¨è¿™ç§æƒ…å†µä¸‹æ˜¯ç›¸ç­‰ï¼ˆ<code>s1 == s2</code>ï¼Œä¸ç­‰å…³ç³»æµ‹è¯•åˆ™ä½¿ç”¨<code>!=</code>ï¼‰çš„ï¼šé›†åˆä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ åŒæ—¶ä¹Ÿæ˜¯å¦ä¸€ä¸ªé›†åˆä¸­çš„å…ƒç´ ï¼ˆæˆ–è€…è¯´äºŒè€…äº’ä¸ºå­é›†ï¼‰ã€‚ä¸€ä¸ªé›†åˆæ¯”å¦ä¸€ä¸ªé›†åˆå°ï¼ˆ<code>s1 < s2</code>ï¼Œç”¨äºä¸¥æ ¼æ„ä¹‰ä¸Šçš„å­é›†æµ‹è¯•ï¼‰ï¼šåªæœ‰åœ¨ç¬¬ä¸€ä¸ªé›†åˆæ˜¯ç¬¬äºŒä¸ªé›†åˆçš„å­é›†ï¼Œä¸”ç¬¬äºŒä¸ªé›†åˆä¸æ˜¯ç¬¬ä¸€ä¸ªçš„å­é›†æ—¶æˆç«‹ã€‚ä¸€ä¸ªé›†åˆæ¯”å¦ä¸€ä¸ªé›†åˆå¤§ï¼ˆ<code>s1 > s2</code>ï¼‰ï¼šåªæœ‰åœ¨ç¬¬äºŒä¸ªé›†åˆæ˜¯ç¬¬ä¸€ä¸ªé›†åˆçš„å­é›†ï¼Œä¸”ç¬¬ä¸€ä¸ªé›†åˆä¸æ˜¯ç¬¬äºŒä¸ªçš„å­é›†æ—¶æˆç«‹
</li>
<li>â€œå†°å†»â€é›†åˆ<br>
Pythonæä¾›ä¸€ä¸ªé›†åˆçš„ä¸å¯å˜ç‰ˆæœ¬<code>frozenset</code>ï¼Œåˆ›å»ºçš„æ–¹å¼åŒ<code>set</code>ï¼Œè­¬å¦‚ï¼š
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>fs=<span class="built_in">frozenset</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br></pre></td></tr></table></figure>
<p>ä¸¤è€…çš„åŒºåˆ«ä¸»è¦åœ¨äºï¼Œ<code>set</code>æ˜¯å¯å˜å¯¹è±¡ï¼Œä¸å¯å“ˆå¸Œï¼Œæœ‰<code>add()</code>ã€<code>remove()</code>ç­‰æ–¹æ³•ï¼Œ<code>frozenset</code>åˆ™æ˜¯ä¸å¯å˜çš„ï¼Œå­˜åœ¨å“ˆå¸Œå€¼ï¼Œå› æ­¤å®ƒå¯ä»¥ä½œä¸ºå­—å…¸çš„é”®ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå…¶å®ƒé›†åˆçš„å…ƒç´ ï¼Œç¼ºç‚¹æ˜¯ä¸€æ—¦åˆ›å»ºä¾¿ä¸èƒ½æ›´æ”¹ï¼Œæ²¡æœ‰<code>add()</code>ã€<code>remove()</code>ç­‰æ–¹æ³•ï¼Œä½†æ˜¯å’Œæ™®é€šé›†åˆä¸€æ ·ï¼Œæ”¯æŒ<code>union()</code>ã€<code>difference()</code>ç­‰äº¤å¹¶è¿ç®—ä»¥åŠ<code>issubset()</code>ç­‰å…³ç³»è¿ç®—</p>
<p>æ™®é€šé›†åˆå’Œå†°å†»é›†åˆå¯ä»¥æ··ç”¨ï¼Œç”¨äºäº¤å¹¶è¿ç®—æ—¶ï¼Œç¬¬ä¸€ä¸ªæ“ä½œæ•°çš„ç±»å‹è¿˜å†³å®šäº†è¿”å›å€¼çš„ç±»å‹ï¼Œè­¬å¦‚ç¬¬ä¸€ä¸ªæ“ä½œæ•°æ˜¯<code>frozenset</code>ï¼Œç¬¬äºŒä¸ªæ˜¯<code>set</code>ï¼Œé‚£ä¹ˆè¿”å›å€¼å°±æ˜¯<code>frozenset</code>ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">frozenset</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])-<span class="built_in">set</span>([<span class="number">1</span>])</span><br><span class="line"><span class="built_in">frozenset</span>(&#123;<span class="number">2</span>, <span class="number">3</span>&#125;)</span><br></pre></td></tr></table></figure>
<p><code>collections</code>æ¨¡å—æä¾›äº†ä¸¤ä¸ªé›†åˆç±»å‹ï¼Œ<code>Set</code>å’Œ<code>MutableSet</code>ï¼Œåè€…ç”¨äºåˆ¤æ–­æ˜¯å¦æ˜¯å¯å˜é›†åˆ</p>
</li>
</ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>
<br>
<style>
#dy-coffee-donate{
    z-index: 1 !important; /*ä¿®å¤è¯¥éƒ¨ä»¶é®æŒ¡live2dçš„é—®é¢˜ï¼Œæ‡’å¾—æ”¹donate.cssï¼Œå§‘ä¸”å°±å†™åœ¨è¿™*/
}
</style>
<link rel="stylesheet" href="https://cdn.staticaly.com/gh/celestezj/ImageHosting/v3.6/data/donate/donate.css">
<div id="dy-coffee-donate" style="position:relative;width:317px;height:98px;left:calc(50% - 159px)">
    <a id="donategithub" href="https://github.com/Kaiyuan/sponsor-page" rel="external nofollow noreferrer" target="_blank" title="Github" style="position:absolute"></a>
	<div id="DonateText" class="donatetr3"><span title="è¯·å‹¿è½»ä¿¡ï¼Œä»…ä½œç¤ºèŒƒä½¿ç”¨">Sponsor</span></div>
	<ul id="donateBox" class="donatelist donate-pos-f donatetr3">
		<li id="PayPal"><a href="javascript:void(0)" rel="external nofollow noreferrer" title="æš‚æœªå¼€é€š">PayPal</a></li><!-- target="_blank" -->
        <li id="BTC"></li>
		<li id="AliPay">AliPay</li>
		<li id="DonateWeChat">WeChat</li>
	</ul>
	<div id="QRBox" class="donate-pos-f donate-left-100">
	<div id="DonateMainBox"></div></div>
</div>
<script src="https://cdn.staticaly.com/gh/celestezj/ImageHosting/v3.6/data/donate/donate.js"></script>
<div class="tip fas fa-quote-left"><p>[1] <a href="https://pan.baidu.com/s/17r__wNMxIXTMWhglf3wyuw" rel="external nofollow noreferrer" title="å¯†ç ï¼š1y2r" target="_blank"><span style="color:red">Pythonå‚è€ƒæ‰‹å†Œ</span> ç¬¬4ç‰ˆ ä¿®è®¢ç‰ˆ [ç¾] å¤§å«Â·M.æ¯”å…¹åˆ©ï¼ˆDavid M.Beazleyï¼‰è‘—ï¼Œè°¢ä¿Šï¼Œæ¨è¶Šï¼Œé«˜ä¼Ÿ è¯‘</a><br>
[2] <a href="https://blog.csdn.net/sunxb10/article/details/81036693" rel="external nofollow noreferrer" target="_blank">Formatted string literals è¯¦è§£</a><br>
[3] <a href="https://www.zhihu.com/question/38791962" rel="external nofollow noreferrer" target="_blank">çŸ¥ä¹ Pythonçš„typeå’Œobjectä¹‹é—´æ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿ</a><br>
[4] <a href="http://python.jobbole.com/86258/" rel="external nofollow noreferrer" target="_blank">å¯è¿­ä»£å¯¹è±¡å’Œè¿­ä»£å™¨</a></p>
</div></article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>PythonåŸºç¡€ - ç±»å‹å’Œå¯¹è±¡</h></span></div><div class="post-copyright__type"><span class="post-copyright-info" id="post-copyright-url"><a href="https://muggledy.top/posts/5311/">https://muggledy.top/posts/5311/</a></span><span>&nbsp;&nbsp;</span><span class="cursorpointer" id="post-url-copyer" onclick="copy_post_url()"><i class="fas fa-paste copy-button"></i></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>ä½œè€…</h><div class="post-copyright-cc-info"><h>Muggledy</h></div></div><div class="post-copyright-c"><h>å‘å¸ƒäº</h><div class="post-copyright-cc-info"><h>2021-04-24</h></div></div><div class="post-copyright-u"><h>æ›´æ–°äº</h><div class="post-copyright-cc-info"><h>2021-05-01</h></div></div><div class="post-copyright-c"><h>è®¸å¯åè®®</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener external nofollow noreferrer" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener external nofollow noreferrer" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div><div class="post-copyright__note"><span class="post-copyright-info"><h>è½¬è½½æˆ–å€Ÿé‰´è¯·æ³¨æ˜åšå®¢æ¥æºå™¢ï¼</h></span></div></div><script>function copy_post_url(){
  event.stopPropagation();
  var post_copyright_url = document.getElementById("post-copyright-url");
  window.getSelection().selectAllChildren(post_copyright_url);
  document.execCommand("Copy");
}</script><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Python/">Python</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.staticaly.com/gh/celestezj/Mirror1ImageHosting/master/compress/zjandxiong.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://unpkg.com/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://unpkg.com/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="relatedPosts"><div class="headline"><i class="fas fa-bookmark fa-fw"></i><span> ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/posts/22901/" title="ç±»æ˜¯åˆ›å»ºæ–°å¯¹è±¡ç±»å‹çš„æœºåˆ¶ï¼Œå½“è§£å†³ä¸€ä¸ªé—®é¢˜çš„æ—¶å€™ï¼Œé¢å‘å¯¹è±¡ä¼šæŠŠäº‹ç‰©æŠ½è±¡æˆå¯¹è±¡çš„æ¦‚å¿µ
ï¼Œå°±æ˜¯è¯´è¿™ä¸ªé—®é¢˜é‡Œé¢æœ‰å“ªäº›å¯¹è±¡ï¼Œç„¶åç»™å¯¹è±¡èµ‹ä¸€äº›å±æ€§å’Œæ–¹æ³•ï¼Œç„¶åè®©æ¯ä¸ªå¯¹è±¡å»æ‰§è¡Œ
è‡ªå·±çš„æ–¹æ³•ï¼Œé—®é¢˜å¾—åˆ°è§£å†³..."><img class="cover" src="https://cdn.staticaly.com/gh/celestezj/Mirror1ImageHosting/master/compress/bingguo.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-05-01</div><div class="title">PythonåŸºç¡€ - é¢å‘å¯¹è±¡ç¼–ç¨‹</div></div></a></div><div><a href="/posts/176/" title="ä»‹ç»pythonç¨‹åºç»“æ„ä¸æ§åˆ¶æµï¼ŒåŒæ—¶ä¸ºäº†æ›´å¥½åœ°å®ç°æ¨¡å—åŒ–ï¼Œä¼šå°†å®ç°æŒ‡å®šåŠŸèƒ½çš„ç¨‹
åºå°è£…ä¸ºå‡½æ•°..."><img class="cover" src="https://cdn.staticaly.com/gh/celestezj/Mirror1ImageHosting/master/compress/index0.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-04-27</div><div class="title">PythonåŸºç¡€ - ç¨‹åºç»“æ„ä¸å‡½æ•°ç¼–ç¨‹</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div><div id="comment-switch"><span class="first-comment">Valine</span><span class="switch-btn"></span><span class="second-comment">Gitalk</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://cdn.staticaly.com/gh/celestezj/Mirror1ImageHosting/master/compress/blogavatar.webp" onerror="this.onerror=null;this.src='https://cdn.staticaly.com/gh/celestezj/ImageHosting/master/img/20210328224511.gif'" alt="avatar"/><div class="author-info__name">Muggledy</div><div class="author-info__description">å­¤ç­é‡æ´‹</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">6</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">3</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">6</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/muggledy"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/muggledy" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://cdn.staticaly.com/gh/celestezj/Mirror1ImageHosting/master/img/qrcode_web.archive.org.png" rel="external nofollow noreferrer" target="_blank" title="WeChat"><i class="fab fa-weixin"></i></a><a class="social-icon" href="mailto:zgjsycfndy2015@163.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="http://wpa.qq.com/msgrd?v=3&amp;uin=3101266674&amp;site=qq&amp;menu=yes" rel="external nofollow noreferrer" target="_blank" title="QQ"><i class="fab fa-qq"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><a href="/note/"><i class="fas fa-bullhorn card-announcement-animation"></i><span>å…¬å‘Š</span></a><div class="announcement_content">æœ¬äººçš„æ›´æ–°æ˜¯ææ…¢çš„~<!--<br>å»ºè®®<a href="https://vpnforchina.github.io/" rel="external nofollow noreferrer" target="_blank"><i class="fas fa-external-link-alt"></i>ç§‘å­¦ä¸Šç½‘</a>ä»¥æ­£å¸¸è®¿é—®æœ¬ç«™æ•°æ®--><br>Vercelé•œåƒç«™ï¼š<a href="https://vercel.muggledy.top" rel="external nofollow noreferrer" target="_blank">https://vercel.muggledy.top</a></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E8%BA%AB%E4%BB%BD%E4%B8%8E%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.</span> <span class="toc-text">å¯¹è±¡çš„èº«ä»½ä¸ç±»å‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.</span> <span class="toc-text">ç±»å‹çš„ç±»å‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%BC%95%E7%94%A8%E4%B8%8E%E5%A4%8D%E5%88%B6"><span class="toc-number">3.</span> <span class="toc-text">å¯¹è±¡çš„å¼•ç”¨ä¸å¤åˆ¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">4.</span> <span class="toc-text">åŸºç¡€æ•°æ®ç±»å‹</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/35908/" title="Pytorchå…¥é—¨æ•™ç¨‹"><img src="https://cdn.staticaly.com/gh/celestezj/Mirror1ImageHosting/master/compress/demoX3.webp" onerror="this.onerror=null;this.src='https://cdn.staticaly.com/gh/celestezj/ImageHosting/master/img/20210328224519.jpg'" alt="Pytorchå…¥é—¨æ•™ç¨‹"/></a><div class="content"><a class="title" href="/posts/35908/" title="Pytorchå…¥é—¨æ•™ç¨‹">Pytorchå…¥é—¨æ•™ç¨‹</a><time datetime="2021-06-08T01:39:12.000Z" title="å‘è¡¨äº 2021-06-08 09:39:12">2021-06-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/22901/" title="PythonåŸºç¡€ - é¢å‘å¯¹è±¡ç¼–ç¨‹"><img src="https://cdn.staticaly.com/gh/celestezj/Mirror1ImageHosting/master/compress/bingguo.webp" onerror="this.onerror=null;this.src='https://cdn.staticaly.com/gh/celestezj/ImageHosting/master/img/20210328224519.jpg'" alt="PythonåŸºç¡€ - é¢å‘å¯¹è±¡ç¼–ç¨‹"/></a><div class="content"><a class="title" href="/posts/22901/" title="PythonåŸºç¡€ - é¢å‘å¯¹è±¡ç¼–ç¨‹">PythonåŸºç¡€ - é¢å‘å¯¹è±¡ç¼–ç¨‹</a><time datetime="2021-05-01T13:05:41.000Z" title="å‘è¡¨äº 2021-05-01 21:05:41">2021-05-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/176/" title="PythonåŸºç¡€ - ç¨‹åºç»“æ„ä¸å‡½æ•°ç¼–ç¨‹"><img src="https://cdn.staticaly.com/gh/celestezj/Mirror1ImageHosting/master/compress/index0.webp" onerror="this.onerror=null;this.src='https://cdn.staticaly.com/gh/celestezj/ImageHosting/master/img/20210328224519.jpg'" alt="PythonåŸºç¡€ - ç¨‹åºç»“æ„ä¸å‡½æ•°ç¼–ç¨‹"/></a><div class="content"><a class="title" href="/posts/176/" title="PythonåŸºç¡€ - ç¨‹åºç»“æ„ä¸å‡½æ•°ç¼–ç¨‹">PythonåŸºç¡€ - ç¨‹åºç»“æ„ä¸å‡½æ•°ç¼–ç¨‹</a><time datetime="2021-04-27T03:45:30.000Z" title="å‘è¡¨äº 2021-04-27 11:45:30">2021-04-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/5311/" title="PythonåŸºç¡€ - ç±»å‹å’Œå¯¹è±¡"><img src="https://cdn.staticaly.com/gh/celestezj/Mirror1ImageHosting/master/compress/zjandxiong.webp" onerror="this.onerror=null;this.src='https://cdn.staticaly.com/gh/celestezj/ImageHosting/master/img/20210328224519.jpg'" alt="PythonåŸºç¡€ - ç±»å‹å’Œå¯¹è±¡"/></a><div class="content"><a class="title" href="/posts/5311/" title="PythonåŸºç¡€ - ç±»å‹å’Œå¯¹è±¡">PythonåŸºç¡€ - ç±»å‹å’Œå¯¹è±¡</a><time datetime="2021-04-24T12:55:45.000Z" title="å‘è¡¨äº 2021-04-24 20:55:45">2021-04-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/65257/" title="Butterflyé­”æ”¹éƒ¨åˆ†è®°å½•"><img src="https://cdn.staticaly.com/gh/celestezj/Mirror1ImageHosting/master/compress/20210328214628.webp" onerror="this.onerror=null;this.src='https://cdn.staticaly.com/gh/celestezj/ImageHosting/master/img/20210328224519.jpg'" alt="Butterflyé­”æ”¹éƒ¨åˆ†è®°å½•"/></a><div class="content"><a class="title" href="/posts/65257/" title="Butterflyé­”æ”¹éƒ¨åˆ†è®°å½•">Butterflyé­”æ”¹éƒ¨åˆ†è®°å½•</a><time datetime="2021-03-25T07:53:40.000Z" title="å‘è¡¨äº 2021-03-25 15:53:40">2021-03-25</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright"><span>&copy;2021 - 2023</span><span class="onespace">&nbsp;</span><svg style="width:1.5em; height:1.5em" aria-hidden="true"><use xlink:href="#icon-butterfly1"></use></svg><span>By Muggledy</span></div><div class="footer_custom_text"><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io/zh-cn/"><img src="https://img.shields.io/badge/Frame-Hexo-blue"/></a>&nbsp;&nbsp;<a target="_blank" rel="noopener external nofollow noreferrer" href="https://butterfly.js.org/"><img src="https://img.shields.io/badge/Theme-Butterfly-brightgreen"/></a>&nbsp;&nbsp;<a target="_blank" rel="noopener external nofollow noreferrer" href="https://pages.github.com/"><img src="https://img.shields.io/badge/Hosted-Github-red"/></a>&nbsp;&nbsp;<a target="_blank" rel="noopener external nofollow noreferrer" href="https://statically.io/"><img src="https://img.shields.io/badge/CDN-Staticaly-blueviolet"/></a></p></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç¹</button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="https://cdn.staticaly.com/gh/muggledy/muggledy.github.io/v1.2/js/utils.js"></script><script src="https://cdn.staticaly.com/gh/muggledy/muggledy.github.io/v6.6/js/main.js"></script><script defer src="https://cdn.staticaly.com/gh/muggledy/muggledy.github.io/v1.2/js/tw_cn.js"></script><script src="https://cdn.staticaly.com/gh/instantpage/instant.page/master/instantpage.min.js" type="module" defer></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://unpkg.com/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script defer src="https://cdn.staticaly.com/gh/muggledy/muggledy.github.io/v6.1/js/search/local-search.js"></script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.15.2/katex.min.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.15.2/contrib/copy-tex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.15.2/contrib/copy-tex.min.css"><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', '', 'katex-wrap')
  })
})()</script><script>if (document.getElementsByClassName('mermaid').length) {
  if (window.mermaidJsLoad) mermaid.init()
  else {
    getScript('https://unpkg.com/mermaid/dist/mermaid.min.js').then(() => {
      window.mermaidJsLoad = true
      mermaid.initialize({
        theme: 'default',
      })
      true && mermaid.init()
    })
  }
}</script><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'QydYkVWb5rbaSOLBJyV7cuLA-MdYXbMMI',
      appKey: 'SQj7LQtIxpmqfQoOUT5y0yq4',
      placeholder: 'å¿«æ¥è¯„è®ºå§~',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'zh-CN',
      recordIP: false,
      serverURLs: 'https://qydykvwb.api.lncldglobal.com',
      emojiCDN: '',
      emojiMaps: "",
      enableQQ: true,
      path: window.location.pathname,
      requiredFields: ["nick,mail"],
      visitor: false,
      master: '5f452633ebd48518f8778c240d946335,a483c79213701a5644bec62de88f974d'.split(','),
      friends: '34c64a0cb78287b2ae889cda5d9d2a91,574fbd33aa74a09d671f4608af20fd2b,9d4dec3cf85be4ed9bf2d4d783ade681,eb9916875df884c6da5c71c020719966'.split(',')
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.staticaly.com/gh/celestezj/Valine/master/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script><script>function addGitalkSource () {
  const ele = document.createElement('link')
  ele.rel = 'stylesheet'
  ele.href= 'https://cdn.staticaly.com/gh/gitalk/gitalk/master/dist/gitalk.min.css'
  document.getElementsByTagName('head')[0].appendChild(ele)
}

function loadGitalk () {
  function initGitalk () {
    var gitalk = new Gitalk(Object.assign({
      clientID: '05956758b57064d95a57',
      clientSecret: '3c4ddd74e671e3d79aac8417e708f69ff93b3e28',
      repo: 'muggledy.github.io',
      owner: 'muggledy',
      admin: ['muggledy'],
      id: 'f957a824741ca8a9f7319cbd51d0083d',
      language: 'zh-CN',
      perPage: 10,
      distractionFreeMode: false,
      pagerDirection: 'last',
      createIssueManually: false,
      updateCountCallback: commentCount
    },null))

    gitalk.render('gitalk-container')
  }

  if (typeof Gitalk === 'function') initGitalk()
  else {
    addGitalkSource()
    getScript('https://cdn.staticaly.com/gh/gitalk/gitalk/master/dist/gitalk.min.js').then(initGitalk)
  }
}

function commentCount(n){
  let isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
  if (isCommentCount) {
    isCommentCount.innerHTML= n
  }
}

if ('Valine' === 'Gitalk' || !false) {
  if (false) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
  else loadGitalk()
} else {
  function loadOtherComment () {
    loadGitalk()
  }
}</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[å›¾ç‰‡]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[é“¾æ¥]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[ä»£ç ]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const findTrueUrl = (array) => {
    let url = ''
    Promise.all(array.map(item =>
      fetch(item.url).then(resp => resp.json()).then(data => {
        if (data.user.login === 'utterances-bot') {
          url = data.body.match(/https?\:\/\/[^\" ]+/ig).slice(-1)
          return url[0]
        } else {
          url = data.body.match(/https?\:\/\/[^\" ]+/i)
          return url[0]
        }
      })
    )).then(res => {
        array = array.map((i,index)=> {
          return {
            ...i,
            url: res[index]
          }
        })

        saveToLocal.set('github-newest-comments', JSON.stringify(array), 5/(60*24))
        generateHtml(array)
    });
  }

  const getComment = () => {
    fetch('https://api.github.com/repos/muggledy/muggledy.github.io/issues/comments?sort=updated&direction=desc&per_page=6&page=1',{
      "headers": {
        Accept: 'application/vnd.github.v3.html+json'
      }
    })
      .then(response => response.json())
      .then(data => {
        const githubArray = data.map(item => {
          return {
            'avatar': item.user.avatar_url,
            'content': changeContent(item.body_html),
            'nick': item.user.login,
            'url': item.issue_url,
            'date': item.updated_at,
            'githubUrl': item.html_url
          }
        })
        findTrueUrl(githubArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "æ— æ³•è·å–è¯„è®ºï¼Œè¯·ç¡®è®¤ç›¸å…³é…ç½®æ˜¯å¦æ­£ç¡®ä»¥åŠç½‘ç»œæ˜¯å¦é€šç•…"
      })
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += 'æ²¡æœ‰è¯„è®º'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('github-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script src="https://cdn.staticaly.com/gh/muggledy/muggledy.github.io/v1.2/js/t_chart.js"></script><script async src="https://cdn.staticaly.com/gh/celestezj/ImageHosting/v3.7/data/funny_title/funny-title-js.js"></script><script async src="https://cdn.staticaly.com/gh/celestezj/ImageHosting/master/data/font_animal/font_animal.js"></script><script data-pjax src="https://cdn.staticaly.com/gh/muggledy/muggledy.github.io/v1.2/js/cal_rs.js"></script><script async src="https://cdn.staticaly.com/gh/celestezj/ImageHosting/master/data/visitors_map/vis_m.js"></script><script async src="https://at.alicdn.com/t/font_2494703_el3qb7r0dxv.js"></script><script async src="https://cdn.staticaly.com/gh/muggledy/muggledy.github.io/v6.4/js/go_cs.js"></script><script async src="/js/grayscale.js"></script><script src="https://unpkg.com/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script src="https://unpkg.com/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#web_bg',
  '#config-diff',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (false) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:complete', function () {
  if (typeof window.ifExe_addHighlightTool != 'undefined'){
      window.ifExe_addHighlightTool = true;
  }
  if (typeof window.ifExe_clickFnOfTagHide != 'undefined'){
      window.ifExe_clickFnOfTagHide = true;
  }
  if (typeof window.ifExe_addTableWrap != 'undefined'){
      window.ifExe_addTableWrap = true;
  }
  if (typeof window.ifExe_addPhotoFigcaption != 'undefined'){
      window.ifExe_addPhotoFigcaption = true;
  }
  if (typeof window.ifExe_jqLoadAndRun_jg != 'undefined'){
      window.ifExe_jqLoadAndRun_jg = true;
  }
  if (typeof window.ifExe_jqLoadAndRun_fb != 'undefined'){
      window.ifExe_jqLoadAndRun_fb = true;
  }
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})


document.addEventListener('pjax:send', function () {
  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script>function dogo(){
  var urls="/posts/17177/,/posts/65257/,/posts/22901/,/posts/35908/,/posts/176/,/posts/5311/";
  urls=urls.split(",");
  var n;
  while(true){
      n = Math.floor(Math.random()*urls.length);
      if (urls[n]!=getRelativeUrl()){break;}
  }
  pjax.loadUrl(urls[n]);
};</script><!--.dyminimenu--><!--  ul--><!--    li(onclick="wll_menu(1);")--><!--      span ğŸ“ æ·»åŠ miniä¾¿ç­¾--><!--    li(onclick="wll_menu(2);")--><!--      span ğŸ†‘ æ¸…ç©ºå½“å‰é¡µé¢--><!-- hexo injector body_end start --><script data-pjax>function history_calendar_injector_config(){
                var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
                var item_html = '<div class="card-widget card-history"><div class="card-content"><div class="item-headline"><i class="fas fa-clock fa-spin"></i><span>é‚£å¹´ä»Šæ—¥</span></div><div id="history-baidu" style="height: 100px;overflow: hidden"><div class="history_swiper-container" id="history-container" style="width: 100%;height: 100%"><div class="swiper-wrapper" id="history_container_wrapper" style="height:20px"></div></div></div></div>';
                console.log('å·²æŒ‚è½½history_calendar')
                // parent_div_git.innerHTML=item_html+parent_div_git.innerHTML // æ— æŠ¥é”™ï¼Œä½†ä¸å½±å“ä½¿ç”¨(æ”¯æŒpjaxè·³è½¬)
                parent_div_git.insertAdjacentHTML("afterbegin",item_html) // æœ‰æŠ¥é”™ï¼Œä½†ä¸å½±å“ä½¿ç”¨(æ”¯æŒpjaxè·³è½¬)
            }if( document.getElementsByClassName('sticky_layout')[0] && (location.pathname ==='/'|| '/' ==='all')){

            history_calendar_injector_config()
        } </script><script data-pjax  src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script><script data-pjax src="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-card-history/baiduhistory/js/main.js"></script><!-- hexo injector body_end end --></body><script>document.addEventListener('touchmove', function (e) { e.preventDefault(); }, false)</script><script async data-pjax>if (IsPC()){
  btf.isJqueryLoad(image_preview_wrapper)
}
btf.isJqueryLoad(dybubblefn)</script></html>